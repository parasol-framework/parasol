<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="-//W3C//DTD XHTML 1.1//EN" xml:lang="en" xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><script type="text/javascript" async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8254DG7MT6"> </script><script type="text/javascript">
	   window.dataLayer = window.dataLayer || [];
	   function gtag(){dataLayer.push(arguments);}
	   gtag('js', new Date());
      gtag('config', 'G-8254DG7MT6');</script><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="description" content="Parasol Framework documentation, machine generated from source"></meta><meta name="author" content="Paul Manias"></meta><link rel="icon" href="/favicon.ico"></link><title>Parasol Framework Manual</title><link href="../../css/bootstrap.min.css" rel="stylesheet"></link><link href="../../css/module-template.css" rel="stylesheet"></link><script type="text/javascript">
          var shiftWindow = function() { scrollBy(0, -100) };
          window.addEventListener("hashchange", shiftWindow);
          function load() { if (window.location.hash) shiftWindow(); }
        </script></head><body><nav class="navbar navbar-expand-sm navbar-dark bg-dark"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="../../index.html">Parasol Framework</a></div><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="nav-item"><a class="nav-link" href="../../gallery.html">Gallery</a></li><li class="nav-item"><a class="nav-link" href="../api.html">API</a></li><li class="nav-item"><a class="nav-link" href="../../wiki/Home.html">Wiki</a></li><li class="nav-item"><a class="nav-link" href="https://github.com/parasol-framework/parasol">GitHub</a></li></ul></div></div></nav>
<div class="container-fluid"><div class="row"><div class="d-sm-block d-none col-3 sidebar" style="max-width: 230px;"><div class="flex-shrink-1 pt-2 pe-2 sticky-top overflow-auto vh-100 b-shadow">
<ul class="list-unstyled"><li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#mod-collapse" aria-expanded="false">Modules</button><div class="collapse" id="mod-collapse"><ul class="btn-toggle-nav list-unstyled fw-normal"><li class="api-ref"><a class="rounded" href="../audio.html">Audio</a></li><li class="api-ref"><a class="rounded" href="../core.html">Core</a></li><li class="api-ref"><a class="rounded" href="../display.html">Display</a></li><li class="api-ref"><a class="rounded" href="../fluid.html">Fluid</a></li><li class="api-ref"><a class="rounded" href="../font.html">Font</a></li><li class="api-ref"><a class="rounded" href="../network.html">Network</a></li><li class="api-ref"><a class="rounded" href="../vector.html">Vector</a></li></ul></div></li></ul>
<ul class="list-unstyled"><li class="border-top my-3"></li><li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#audio-collapse" aria-expanded="false">Audio</button><div class="collapse" id="audio-collapse"><ul class="btn-toggle-nav list-unstyled fw-normal pb-1"><li class="api-ref"><a class="rounded" href="audio.html">Audio</a></li><li class="api-ref"><a class="rounded" href="sound.html">Sound</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#core-collapse" aria-expanded="false">Core</button><div class="collapse" id="core-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="file.html">File</a></li><li class="api-ref"><a class="rounded" href="metaclass.html">MetaClass</a></li><li class="api-ref"><a class="rounded" href="module.html">Module</a></li><li class="api-ref"><a class="rounded" href="storagedevice.html">StorageDevice</a></li><li class="api-ref"><a class="rounded" href="task.html">Task</a></li><li class="api-ref"><a class="rounded" href="thread.html">Thread</a></li><li class="api-ref"><a class="rounded" href="time.html">Time</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#data-collapse" aria-expanded="false">Data</button><div class="collapse" id="data-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="compression.html">Compression</a></li><li class="api-ref"><a class="rounded" href="config.html">Config</a></li><li class="api-ref"><a class="rounded" href="script.html">Script</a></li><li class="api-ref"><a class="rounded" href="xml.html">XML</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#devices-collapse" aria-expanded="false">Devices</button><div class="collapse" id="devices-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="controller.html">Controller</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#effects-collapse" aria-expanded="false">Effects</button><div class="collapse" id="effects-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="blurfx.html">BlurFX</a></li><li class="api-ref"><a class="rounded" href="colourfx.html">ColourFX</a></li><li class="api-ref"><a class="rounded" href="compositefx.html">CompositeFX</a></li><li class="api-ref"><a class="rounded" href="convolvefx.html">ConvolveFX</a></li><li class="api-ref"><a class="rounded" href="displacementfx.html">DisplacementFX</a></li><li class="api-ref"><a class="rounded" href="filtereffect.html">FilterEffect</a></li><li class="api-ref"><a class="rounded" href="floodfx.html">FloodFX</a></li><li class="api-ref"><a class="rounded" href="imagefx.html">ImageFX</a></li><li class="api-ref"><a class="rounded" href="lightingfx.html">LightingFX</a></li><li class="api-ref"><a class="rounded" href="mergefx.html">MergeFX</a></li><li class="api-ref"><a class="rounded" href="morphologyfx.html">MorphologyFX</a></li><li class="api-ref"><a class="rounded" href="offsetfx.html">OffsetFX</a></li><li class="api-ref"><a class="rounded" href="remapfx.html">RemapFX</a></li><li class="api-ref"><a class="rounded" href="sourcefx.html">SourceFX</a></li><li class="api-ref"><a class="rounded" href="turbulencefx.html">TurbulenceFX</a></li><li class="api-ref"><a class="rounded" href="wavefunctionfx.html">WaveFunctionFX</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#ext-collapse" aria-expanded="false">Extensions</button><div class="collapse" id="ext-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="scintilla.html">Scintilla</a></li><li class="api-ref"><a class="rounded" href="scintillasearch.html">ScintillaSearch</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#gfx-collapse" aria-expanded="false">Graphics</button><div class="collapse" id="gfx-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="bitmap.html">Bitmap</a></li><li class="api-ref"><a class="rounded" href="clipboard.html">Clipboard</a></li><li class="api-ref"><a class="rounded" href="display.html">Display</a></li><li class="api-ref"><a class="rounded" href="document.html">Document</a></li><li class="api-ref"><a class="rounded" href="font.html">Font</a></li><li class="api-ref"><a class="rounded" href="picture.html">Picture</a></li><li class="api-ref"><a class="rounded" href="pointer.html">Pointer</a></li><li class="api-ref"><a class="rounded" href="surface.html">Surface</a></li><li class="api-ref"><a class="rounded" href="svg.html">SVG</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#net-collapse" aria-expanded="false">Network</button><div class="collapse" id="net-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="clientsocket.html">ClientSocket</a></li><li class="api-ref"><a class="rounded" href="http.html">HTTP</a></li><li class="api-ref"><a class="rounded" href="netclient.html">NetClient</a></li><li class="api-ref"><a class="rounded" href="netsocket.html">NetSocket</a></li><li class="api-ref"><a class="rounded" href="proxy.html">Proxy</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#vectors-collapse" aria-expanded="false">Vectors</button><div class="collapse" id="vectors-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="vector.html">Vector</a></li><li class="api-ref"><a class="rounded" href="vectorclip.html">VectorClip</a></li><li class="api-ref"><a class="rounded" href="vectorcolour.html">VectorColour</a></li><li class="api-ref"><a class="rounded" href="vectorellipse.html">VectorEllipse</a></li><li class="api-ref"><a class="rounded" href="vectorfilter.html">VectorFilter</a></li><li class="api-ref"><a class="rounded" href="vectorgradient.html">VectorGradient</a></li><li class="api-ref"><a class="rounded" href="vectorgroup.html">VectorGroup</a></li><li class="api-ref"><a class="rounded" href="vectorimage.html">VectorImage</a></li><li class="api-ref"><a class="rounded" href="vectorpath.html">VectorPath</a></li><li class="api-ref"><a class="rounded" href="vectorpattern.html">VectorPattern</a></li><li class="api-ref"><a class="rounded" href="vectorpolygon.html">VectorPolygon</a></li><li class="api-ref"><a class="rounded" href="vectorrectangle.html">VectorRectangle</a></li><li class="api-ref"><a class="rounded" href="vectorscene.html">VectorScene</a></li><li class="api-ref"><a class="rounded" href="vectorshape.html">VectorShape</a></li><li class="api-ref"><a class="rounded" href="vectorspiral.html">VectorSpiral</a></li><li class="api-ref"><a class="rounded" href="vectortext.html">VectorText</a></li><li class="api-ref"><a class="rounded" href="vectortransition.html">VectorTransition</a></li><li class="api-ref"><a class="rounded" href="vectorviewport.html">VectorViewport</a></li><li class="api-ref"><a class="rounded" href="vectorwave.html">VectorWave</a></li></ul></div></li></ul></div></div>
<div class="col-sm-9" style="max-width: 1200px;"><div class="docs-content" style="display:none;" id="default-page"><div class="page-header"><h1>XML Class</h1></div><p class="lead">Provides XML data management services for parsing, manipulation and serialisation.</p>
<p>The XML class is designed to provide robust functionality for creating, parsing and maintaining XML data structures. It supports both well-formed and loosely structured XML documents, offering flexible parsing behaviours to accommodate various XML formats.  The class includes comprehensive support for XPath queries, content manipulation and document validation.</p>
<h4>Data Loading and Parsing</h4>
<p>XML documents can be loaded into an XML object through multiple mechanisms:</p>
<p>The <a data-bs-toggle="tooltip" title="Set this field if the XML document originates from a file source." href="#tf-Path">Path</a> field allows loading from file system sources, with automatic parsing upon initialisation.  The class supports <a href="core.html?page=LoadFile">LoadFile()</a> caching for frequently accessed files, improving performance for repeated operations.</p>
<p>The <a data-bs-toggle="tooltip" title="XML data is processed through this field." href="#tf-Statement">Statement</a> field enables direct parsing of XML strings, supporting dynamic content processing and in-memory document construction.</p>
<p>The <a data-bs-toggle="tooltip" title="Set this field if the XML data is to be sourced from another object." href="#tf-Source">Source</a> field provides object-based input, allowing XML data to be sourced from any object supporting the Read action.</p>
<p>For batch processing scenarios, the Path or Statement fields can be reset post-initialisation, causing the XML object to automatically rebuild itself.  This approach optimises memory usage by reusing existing object instances rather than creating new ones.</p>
<h4>Document Structure and Access</h4>
<p>Successfully parsed XML data is accessible through the <a data-bs-toggle="tooltip" title="Provides direct access to the XML document structure." href="#tf-Tags">Tags</a> field, which contains a hierarchical array of <a data-bs-toggle="tooltip" title="" href="?page=struct-XMLTag">XMLTag</a> structures.  Each XMLTag represents a complete XML element including its attributes, content and child elements. The structure maintains the original document hierarchy, enabling both tree traversal and direct element access.</p>
<p>C++ developers benefit from direct access to the Tags field, represented as <code>pf::vector&lt;XMLTag&gt;</code>.  This provides efficient iteration and element access with standard STL semantics.  However, direct modification of the Tags array is discouraged as it can destabilise internal object state - developers should use the provided methods for safe manipulation.</p>
<h3>Structure</h3><p>The XML class consists of the following fields:</p><table class="table"><thead><th class="col-md-1"><div data-bs-toggle="tooltip" title="Read/Write access indicators are listed below">Access</div></th><th class="col-md-1">Name</th><th class="col-md-1">Type</th><th>Comment</th></thead><tbody><tr data-bs-toggle="collapse" data-bs-target="#fl-Flags" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Flags"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct write access"></i></td><th class="col-md-1">Flags</th><td class="col-md-1"><span class="text-nowrap">XMF</span></td><td>Controls XML parsing behaviour and processing options.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Flags" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">XMF::AUTO_DECLARE_NAMESPACES</th><td>Auto-add namespace declarations when needed.</td></tr>
<tr><th class="col-md-1">XMF::INCLUDE_COMMENTS</th><td>By default, comments are stripped when parsing XML input unless this flag is specified.</td></tr>
<tr><th class="col-md-1">XMF::INCLUDE_SIBLINGS</th><td>Include siblings when building an XML string (<a data-bs-toggle="tooltip" title="" href="#ta-GetXMLString">GetXMLString()</a> only)</td></tr>
<tr><th class="col-md-1">XMF::INCLUDE_WHITESPACE</th><td>By default the XML parser will trim whitespace (such as return codes, spaces and tabs) found in the XML content between tags.  Setting this flag turns off this feature, allowing all whitespace to be included.</td></tr>
<tr><th class="col-md-1">XMF::INDENT</th><td>Indent the output of serialised XML to improve readability.</td></tr>
<tr><th class="col-md-1">XMF::LOCK_REMOVE</th><td>Prevents removal of tags from the XML tree.  This specifically affects the RemoveTag and RemoveXPath methods.</td></tr>
<tr><th class="col-md-1">XMF::LOG_ALL</th><td>Print extra log messages.</td></tr>
<tr><th class="col-md-1">XMF::NAMESPACE_AWARE</th><td>Enable namespace processing during parsing.</td></tr>
<tr><th class="col-md-1">XMF::NEW</th><td>Creates an empty XML object on initialisation - if the <a data-bs-toggle="tooltip" title="Set this field if the XML document originates from a file source." href="#tf-Path">Path</a> field has been set, the source file will not be loaded.</td></tr>
<tr><th class="col-md-1">XMF::NO_ESCAPE</th><td>Turns off escape code conversion.</td></tr>
<tr><th class="col-md-1">XMF::OMIT_TAGS</th><td>Prevents tags from being output when the XML is serialised (output content only).</td></tr>
<tr><th class="col-md-1">XMF::PARSE_ENTITY</th><td>Entity references in the DTD will be parsed automatically.</td></tr>
<tr><th class="col-md-1">XMF::PARSE_HTML</th><td>Automatically parse HTML escape codes.</td></tr>
<tr><th class="col-md-1">XMF::PRESERVE_NAMESPACE_PREFIXES</th><td>Keep original prefixes in output.</td></tr>
<tr><th class="col-md-1">XMF::READABLE</th><td>Indent the output of serialised XML to improve readability.</td></tr>
<tr><th class="col-md-1">XMF::STRIP_CDATA</th><td>Do not echo <code>CDATA</code> sections.  Note that this option is used as a parameter, not an object flag.</td></tr>
<tr><th class="col-md-1">XMF::STRIP_CONTENT</th><td>Strip all content from incoming XML data.</td></tr>
<tr><th class="col-md-1">XMF::STRIP_HEADERS</th><td>XML headers found in the source data will not be included in the parsed results.</td></tr>
<tr><th class="col-md-1">XMF::VALIDATE_NAMESPACES</th><td>Validate namespace declarations and references.</td></tr>
<tr><th class="col-md-1">XMF::WELL_FORMED</th><td>By default, the XML class will accept badly structured XML data.  This flag requires that XML statements must be well-formed (tags must balance) or an <code>ERR::BadData</code> error will be returned during processing.</td></tr>
</tbody></table>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Modified" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Modified"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Modified</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>A timestamp of when the XML data was last modified.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Modified" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The Modified field provides an artificial timestamp value of when the XML data was last modified (e.g. by a tag insert or update).  Storing the current Modified value and making comparisons later makes it easy to determine that a change has been made.  A rough idea of the total number of change requests can also be calculated by subtracting out the difference.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Path" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Path"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Path</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Set this field if the XML document originates from a file source.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Path" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>XML documents can be loaded from the file system by specifying a file path in this field.  If set post-initialisation, all currently loaded data will be cleared and the file will be parsed automatically.</p>
<p>The XML class supports <a href="core.html?page=LoadFile">LoadFile()</a>, so an XML file can be pre-cached by the program if it is frequently used during a program's life cycle.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-ReadOnly" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-ReadOnly"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">ReadOnly</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Prevents modifications and enables caching for a loaded XML data source.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-ReadOnly" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field can be set to <code>true</code> prior to initialisation of an XML object that will use an existing data source.  It prevents modifications to the XML object.  If the data originates from a file path, the data may be cached to optimise parsing where the same data is used across multiple XML objects.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Source" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Source"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">Source</th><td class="col-md-1"><span class="text-nowrap">OBJECTPTR</span></td><td>Set this field if the XML data is to be sourced from another object.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Source" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>An XML document can be loaded from another object by referencing it here, on the condition that the object's class supports the Read action.</p>
<p>If set post-initialisation, all currently loaded data will be cleared and the source object will be parsed automatically.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Start" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Start"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct write access"></i></td><th class="col-md-1">Start</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Set a starting cursor to affect the starting point for some XML operations.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Start" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>When using any XML function that creates an XML string (e.g. SaveToObject), the XML object will include the entire XML tree by default.  Defining the Start value will restrict processing to a specific tag and its children.</p>
<p>The Start field currently affects the <a data-bs-toggle="tooltip" title="Saves XML data to a storage object (e.g. File)." href="#ta-SaveToObject">SaveToObject()</a> action and the <a data-bs-toggle="tooltip" title="XML data is processed through this field." href="#tf-Statement">Statement</a> field.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Statement" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Statement"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Statement</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>XML data is processed through this field.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Statement" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Set the Statement field to parse an XML formatted data string through the object.  If this field is set after initialisation then the XML object will clear any existing data first.</p>
<p>Be aware that setting this field with an invalid statement will result in an empty XML object.</p>
<p>Reading the Statement field will return a serialised string of XML data.  By default all tags will be included in the statement unless a predefined starting position is set by the <a data-bs-toggle="tooltip" title="Set a starting cursor to affect the starting point for some XML operations." href="#tf-Start">Start</a> field.  The string result is an allocation that must be freed.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Tags" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Tags"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Tags</th><td class="col-md-1"><span class="text-nowrap">STRUCT []</span></td><td>Provides direct access to the XML document structure.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Tags" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The Tags field exposes the complete XML document structure as a hierarchical array of <a data-bs-toggle="tooltip" title="" href="?page=struct-XMLTag">XMLTag</a> structures.  This field becomes available after successful XML parsing and provides the primary interface for reading XML content programmatically.</p>
<p>Each <a data-bs-toggle="tooltip" title="" href="?page=struct-XMLTag">XMLTag</a> will have at least one attribute set in the <code>Attribs</code> array.  The first attribute will either reflect the tag name or a content string if the <code>Name</code> is undefined.  The <code>Children</code> array provides access to all child elements.</p>
<p>Direct read access to the Tags hierarchy is safe and efficient for traversing the document structure.  However, modifications should be performed using the XML object's methods (<a data-bs-toggle="tooltip" title="Parse an XML string and insert it in the XML tree." href="#tm-InsertXML">InsertXML()</a>, <a data-bs-toggle="tooltip" title="Adds, updates and removes XML attributes." href="#tm-SetAttrib">SetAttrib()</a>, <a data-bs-toggle="tooltip" title="Removes tag(s) from the XML structure." href="#tm-RemoveTag">RemoveTag()</a>, etc.) to maintain internal consistency and trigger appropriate cache invalidation.</p>
<p>NOTE: Fluid will copy this field on read, caching the value is therefore recommended.</p>
      
</div></div></td></tr>
</tbody></table><h3>Actions</h3><p>The following actions are currently supported:</p><table class="table"><tbody><tr data-bs-toggle="collapse" data-bs-target="#tac-Clear" style="scroll-margin:3em;" id="ta-Clear" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">Clear</th><td>Completely clears all XML data and resets the object to its initial state.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-Clear" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acClear(*Object)</samp></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The Clear action removes all parsed XML content from the object, including the complete tag hierarchy, cached data structures and internal state information.  This action effectively returns the XML object to its freshly-initialised condition, ready to accept new XML data.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-DataFeed" style="scroll-margin:3em;" id="ta-DataFeed" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">DataFeed</th><td>Processes and integrates external XML data into the object's document structure.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-DataFeed" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acDataFeed(*Object, OBJECTID Object, DATA Datatype, APTR Buffer, INT Size)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Object</td><td>Must refer to the unique ID of the object that you represent. If you do not represent an object, set this parameter to the current task ID.</td></tr>
<tr><td><a href="../core.html?page=DATA">Datatype</a></td><td>The type of data being sent.</td></tr>
<tr><td>Buffer</td><td>The data being sent to the target object.</td></tr>
<tr><td>Size</td><td>The size of the data in Buffer.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The DataFeed action provides a mechanism for supplying XML content to the object from external sources or streaming data.  This action supports both complete document replacement and incremental content addition, depending on the current state of the XML object.</p>
<p>The action accepts data in XML or plain text format and automatically performs parsing and integration.  When the object contains no existing content, the provided data becomes the complete document structure.  If the object already contains parsed XML, the new data is parsed separately and appended to the existing tag hierarchy.</p>
<p>If the provided data contains malformed XML or cannot be parsed according to the current validation settings, the action will return appropriate error codes without modifying the existing document structure.  This ensures that partial parsing failures do not corrupt previously loaded content.</p>
<p>Attempts to feed data into a read-only XML object will be rejected to maintain document integrity.</p>
<p>Example:</p>
<code>
local xml = obj.new('xml')
local err = xml.acDataFeed(nil, DATA_XML, 'First element')
</code>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-GetKey" style="scroll-margin:3em;" id="ta-GetKey" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">GetKey</th><td>Retrieves data from an xml object.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-GetKey" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acGetKey(*Object, CSTRING Key, STRING Value, INT Size)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Key</td><td>The name of a key value.</td></tr>
<tr><td>Value</td><td>Pointer to a buffer space large enough to hold the retrieved value.</td></tr>
<tr><td>Size</td><td>Indicates the byte size of the Buffer.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The XML class uses key-values for the execution of XPath queries.  Documentation of the XPath standard is out of the scope for this document, however the following examples illustrate the majority of uses for this query language and a number of special instructions that we support:</p>
<table class="table"><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">/menu/submenu</th><td>Return the content of the submenu tag whose parent is the first menu.</td></tr>
<tr><th class="col-md-1">xpath:/menu[2]/submenu</th><td>Return the content of the submenu tag whose parent is the third menu.</td></tr>
<tr><th class="col-md-1">count:/menu</th><td>Return a count of all menu tags at the root level.</td></tr>
<tr><th class="col-md-1">xml:/menu/window/@title</th><td>Return the value of the title attribute from the window tag.</td></tr>
<tr><th class="col-md-1">content:/menu/window(@title='foo')</th><td>Return the content of the window tag which has title <code>foo</code>.</td></tr>
<tr><th class="col-md-1">extract:/menu/window(@title='bar')</th><td>Extract all XML starting from the window tag that has title <code>bar</code>.</td></tr>
<tr><th class="col-md-1">extract:/menu//window(=apple)</th><td>Extract all XML from the first window tag found anywhere inside <code>&lt;menu&gt;</code> that contains content <code>apple</code>.</td></tr>
<tr><th class="col-md-1">extract-under:/menu/window(@title='bar')</th><td>Extract all XML underneath the window tag that has title <code>bar</code>.</td></tr>
<tr><th class="col-md-1">exists:/menu/@title</th><td>Return <code>1</code> if a menu with a title attribute can be matched, otherwise <code>0</code>.</td></tr>
<tr><th class="col-md-1">contentexists:/menu</th><td>Return <code>1</code> if if the immediate child tags of the XPath contain text (white space is ignored).</td></tr>
<tr><th class="col-md-1">//window</th><td>Return content of the first window discovered at any branch of the XML tree (double-slash enables flat scanning of the XML tree).</td></tr>
</tbody></table>
<p>The <code>xpath</code>, <code>xml</code> and <code>/</code> prefixes are all identical in identifying the start of an xpath.  The <code>content</code> prefix is used to specifically extract the content of the tag that matches the xpath.  Square brackets and round brackets may be used interchangeably for lookups and filtering clauses.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-Reset" style="scroll-margin:3em;" id="ta-Reset"><td style="width:1%; border-top-style: none; border-bottom-style: none;"></td><th class="col-md-1 text-primary">Reset</th><td>Clears the information held in an XML object.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-SaveToObject" style="scroll-margin:3em;" id="ta-SaveToObject" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">SaveToObject</th><td>Saves XML data to a storage object (e.g. <a href="file.html">File</a>).</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-SaveToObject" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acSaveToObject(*Object, OBJECTID Dest, CLASSID ClassID)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Dest</td><td>Refers to an object that will receive the encoded data.</td></tr>
<tr><td>ClassID</td><td>Can refer to a sub-class that should be used when encoding the data.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;"></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-SetKey" style="scroll-margin:3em;" id="ta-SetKey" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">SetKey</th><td>Sets attributes and content in the XML tree using XPaths.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-SetKey" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acSetKey(*Object, CSTRING Key, CSTRING Value)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Key</td><td>The name of the target key.</td></tr>
<tr><td>Value</td><td>The string value to associate with Key.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>Use SetKey to add tag attributes and content using XPaths.  The XPath is specified in the <code>Key</code> parameter and the data is specified in the <code>Value</code> parameter.  Setting the Value to <code>NULL</code> will remove the attribute or existing content, while an empty string will keep an attribute but eliminate any associated data.</p>
<p>It is not possible to add new tags using this action - it is only possible to update existing tags.</p>
<p>Please note that making changes to the XML tree will render all previously obtained tag pointers and indexes invalid.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">Search</th><td>Failed to find the tag referenced by the XPath.</td></tr>
<tr><th class="col-md-1">ReadOnly</th><td>Changes to the XML structure are not permitted.</td></tr>
</tbody></table></div></div></td></tr>
</tbody></table><h3>Methods</h3><p>The following methods are currently supported:</p><table class="table"><tbody><tr data-bs-toggle="collapse" data-bs-target="#tmx-Count" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">Count</th><td id="tm-Count">Count all tags that match a given XPath expression.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-Count" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::Count(OBJECTPTR Object, CSTRING XPath, INT * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>XPath</td><td>A valid XPath expression string defining the elements to count.  The expression must conform to XPath 1.0 syntax with Parasol extensions.</td></tr>
<tr><td>Result</td><td>Pointer to an integer variable that will receive the total count of matching tags.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method will count all tags that match a given <code>XPath</code> and return the value in the <code>Result</code> parameter.  It is optimised for performance and does not modify the XML structure in any way.  It is safe to call concurrently from multiple threads.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The count operation completed successfully.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Either the XPath parameter or Result parameter was NULL.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-Filter" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">Filter</th><td id="tm-Filter">Filters the XML data structure to retain only a specific tag and its descendants.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-Filter" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::Filter(OBJECTPTR Object, CSTRING XPath)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>XPath</td><td>A valid XPath expression string that identifies the target tag to retain.  The expression must resolve to exactly one element for successful filtering.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The Filter method provides a mechanism for reducing large XML documents to a specific subtree, permanently removing all content that exists outside the targeted element and its children.  This operation is particularly valuable for performance optimisation when working with large documents where only a specific section is relevant.</p>
<p>The filtering process begins by locating the target element using the provided XPath expression.  Once found, a new XML structure is created containing only the matched tag and its complete descendant hierarchy.  All sibling tags, parent elements (excluding the direct lineage) and unrelated branches are permanently discarded.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The filtering operation completed successfully and the XML structure now contains only the specified subtree.</td></tr>
<tr><th class="col-md-1">Search</th><td>No matching tag could be found for the specified XPath expression.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>The XPath parameter was NULL or empty.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-FindTag" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">FindTag</th><td id="tm-FindTag">Searches for XML elements using XPath expressions with optional callback processing.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-FindTag" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::FindTag(OBJECTPTR Object, CSTRING XPath, FUNCTION * Callback, INT * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>XPath</td><td>A valid XPath expression string conforming to XPath 1.0 syntax with Parasol extensions.  Must not be NULL or empty.</td></tr>
<tr><td>Callback</td><td>Optional pointer to a callback function for processing multiple matches.</td></tr>
<tr><td>Result</td><td>Pointer to an integer that will receive the unique ID of the first matching tag.  Only valid when no callback is provided.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The FindTag method provides the primary mechanism for locating XML elements within the document structure using XPath 1.0 compatible expressions.  The method supports both single-result queries and comprehensive tree traversal with callback-based processing for complex operations.</p>
<p>The method supports comprehensive XPath syntax including absolute paths, attribute matching, content matching (a Parasol extension), wildcarding, deep scanning with double-slash notation, indexed access and complex expressions with multiple criteria.</p>
<p>When no callback function is provided, FindTag returns the first matching element and terminates the search immediately.  This is optimal for simple queries where only the first occurrence is required.</p>
<p>When a callback function is specified, FindTag continues searching through the entire document structure, calling the provided function for each matching element.  This enables comprehensive processing of all matching elements in a single traversal.</p>
<p>The C++ prototype for the callback function is <code>ERR Function(*XML, XMLTag &amp;Tag, CSTRING Attrib)</code>.</p>
<p>The callback should return <code>ERR::Okay</code> to continue processing, or <code>ERR::Terminate</code> to halt the search immediately.  All other error codes are ignored to maintain search robustness.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>A matching tag was found (or callback processing completed successfully).</td></tr>
<tr><th class="col-md-1">Search</th><td>No matching tag could be found for the specified XPath expression.</td></tr>
<tr><th class="col-md-1">NoData</th><td>The XML document contains no data to search.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>The XPath parameter was NULL or the Result parameter was NULL when no callback was provided.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-GetAttrib" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">GetAttrib</th><td id="tm-GetAttrib">Retrieves the value of a specific XML attribute from a tagged element.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-GetAttrib" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::GetAttrib(OBJECTPTR Object, INT Index, CSTRING Attrib, CSTRING * Value)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>The unique identifier of the XML tag to search.  This must correspond to a valid tag ID as returned by methods such as <a data-bs-toggle="tooltip" title="Searches for XML elements using XPath expressions with optional callback processing." href="#tm-FindTag">FindTag()</a>.</td></tr>
<tr><td>Attrib</td><td>The name of the attribute to retrieve (case insensitive).  If NULL or empty, the element's tag name is returned instead.</td></tr>
<tr><td>Value</td><td>Pointer to a string pointer that will receive the attribute value.  Set to NULL if the specified attribute does not exist.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The GetAttrib method provides efficient access to individual attribute values within XML elements.  Given a tag identifier and attribute name, the method performs a case-insensitive search through the element's attribute collection and returns the corresponding value.</p>
<p>When a specific attribute name is provided, the method searches through all attributes of the target tag.  The search is case-insensitive to accommodate XML documents with varying capitalisation conventions.</p>
<p>When the attribute name is NULL or empty, the method returns the tag name itself, providing convenient access to element names without requiring separate API calls.</p>
<h4>Performance Considerations</h4>
<p>For applications requiring frequent attribute access or high-performance scenarios, C++ developers should consider direct access to the <a data-bs-toggle="tooltip" title="" href="?page=struct-XMLAttrib">XMLAttrib</a> structure array.  This bypasses the method call overhead and provides immediate access to all attributes simultaneously.</p>
<p>The method performs a linear search through the attribute collection, so performance scales with the number of attributes per element.  For elements with many attributes, caching frequently accessed values may improve performance.</p>
<h4>Data Integrity</h4>
<p>The returned string pointer references internal XML object memory and remains valid until the XML structure is modified.  Callers should not attempt to modify or free the returned string.  For persistent storage, the string content should be copied to application-managed memory.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The attribute was successfully found and its value returned.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>Either the specified tag Index does not exist, or the named attribute was not found within the tag.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required arguments were not specified correctly.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-GetContent" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">GetContent</th><td id="tm-GetContent">Extracts the immediate text content of an XML element, excluding nested tags.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-GetContent" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::GetContent(OBJECTPTR Object, INT Index, STRING Buffer, INT Length)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>The unique identifier of the XML element from which to extract content.  This must correspond to a valid tag ID as returned by search methods.</td></tr>
<tr><td>Buffer</td><td>Pointer to a pre-allocated character buffer that will receive the extracted content string.  Must not be NULL.</td></tr>
<tr><td>Length</td><td>The size of the provided buffer in bytes, including space for null termination.  Must be at least 1.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The GetContent method provides efficient extraction of text content from XML elements using a shallow parsing approach. It retrieves only the immediate text content of the specified element, deliberately excluding any text contained within nested child elements.  This behaviour is valuable for scenarios requiring precise content extraction without recursive tag processing.</p>
<p>Consider the following XML structure:</p>
<pre>&lt;body&gt;
  Hello
  &lt;bold&gt;emphasis&lt;/bold&gt;
  world!
&lt;/body&gt;
</pre>
<p>The GetContent method would extract <code>Hello world!</code> and deliberately exclude <code>emphasis</code> since it is contained within the nested <code>&lt;bold&gt;</code> element.</p>
<h4>Comparison with Deep Extraction</h4>
<p>For scenarios requiring complete text extraction including all nested content, use the <a data-bs-toggle="tooltip" title="Serialise part of the XML tree to an XML string." href="#tm-Serialise">Serialise()</a> method with appropriate flags to perform deep content analysis.  The GetContent method is optimised for cases where nested tag content should be excluded from the result.</p>
<p>If the resulting content exceeds the buffer capacity, the result will be truncated but remain null-terminated.</p>
<p>It is recommended that C++ programs bypass this method and access the <a data-bs-toggle="tooltip" title="" href="?page=struct-XMLAttrib">XMLAttrib</a> structure directly.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The content string was successfully extracted and copied to the buffer.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>The tag identified by Index does not exist in the XML structure.</td></tr>
<tr><th class="col-md-1">Args</th><td>The Length parameter was less than 1, indicating insufficient buffer space.</td></tr>
<tr><th class="col-md-1">BufferOverflow</th><td>The buffer was not large enough to hold the complete content.  The result is truncated but valid.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Either the Buffer parameter was NULL or other required arguments were missing.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-GetNamespaceURI" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">GetNamespaceURI</th><td id="tm-GetNamespaceURI">Retrieve the namespace URI for a given namespace UID.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-GetNamespaceURI" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::GetNamespaceURI(OBJECTPTR Object, UINT NamespaceID, CSTRING * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>NamespaceID</td><td>The UID of the namespace.</td></tr>
<tr><td>Result</td><td>Pointer to a string pointer that will receive the namespace URI.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method retrieves the original namespace URI string for a given namespace UID.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The namespace URI was successfully retrieved.</td></tr>
<tr><th class="col-md-1">Search</th><td>No namespace found for the specified UID.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required arguments were not specified correctly.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-GetTag" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">GetTag</th><td id="tm-GetTag">Returns a pointer to the <a data-bs-toggle="tooltip" title="" href="?page=struct-XMLTag">XMLTag</a> structure for a given tag index.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-GetTag" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::GetTag(OBJECTPTR Object, INT Index, struct XMLTag ** Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>The index of the tag that is being retrieved.</td></tr>
<tr><td>Result</td><td>The <a data-bs-toggle="tooltip" title="" href="?page=struct-XMLTag">XMLTag</a> is returned in this parameter.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method will return the <a data-bs-toggle="tooltip" title="" href="?page=struct-XMLTag">XMLTag</a> structure for a given tag <code>Index</code>.  The <code>Index</code> is checked to ensure it is valid prior to retrieval, and an <code>ERR::OutOfRange</code> error will be returned if it is invalid.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>The Index is not recognised.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-InsertContent" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">InsertContent</th><td id="tm-InsertContent">Inserts text content into the XML document structure at specified positions.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-InsertContent" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::InsertContent(OBJECTPTR Object, INT Index, XMI Where, CSTRING Content, INT * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>The unique identifier of the target XML element that will serve as the reference point for insertion.</td></tr>
<tr><td><a href="?page=XMI">Where</a></td><td>Specifies the insertion position relative to the target element.  Use PREV or NEXT for sibling insertion, or CHILD for child content insertion.</td></tr>
<tr><td>Content</td><td>The text content to insert.  Special XML characters will be automatically escaped to ensure document validity.</td></tr>
<tr><td>Result</td><td>Pointer to an integer that will receive the unique identifier of the newly created content node.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The InsertContent method will insert content strings into any position within the XML tree.  A content string must be provided in the <code>Content</code> parameter and the target insertion point is specified in the <code>Index</code> parameter. An insertion point relative to the target index must be specified in the <code>Where</code> parameter.  The new tags can be inserted as a child of the target by using a <code>Where</code> value of <code>XMI::CHILD</code>.  To insert behind or after the target, use <code>XMI::PREV</code> or <code>XMI::NEXT</code>.</p>
<p>To modify existing content, call <a data-bs-toggle="tooltip" title="Adds, updates and removes XML attributes." href="#tm-SetAttrib">SetAttrib()</a> instead.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The content was successfully inserted and a new content node was created.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>The target Index does not correspond to a valid XML element.</td></tr>
<tr><th class="col-md-1">Args</th><td>The Where parameter specifies an invalid insertion position.</td></tr>
<tr><th class="col-md-1">ReadOnly</th><td>The XML object is in read-only mode and cannot be modified.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required parameters were NULL or not properly specified.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-InsertXML" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">InsertXML</th><td id="tm-InsertXML">Parse an XML string and insert it in the XML tree.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-InsertXML" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::InsertXML(OBJECTPTR Object, INT Index, XMI Where, CSTRING XML, INT * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>The new data will target the tag specified here.</td></tr>
<tr><td><a href="?page=XMI">Where</a></td><td>Use <code>PREV</code> or <code>NEXT</code> to insert behind or ahead of the target tag.  Use <code>CHILD</code> or <code>CHILD_END</code> for a child insert.</td></tr>
<tr><td>XML</td><td>An XML statement to parse.</td></tr>
<tr><td>Result</td><td>The resulting tag index.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The InsertXML() method is used to translate and insert a new set of XML tags into any position within the XML tree.  A standard XML statement must be provided in the XML parameter and the target insertion point is specified in the Index parameter.  An insertion point relative to the target index must be specified in the <code>Where</code> parameter.  The new tags can be inserted as a child of the target by using a <code>Where</code> value of <code>XMI::CHILD</code>.  Use <code>XMI::CHILD_END</code> to insert at the end of the child list.  To insert behind or after the target, use <code>XMI::PREV</code> or <code>XMI::NEXT</code>.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The statement was added successfully.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>The target Index does not correspond to a valid XML element.</td></tr>
<tr><th class="col-md-1">Args</th><td>The Where parameter specifies an invalid insertion position.</td></tr>
<tr><th class="col-md-1">NoData</th><td>The provided XML statement parsed to an empty result.</td></tr>
<tr><th class="col-md-1">ReadOnly</th><td>Changes to the XML data are not permitted.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required parameters were NULL or not properly specified.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-InsertXPath" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">InsertXPath</th><td id="tm-InsertXPath">Inserts an XML statement in an XML tree.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-InsertXPath" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::InsertXPath(OBJECTPTR Object, CSTRING XPath, XMI Where, CSTRING XML, INT * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>XPath</td><td>An XPath string that refers to the target insertion point.</td></tr>
<tr><td><a href="?page=XMI">Where</a></td><td>Use <code>PREV</code> or <code>NEXT</code> to insert behind or ahead of the target tag.  Use <code>CHILD</code> for a child insert.</td></tr>
<tr><td>XML</td><td>The statement to process.</td></tr>
<tr><td>Result</td><td>The index of the new tag is returned here.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The InsertXPath method is used to translate and insert a new set of XML tags into any position within the XML tree.  A standard XML statement must be provided in the XML parameter and the target insertion point is referenced as a valid <code>XPath</code> location string.  An insertion point relative to the <code>XPath</code> target must be specified in the <code>Where</code> parameter.  The new tags can be inserted as a child of the target by using an Insert value of <code>XMI::CHILD</code> or <code>XMI::CHILD_END</code>.  To insert behind or after the target, use <code>XMI::PREV</code> or <code>XMI::NEXT</code>.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The XML statement was successfully inserted at the specified XPath location.</td></tr>
<tr><th class="col-md-1">Search</th><td>The XPath could not be resolved to a valid location.</td></tr>
<tr><th class="col-md-1">ReadOnly</th><td>The XML object is in read-only mode and cannot be modified.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required parameters were NULL or not properly specified.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-MoveTags" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">MoveTags</th><td id="tm-MoveTags">Move an XML tag group to a new position in the XML tree.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-MoveTags" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::MoveTags(OBJECTPTR Object, INT Index, INT Total, INT DestIndex, XMI Where)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>Index of the source tag to be moved.</td></tr>
<tr><td>Total</td><td>The total number of sibling tags (including the targeted tag) to be moved from the source index.  Minimum value of 1.</td></tr>
<tr><td>DestIndex</td><td>The destination tag index.  If the index exceeds the total number of tags, the value will be automatically limited to the last tag index.</td></tr>
<tr><td><a href="?page=XMI">Where</a></td><td>Use <code>PREV</code> or <code>NEXT</code> to insert behind or ahead of the target tag.  Use <code>CHILD</code> for a child insert.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method is used to move XML tags within the XML tree structure.  It supports the movement of single and groups of tags from one index to another.  The client must supply the index of the tag that will be moved and the index of the target tag.  All child tags of the source will be included in the move.</p>
<p>An insertion point relative to the target index must be specified in the <code>Where</code> parameter.  The source tag can be inserted as a child of the destination by using a <code>Where</code> of <code>XMI::CHILD</code>.  To insert behind or after the target, use <code>XMI::PREV</code> or <code>XMI::NEXT</code>.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Tags were moved successfully.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>Either the source or destination tag index does not exist.</td></tr>
<tr><th class="col-md-1">Args</th><td>Invalid parameter values were provided.</td></tr>
<tr><th class="col-md-1">ReadOnly</th><td>The XML object is in read-only mode and cannot be modified.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required parameters were NULL or not properly specified.</td></tr>
<tr><th class="col-md-1">SanityCheckFailed</th><td>An internal consistency check failed during the move operation.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-RegisterNamespace" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">RegisterNamespace</th><td id="tm-RegisterNamespace">Register a namespace URI and return its UID.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-RegisterNamespace" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::RegisterNamespace(OBJECTPTR Object, CSTRING URI, UINT * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>URI</td><td>The namespace URI to register. Must not be NULL or empty.</td></tr>
<tr><td>Result</td><td>Pointer to an integer that will receive the UID for the namespace URI.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method registers a namespace URI and returns a UID that can be used to identify the namespace efficiently throughout the XML document.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The namespace was successfully registered.</td></tr>
<tr><th class="col-md-1">Failed</th><td>The URI was empty or invalid.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required arguments were not specified correctly.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-RemoveTag" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">RemoveTag</th><td id="tm-RemoveTag">Removes tag(s) from the XML structure.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-RemoveTag" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::RemoveTag(OBJECTPTR Object, INT Index, INT Total)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>Reference to the tag that will be removed.</td></tr>
<tr><td>Total</td><td>The total number of sibling (neighbouring) tags that should also be deleted.  A value of one or less will remove only the indicated tag and its children.  The total may exceed the number of tags actually available, in which case all tags up to the end of the branch will be affected.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The RemoveTag method is used to remove one or more tags from an XML structure.  Child tags will automatically be discarded as a consequence of using this method, in order to maintain a valid XML structure.</p>
<p>This method is capable of deleting multiple tags if the <code>Total</code> parameter is set to a value greater than 1.  Each consecutive tag and its children following the targeted tag will be removed from the XML structure until the count is exhausted. This is useful for mass delete operations.</p>
<p>This method is volatile and will destabilise any cached address pointers that have been acquired from the XML object.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The tag(s) were successfully removed.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>The specified tag Index does not exist in the XML structure.</td></tr>
<tr><th class="col-md-1">ReadOnly</th><td>The XML object is in read-only mode and cannot be modified.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required parameters were NULL or not properly specified.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-RemoveXPath" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">RemoveXPath</th><td id="tm-RemoveXPath">Removes tag(s) from the XML structure, using an xpath lookup.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-RemoveXPath" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::RemoveXPath(OBJECTPTR Object, CSTRING XPath, INT Limit)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>XPath</td><td>An XML path string.</td></tr>
<tr><td>Limit</td><td>The maximum number of matching tags to delete.  A value of one or zero will remove only the indicated tag and its children.  A value of -1 removes all matching tags.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The RemoveXPath method is used to remove one or more tags from an XML structure.  Child tags will automatically be discarded as a consequence of using this method, in order to maintain a valid XML structure.</p>
<p>Individual tag attributes can also be removed if an attribute is referenced at the end of the <code>XPath</code>.</p>
<p>The removal routine will be repeated so that each tag that matches the XPath will be deleted, or the <code>Limit</code> is reached.</p>
<p>This method is volatile and will destabilise any cached address pointers that have been acquired from the XML object.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The matching tag(s) or attribute(s) were successfully removed.</td></tr>
<tr><th class="col-md-1">NoData</th><td>The XML document contains no data to process.</td></tr>
<tr><th class="col-md-1">ReadOnly</th><td>The XML object is in read-only mode and cannot be modified.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required parameters were NULL or not properly specified.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-ResolvePrefix" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">ResolvePrefix</th><td id="tm-ResolvePrefix">Resolve a namespace prefix to the UID of its namespace URI within a tag's scope.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-ResolvePrefix" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::ResolvePrefix(OBJECTPTR Object, CSTRING Prefix, INT TagID, UINT * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Prefix</td><td>The namespace prefix to resolve. Use empty string for default namespace.</td></tr>
<tr><td>TagID</td><td>The tag ID defining the starting scope for namespace resolution.</td></tr>
<tr><td>Result</td><td>Pointer to an integer that will receive the resolved namespace hash.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method resolves a namespace prefix to its corresponding URI by examining namespace declarations within the specified tag's hierarchical scope. The resolution process:</p>
<ol>
<li>First checks the global prefix map for efficiency.</li>
<li>If not found, walks up the tag hierarchy from the specified tag to the root.</li>
<li>Examines xmlns:prefix and xmlns attributes in each tag to find the declaration.</li>
<li>Returns the hash of the first matching namespace URI found.</li>
</ol>
<p>This approach correctly handles nested namespace scopes and prefix redefinitions.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The prefix was successfully resolved.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>The specified tag was not found.</td></tr>
<tr><th class="col-md-1">Search</th><td>The prefix could not be resolved in any accessible scope.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required arguments were not specified correctly.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-Serialise" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">Serialise</th><td id="tm-Serialise">Serialise part of the XML tree to an XML string.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-Serialise" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::Serialise(OBJECTPTR Object, INT Index, XMF Flags, STRING * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>Index to a source tag for which serialisation will start.  Set to zero to serialise the entire tree.</td></tr>
<tr><td><a href="?page=XMF">Flags</a></td><td>Use <code>INCLUDE_SIBLINGS</code> to include siblings of the tag found at Index.</td></tr>
<tr><td>Result</td><td>The resulting string is returned in this parameter.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The Serialise() method will serialise all or part of the XML data tree to a string.</p>
<p>The string will be allocated as a memory block and stored in the Result parameter.  It must be freed once the data is no longer required.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The XML string was successfully serialised.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>The specified tag Index does not exist in the XML structure.</td></tr>
<tr><th class="col-md-1">NoData</th><td>No information has been loaded into the XML object.</td></tr>
<tr><th class="col-md-1">AllocMemory</th><td>Failed to allocate memory for the XML string result.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required parameters were NULL or not properly specified.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-SetAttrib" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">SetAttrib</th><td id="tm-SetAttrib">Adds, updates and removes XML attributes.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-SetAttrib" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::SetAttrib(OBJECTPTR Object, INT Index, XMS Attrib, CSTRING Name, CSTRING Value)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>Identifies the tag that is to be updated.</td></tr>
<tr><td><a href="?page=XMS">Attrib</a></td><td>Either the index number of the attribute that is to be updated, or set to <code>NEW</code>, <code>UPDATE</code> or <code>UPDATE_ONLY</code>.</td></tr>
<tr><td>Name</td><td>String containing the new name for the attribute.  If <code>NULL</code>, the name will not be changed.  If Attrib is <code>UPDATE</code> or <code>UPDATE_ONLY</code>, the <code>Name</code> is used to find the attribute.</td></tr>
<tr><td>Value</td><td>String containing the new value for the attribute.  If <code>NULL</code>, the attribute is removed.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method is used to update and add attributes to existing XML tags, as well as adding or modifying content.</p>
<p>The data for the attribute is defined in the <code>Name</code> and <code>Value</code> parameters.  Use an empty string if no data is to be associated with the attribute.  Set the <code>Value</code> pointer to <code>NULL</code> to remove the attribute. If both <code>Name</code> and <code>Value</code> are <code>NULL</code>, an error will be returned.</p>
<p>NOTE: The attribute at position 0 declares the name of the tag and should not normally be accompanied with a value declaration.  However, if the tag represents content within its parent, then the Name must be set to <code>NULL</code> and the <code>Value</code> string will determine the content.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">Search</th><td>The attribute, identified by <code>Name</code>, could not be found.</td></tr>
<tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr>
<tr><th class="col-md-1">OutOfRange</th><td>The <code>Index</code> or <code>Attrib</code> value is out of range.</td></tr>
<tr><th class="col-md-1">ReadOnly</th><td>The XML object is read-only.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-SetTagNamespace" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">SetTagNamespace</th><td id="tm-SetTagNamespace">Set the namespace for a specific XML tag.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-SetTagNamespace" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::SetTagNamespace(OBJECTPTR Object, INT TagID, INT NamespaceID)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>TagID</td><td>The unique identifier of the XML tag.</td></tr>
<tr><td>NamespaceID</td><td>The UID of the namespace to assign.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method assigns a namespace to an XML tag using the namespace's UID.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The namespace was successfully assigned to the tag.</td></tr>
<tr><th class="col-md-1">NotFound</th><td>The specified tag was not found.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required arguments were not specified correctly.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-Sort" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">Sort</th><td id="tm-Sort">Sorts XML tags to your specifications.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-Sort" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR xml::Sort(OBJECTPTR Object, CSTRING XPath, CSTRING Sort, XSF Flags)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>XPath</td><td>Sort everything under the specified tag, or <code>NULL</code> to sort the entire top level.</td></tr>
<tr><td>Sort</td><td>Pointer to a sorting instruction string.</td></tr>
<tr><td><a href="?page=XSF">Flags</a></td><td>Optional flags.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The Sort method is used to sort a single branch of XML tags in ascending or descending order.  An <code>XPath</code> is required that refers to the tag containing each item that will be sorted.  To sort the root level, use an <code>XPath</code> of <code>NULL</code>.</p>
<p>The <code>Sort</code> parameter is used to specify a list of sorting instructions.  The format for the <code>Sort</code> string is <code>Tag:Attrib,Tag:Attrib,...</code>.  The <code>Tag</code> indicates the tag name that should be identified for sorting each node, and child tags are supported for this purpose.  Wildcard filtering is allowed and a <code>Tag</code> value of <code>*</code> will match every tag at the requested <code>XPath</code> level.  The optional <code>Attrib</code> value names the attribute containing the sort string.  To sort on content, do not define an <code>Attrib</code> value (use the format <code>Tag,Tag,...</code>).</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The XML object was successfully sorted.</td></tr>
<tr><th class="col-md-1">Search</th><td>The provided XPath failed to locate a tag.</td></tr>
<tr><th class="col-md-1">ReadOnly</th><td>The XML object is in read-only mode and cannot be modified.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Required parameters were NULL or not properly specified.</td></tr>
</tbody></table></div></div></td></tr>
</tbody></table><div class="footer copyright text-right">XML class documentation © Paul Manias © 2001-2025</div></div><div class="docs-content" style="display:none;" id="XMF"><h1>XMF Type</h1><p class="lead">Standard flags for the XML class.</p><table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th>XMF::AUTO_DECLARE_NAMESPACES</th><td>Auto-add namespace declarations when needed.</td></tr>
<tr><th>XMF::INCLUDE_COMMENTS</th><td>By default, comments are stripped when parsing XML input unless this flag is specified.</td></tr>
<tr><th>XMF::INCLUDE_SIBLINGS</th><td>Include siblings when building an XML string (<a data-bs-toggle="tooltip" title="" href="#ta-GetXMLString">GetXMLString()</a> only)</td></tr>
<tr><th>XMF::INCLUDE_WHITESPACE</th><td>By default the XML parser will trim whitespace (such as return codes, spaces and tabs) found in the XML content between tags.  Setting this flag turns off this feature, allowing all whitespace to be included.</td></tr>
<tr><th>XMF::INDENT</th><td>Indent the output of serialised XML to improve readability.</td></tr>
<tr><th>XMF::LOCK_REMOVE</th><td>Prevents removal of tags from the XML tree.  This specifically affects the RemoveTag and RemoveXPath methods.</td></tr>
<tr><th>XMF::LOG_ALL</th><td>Print extra log messages.</td></tr>
<tr><th>XMF::NAMESPACE_AWARE</th><td>Enable namespace processing during parsing.</td></tr>
<tr><th>XMF::NEW</th><td>Creates an empty XML object on initialisation - if the <a data-bs-toggle="tooltip" title="Set this field if the XML document originates from a file source." href="#tf-Path">Path</a> field has been set, the source file will not be loaded.</td></tr>
<tr><th>XMF::NO_ESCAPE</th><td>Turns off escape code conversion.</td></tr>
<tr><th>XMF::OMIT_TAGS</th><td>Prevents tags from being output when the XML is serialised (output content only).</td></tr>
<tr><th>XMF::PARSE_ENTITY</th><td>Entity references in the DTD will be parsed automatically.</td></tr>
<tr><th>XMF::PARSE_HTML</th><td>Automatically parse HTML escape codes.</td></tr>
<tr><th>XMF::PRESERVE_NAMESPACE_PREFIXES</th><td>Keep original prefixes in output.</td></tr>
<tr><th>XMF::READABLE</th><td>Indent the output of serialised XML to improve readability.</td></tr>
<tr><th>XMF::STRIP_CDATA</th><td>Do not echo <code>CDATA</code> sections.  Note that this option is used as a parameter, not an object flag.</td></tr>
<tr><th>XMF::STRIP_CONTENT</th><td>Strip all content from incoming XML data.</td></tr>
<tr><th>XMF::STRIP_HEADERS</th><td>XML headers found in the source data will not be included in the parsed results.</td></tr>
<tr><th>XMF::VALIDATE_NAMESPACES</th><td>Validate namespace declarations and references.</td></tr>
<tr><th>XMF::WELL_FORMED</th><td>By default, the XML class will accept badly structured XML data.  This flag requires that XML statements must be well-formed (tags must balance) or an <code>ERR::BadData</code> error will be returned during processing.</td></tr>
</tbody></table><div class="footer copyright text-right">XML module documentation © Paul Manias © 2001-2025</div></div>
<div class="docs-content" style="display:none;" id="XMI"><h1>XMI Type</h1><p class="lead">Tag insertion options.</p><table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th>XMI::CHILD</th><td>Insert as the first child of the target.</td></tr>
<tr><th>XMI::CHILD_END</th><td>Insert as the last child of the target.</td></tr>
<tr><th>XMI::NEXT</th><td>Insert as the next tag of the target.</td></tr>
<tr><th>XMI::PREV</th><td>Insert as the previous tag of the target.</td></tr>
</tbody></table><div class="footer copyright text-right">XML module documentation © Paul Manias © 2001-2025</div></div>
<div class="docs-content" style="display:none;" id="XMS"><h1>XMS Type</h1><p class="lead">For SetAttrib()</p><table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th>XMS::NEW</th><td>Adds a new attribute.  Note that if the attribute already exists, this will result in at least two attributes of the same name in the tag.</td></tr>
<tr><th>XMS::UPDATE</th><td>As for <code>UPDATE_ONLY</code>, but if the attribute does not exist, it will be created.</td></tr>
<tr><th>XMS::UPDATE_ONLY</th><td>SetAttrib will find the target attribute and update it.  It is not possible to rename the attribute when using this technique.  <code>ERR::Search</code> is returned if the attribute cannot be found.</td></tr>
</tbody></table><div class="footer copyright text-right">XML module documentation © Paul Manias © 2001-2025</div></div>
<div class="docs-content" style="display:none;" id="XSF"><h1>XSF Type</h1><p class="lead">Options for the Sort method.</p><table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th>XSF::CHECK_SORT</th><td>Tells the algorithm to check for a 'sort' attribute in each analysed tag and if found, the algorithm will use that as the sort value instead of that indicated in the <code>Attrib</code> field.</td></tr>
<tr><th>XSF::DESC</th><td>Sort in descending order.</td></tr>
</tbody></table><div class="footer copyright text-right">XML module documentation © Paul Manias © 2001-2025</div></div>
<div class="docs-content" style="display:none;" id="struct-XMLAttrib"><h1>XMLAttrib Structure</h1><p class="lead"></p><table class="table"><thead><tr><th class="col-md-1">Field</th><th class="col-md-1">Type</th><th>Description</th></tr></thead><tbody><tr><th>Name</th><td><span class="text-nowrap">std::string</span></td><td>Name of the attribute</td></tr>
<tr><th>Value</th><td><span class="text-nowrap">std::string</span></td><td>Value of the attribute</td></tr>
</tbody></table><div class="footer copyright text-right">XML class documentation © Paul Manias © 2001-2025</div></div>
<div class="docs-content" style="display:none;" id="struct-XMLTag"><h1>XMLTag Structure</h1><p class="lead"></p><table class="table"><thead><tr><th class="col-md-1">Field</th><th class="col-md-1">Type</th><th>Description</th></tr></thead><tbody><tr><th>ID</th><td><span class="text-nowrap">INT</span></td><td>Unique ID assigned to the tag on creation</td></tr>
<tr><th>ParentID</th><td><span class="text-nowrap">INT</span></td><td>Unique ID of the parent tag</td></tr>
<tr><th>LineNo</th><td><span class="text-nowrap">INT</span></td><td>Line number on which this tag was encountered</td></tr>
<tr><th>Flags</th><td><span class="text-nowrap">XTF</span></td><td>Optional flags</td></tr>
<tr><th>NamespaceID</th><td><span class="text-nowrap">UINT</span></td><td>Hash of namespace URI or 0 for no namespace</td></tr>
<tr><th>Attribs</th><td><span class="text-nowrap">pf::vector&lt;XMLAttrib&gt;</span></td><td>Array of attributes for this tag</td></tr>
<tr><th>Children</th><td><span class="text-nowrap">pf::vector&lt;XMLTag&gt;</span></td><td>Array of child tags</td></tr>
</tbody></table><div class="footer copyright text-right">XML class documentation © Paul Manias © 2001-2025</div></div>
</div></div></div><script type="text/javascript" src="../../js/bootstrap.bundle.min.js"></script><script type="text/javascript" src="../../js/base.js"></script><script type="text/javascript">
const ready = fn => document.readyState !== 'loading' ? fn() : document.addEventListener('DOMContentLoaded', fn);

   var xslt = false;
   var url = window.location.pathname;
   var filename = url.substring(url.lastIndexOf('/')+1);
   if (filename.endsWith(".xml")) { // XSLT is being used to view this document
      filename = filename.substr(0, filename.length-3) + 'html';
      xslt = true;
   }

   // Auto-open the relevant sidebar branch

   var nl = document.querySelectorAll('li[class="api-ref"] > a[href="' + filename + '"]');
   if (nl.length > 0) {
      // Target the last matching element to avoid confusion with matching module names (e.g. Audio module == Audio class)
      var el = nl.item(nl.length-1)
      var parent = getParentNode(el, '[class="collapse"]');
      if (parent) new bootstrap.Collapse(parent, { show: true }); // Causes animation

      el.style.backgroundColor = '#d2f4ea';
   }

   var page = glParameters["page"];
   if (isEmpty(page)) page = glParameters["function"];
   var div = document.getElementById(page);
   if (!div) div = document.getElementById("default-page");
   if (div) div.style.display = "block";

   cancelAnimations();

ready(function(){
   // Initialise tooltips
   var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
   var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
     return new bootstrap.Tooltip(tooltipTriggerEl)
   })

   // In XSLT mode, changing all HTML links to XML is helpful for navigation (if heavy handed)
   if (xslt) {
      var nl = document.querySelectorAll('a[href*=".html"]');
      nl.forEach((el) => {
         el.href = el.href.substr(0, el.href.length-5) + '.xml'
      })
   }
});

         </script></body></html>
