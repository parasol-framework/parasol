<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="-//W3C//DTD XHTML 1.1//EN" xml:lang="en" xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><script type="text/javascript" async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8254DG7MT6"> </script><script type="text/javascript">
	   window.dataLayer = window.dataLayer || [];
	   function gtag(){dataLayer.push(arguments);}
	   gtag('js', new Date());
      gtag('config', 'G-8254DG7MT6');</script><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="description" content="Parasol Framework documentation, machine generated from source"></meta><meta name="author" content="Paul Manias"></meta><link rel="icon" href="/favicon.ico"></link><title>Parasol Framework Manual</title><link href="../../css/bootstrap.min.css" rel="stylesheet"></link><link href="../../css/module-template.css" rel="stylesheet"></link><script type="text/javascript">
          var shiftWindow = function() { scrollBy(0, -100) };
          window.addEventListener("hashchange", shiftWindow);
          function load() { if (window.location.hash) shiftWindow(); }
        </script></head><body><nav class="navbar navbar-expand-sm navbar-dark bg-dark"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="../../index.html">Parasol Framework</a></div><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="nav-item"><a class="nav-link" href="../../gallery.html">Gallery</a></li><li class="nav-item"><a class="nav-link" href="../api.html">API</a></li><li class="nav-item"><a class="nav-link" href="../../wiki/Home.html">Wiki</a></li><li class="nav-item"><a class="nav-link" href="https://github.com/parasol-framework/parasol">GitHub</a></li></ul></div></div></nav>
<div class="container-fluid"><div class="row"><div class="d-sm-block d-none col-3 sidebar" style="max-width: 230px;"><div class="flex-shrink-1 pt-2 pe-2 sticky-top overflow-auto vh-100 b-shadow">
<ul class="list-unstyled"><li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#mod-collapse" aria-expanded="false">Modules</button><div class="collapse" id="mod-collapse"><ul class="btn-toggle-nav list-unstyled fw-normal"><li class="api-ref"><a class="rounded" href="../audio.html">Audio</a></li><li class="api-ref"><a class="rounded" href="../core.html">Core</a></li><li class="api-ref"><a class="rounded" href="../display.html">Display</a></li><li class="api-ref"><a class="rounded" href="../fluid.html">Fluid</a></li><li class="api-ref"><a class="rounded" href="../font.html">Font</a></li><li class="api-ref"><a class="rounded" href="../network.html">Network</a></li><li class="api-ref"><a class="rounded" href="../vector.html">Vector</a></li></ul></div></li></ul>
<ul class="list-unstyled"><li class="border-top my-3"></li><li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#audio-collapse" aria-expanded="false">Audio</button><div class="collapse" id="audio-collapse"><ul class="btn-toggle-nav list-unstyled fw-normal pb-1"><li class="api-ref"><a class="rounded" href="audio.html">Audio</a></li><li class="api-ref"><a class="rounded" href="sound.html">Sound</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#core-collapse" aria-expanded="false">Core</button><div class="collapse" id="core-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="file.html">File</a></li><li class="api-ref"><a class="rounded" href="metaclass.html">MetaClass</a></li><li class="api-ref"><a class="rounded" href="module.html">Module</a></li><li class="api-ref"><a class="rounded" href="storagedevice.html">StorageDevice</a></li><li class="api-ref"><a class="rounded" href="task.html">Task</a></li><li class="api-ref"><a class="rounded" href="thread.html">Thread</a></li><li class="api-ref"><a class="rounded" href="time.html">Time</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#data-collapse" aria-expanded="false">Data</button><div class="collapse" id="data-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="compression.html">Compression</a></li><li class="api-ref"><a class="rounded" href="config.html">Config</a></li><li class="api-ref"><a class="rounded" href="script.html">Script</a></li><li class="api-ref"><a class="rounded" href="xml.html">XML</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#devices-collapse" aria-expanded="false">Devices</button><div class="collapse" id="devices-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="controller.html">Controller</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#effects-collapse" aria-expanded="false">Effects</button><div class="collapse" id="effects-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="blurfx.html">BlurFX</a></li><li class="api-ref"><a class="rounded" href="colourfx.html">ColourFX</a></li><li class="api-ref"><a class="rounded" href="compositefx.html">CompositeFX</a></li><li class="api-ref"><a class="rounded" href="convolvefx.html">ConvolveFX</a></li><li class="api-ref"><a class="rounded" href="displacementfx.html">DisplacementFX</a></li><li class="api-ref"><a class="rounded" href="filtereffect.html">FilterEffect</a></li><li class="api-ref"><a class="rounded" href="floodfx.html">FloodFX</a></li><li class="api-ref"><a class="rounded" href="imagefx.html">ImageFX</a></li><li class="api-ref"><a class="rounded" href="lightingfx.html">LightingFX</a></li><li class="api-ref"><a class="rounded" href="mergefx.html">MergeFX</a></li><li class="api-ref"><a class="rounded" href="morphologyfx.html">MorphologyFX</a></li><li class="api-ref"><a class="rounded" href="offsetfx.html">OffsetFX</a></li><li class="api-ref"><a class="rounded" href="remapfx.html">RemapFX</a></li><li class="api-ref"><a class="rounded" href="sourcefx.html">SourceFX</a></li><li class="api-ref"><a class="rounded" href="turbulencefx.html">TurbulenceFX</a></li><li class="api-ref"><a class="rounded" href="wavefunctionfx.html">WaveFunctionFX</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#ext-collapse" aria-expanded="false">Extensions</button><div class="collapse" id="ext-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="scintilla.html">Scintilla</a></li><li class="api-ref"><a class="rounded" href="scintillasearch.html">ScintillaSearch</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#gfx-collapse" aria-expanded="false">Graphics</button><div class="collapse" id="gfx-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="bitmap.html">Bitmap</a></li><li class="api-ref"><a class="rounded" href="clipboard.html">Clipboard</a></li><li class="api-ref"><a class="rounded" href="display.html">Display</a></li><li class="api-ref"><a class="rounded" href="document.html">Document</a></li><li class="api-ref"><a class="rounded" href="font.html">Font</a></li><li class="api-ref"><a class="rounded" href="picture.html">Picture</a></li><li class="api-ref"><a class="rounded" href="pointer.html">Pointer</a></li><li class="api-ref"><a class="rounded" href="surface.html">Surface</a></li><li class="api-ref"><a class="rounded" href="svg.html">SVG</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#net-collapse" aria-expanded="false">Network</button><div class="collapse" id="net-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="clientsocket.html">ClientSocket</a></li><li class="api-ref"><a class="rounded" href="http.html">HTTP</a></li><li class="api-ref"><a class="rounded" href="netsocket.html">NetSocket</a></li><li class="api-ref"><a class="rounded" href="proxy.html">Proxy</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#vectors-collapse" aria-expanded="false">Vectors</button><div class="collapse" id="vectors-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="vector.html">Vector</a></li><li class="api-ref"><a class="rounded" href="vectorclip.html">VectorClip</a></li><li class="api-ref"><a class="rounded" href="vectorcolour.html">VectorColour</a></li><li class="api-ref"><a class="rounded" href="vectorellipse.html">VectorEllipse</a></li><li class="api-ref"><a class="rounded" href="vectorfilter.html">VectorFilter</a></li><li class="api-ref"><a class="rounded" href="vectorgradient.html">VectorGradient</a></li><li class="api-ref"><a class="rounded" href="vectorgroup.html">VectorGroup</a></li><li class="api-ref"><a class="rounded" href="vectorimage.html">VectorImage</a></li><li class="api-ref"><a class="rounded" href="vectorpath.html">VectorPath</a></li><li class="api-ref"><a class="rounded" href="vectorpattern.html">VectorPattern</a></li><li class="api-ref"><a class="rounded" href="vectorpolygon.html">VectorPolygon</a></li><li class="api-ref"><a class="rounded" href="vectorrectangle.html">VectorRectangle</a></li><li class="api-ref"><a class="rounded" href="vectorscene.html">VectorScene</a></li><li class="api-ref"><a class="rounded" href="vectorshape.html">VectorShape</a></li><li class="api-ref"><a class="rounded" href="vectorspiral.html">VectorSpiral</a></li><li class="api-ref"><a class="rounded" href="vectortext.html">VectorText</a></li><li class="api-ref"><a class="rounded" href="vectortransition.html">VectorTransition</a></li><li class="api-ref"><a class="rounded" href="vectorviewport.html">VectorViewport</a></li><li class="api-ref"><a class="rounded" href="vectorwave.html">VectorWave</a></li></ul></div></li></ul></div></div>
<div class="col-sm-9" style="max-width: 1200px;"><div class="docs-content" style="display:none;" id="default-page"><div class="page-header"><h1>Picture Class</h1></div><p class="lead">Loads and saves picture files in a variety of different data formats.</p>
<p>The Picture class provides a standard API for programs to load picture files of any supported data type.  It is future proof in that future data formats can be supported by installing class drivers on the user's system.</p>
<p>The default file format for loading and saving pictures is PNG.  Other formats such as JPEG are supported via sub-classes, which can be loaded into the system at boot time or on demand.  Some rare formats such as TIFF are also supported, but user preference may dictate whether or not the necessary driver is installed.</p>
<h3>Technical Notes</h3>
<p>To find out general information about a picture before initialising it, <a data-bs-toggle="tooltip" title="Retrieves the latest information from an object." href="#ta-Query">Query()</a> it first so that the picture object can load initial details on the file format.</p>
<p>Images are also remapped automatically if the source palette and destination palettes do not match, or if there are significant differences between the source and destination bitmap types.</p>
<p>Dynamically sized image formats like SVG will use the <a data-bs-toggle="tooltip" title="The preferred width to use when displaying the image." href="#tf-DisplayWidth">DisplayWidth</a> and <a data-bs-toggle="tooltip" title="The preferred height to use when displaying the image." href="#tf-DisplayHeight">DisplayHeight</a> values to determine the rendered image size.</p>
<h3>Structure</h3><p>The Picture class consists of the following fields:</p><table class="table"><thead><th class="col-md-1"><div data-bs-toggle="tooltip" title="Read/Write access indicators are listed below">Access</div></th><th class="col-md-1">Name</th><th class="col-md-1">Type</th><th>Comment</th></thead><tbody><tr data-bs-toggle="collapse" data-bs-target="#fl-Author" style="scroll-margin:3em;"><td class="col-md-1" id="tf-Author"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Author</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>The name of the person or company that created the image.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Bitmap" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Bitmap"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Bitmap</th><td class="col-md-1"><span class="text-nowrap"><a href="bitmap.html">*Bitmap</a></span></td><td>Represents a picture's image data.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Bitmap" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The details of a picture's graphical image and data are defined in its associated bitmap object.  It contains information on the image dimensions and palette for example.  The <a href="bitmap.html#tf-Palette">Bitmap⇒Palette</a> can be preset if you want to remap the  source image to a specific set of colour values.</p>
<p>Please refer to the <a href="bitmap.html">Bitmap</a> class for more details on the structure of bitmap objects.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Copyright" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Copyright"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Copyright</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Copyright details of an image.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Copyright" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Copyright details related to an image may be specified here.  The copyright should be short and to the point, for example <code>Copyright J. Bloggs (c) 1992.</code></p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Description" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Description"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Description</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Long description for an image.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Description" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>A long description for an image may be entered in this field.  There is no strict limit on the length of the description.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Disclaimer" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Disclaimer"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Disclaimer</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>The disclaimer associated with an image.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Disclaimer" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If it is necessary to associate a disclaimer with an image, the legal text may be entered in this field.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-DisplayHeight" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-DisplayHeight"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct write access"></i></td><th class="col-md-1">DisplayHeight</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>The preferred height to use when displaying the image.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-DisplayHeight" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The <a data-bs-toggle="tooltip" title="The preferred width to use when displaying the image." href="#tf-DisplayWidth">DisplayWidth</a> and DisplayHeight fields define the preferred pixel dimensions to use for the display when viewing the image in a 96DPI environment.  Both fields will be set automatically when the picture source is loaded.  If the source does not specify a suitable value for these fields, they may be initialised to a value based on the picture's <a href="bitmap.html#tf-Width">Bitmap⇒Width</a> and <a href="bitmap.html#tf-Height">Bitmap⇒Height</a>.</p>
<p>In the case of a scalable image source such as SVG, the <a data-bs-toggle="tooltip" title="The preferred width to use when displaying the image." href="#tf-DisplayWidth">DisplayWidth</a> and DisplayHeight can be pre-configured by the client, and the loader will scale the source image to the preferred dimensions on load.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-DisplayWidth" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-DisplayWidth"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct write access"></i></td><th class="col-md-1">DisplayWidth</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>The preferred width to use when displaying the image.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-DisplayWidth" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The DisplayWidth and <a data-bs-toggle="tooltip" title="The preferred height to use when displaying the image." href="#tf-DisplayHeight">DisplayHeight</a> fields define the preferred pixel dimensions to use for the display when viewing the image in a 96DPI environment.  Both fields will be set automatically when the picture source is loaded.  If the source does not specify a suitable value for these fields, they may be initialised to a value based on the picture's <a href="bitmap.html#tf-Width">Bitmap⇒Width</a> and <a href="bitmap.html#tf-Height">Bitmap⇒Height</a>.</p>
<p>In the case of a scalable image source such as SVG, the DisplayWidth and <a data-bs-toggle="tooltip" title="The preferred height to use when displaying the image." href="#tf-DisplayHeight">DisplayHeight</a> can be pre-configured by the client, and the loader will scale the source image to the preferred dimensions on load.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Flags" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Flags"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct write access"></i></td><th class="col-md-1">Flags</th><td class="col-md-1"><span class="text-nowrap">PCF</span></td><td>Optional initialisation flags.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Flags" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">PCF::ALPHA</th><td>If a picture supports an alpha channel, this field will be set (if you will be saving a Picture with an alpha channel, set this flag prior to initialisation and build the channel using the object provided in the <a data-bs-toggle="tooltip" title="Refers to a Bitmap that imposes a mask on the image." href="#tf-Mask">Mask</a> field).</td></tr>
<tr><th class="col-md-1">PCF::FORCE_ALPHA_32</th><td>If the picture source includes an alpha channel mask, it will normally be separated out and stored in the <a data-bs-toggle="tooltip" title="Refers to a Bitmap that imposes a mask on the image." href="#tf-Mask">Mask</a> field.  If you set the <code>FORCE_ALPHA_32</code> option before loading, the image will be forced into 32-bit graphics mode with alpha channel.  The mask information will be stored in the alpha byte and the <a data-bs-toggle="tooltip" title="Refers to a Bitmap that imposes a mask on the image." href="#tf-Mask">Mask</a> field will not be set.</td></tr>
<tr><th class="col-md-1">PCF::LAZY</th><td>Prevents automatic loading of the picture image.  Use the Query action to process the picture header or Activate to load the image data.</td></tr>
<tr><th class="col-md-1">PCF::MASK</th><td>A mask has been generated for the image.</td></tr>
<tr><th class="col-md-1">PCF::NEW</th><td>Indicates that the picture image will be created from scratch.</td></tr>
<tr><th class="col-md-1">PCF::NO_PALETTE</th><td>Automatically upgrade palette based images to 32 bit colour.</td></tr>
<tr><th class="col-md-1">PCF::SCALABLE</th><td>This read-only flag is automatically set if the image source is scalable (such as SVG).</td></tr>
</tbody></table>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Header" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Header"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">Header</th><td class="col-md-1"><span class="text-nowrap">APTR</span></td><td>Contains the first 32 bytes of data in a picture's file header.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Header" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The Header field is a pointer to a 32 byte buffer that contains the first 32 bytes of information read from a picture file on initialisation.  This special field is considered to be helpful only to developers writing add on components for the picture class.</p>
<p>The buffer that is referred to by the Header field is not populated until the Init action is called on the picture object.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Mask" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Mask"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Mask</th><td class="col-md-1"><span class="text-nowrap"><a href="bitmap.html">*Bitmap</a></span></td><td>Refers to a Bitmap that imposes a mask on the image.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Mask" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If a source picture includes a mask, the Mask field will refer to a Bitmap object that contains the mask image once the picture source has been loaded.  The mask will be expressed as either a 256 colour alpha bitmap, or a 1-bit mask with 8 pixels per byte.</p>
<p>If creating a picture from scratch that needs to support a mask, set the <code>MASK</code> flag prior to initialisation and the picture class will allocate the mask bitmap automatically.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Path" style="scroll-margin:3em;"><td class="col-md-1" id="tf-Path"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Path</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>The location of source image data.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Quality" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Quality"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct write access"></i></td><th class="col-md-1">Quality</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Defines the quality level to use when saving the image.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Quality" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The quality level to use when saving the image is defined here.  The value is expressed as a percentage between 0 and 100%, with 100% being of the highest quality.  If the picture format is loss-less, such as PNG, then the quality level may be used to determine the compression factor.</p>
<p>In all cases, the impact of selecting a high level of quality will increase the time it takes to save the image.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Software" style="scroll-margin:3em;"><td class="col-md-1" id="tf-Software"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Software</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>The name of the application that was used to draw the image.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Title" style="scroll-margin:3em;"><td class="col-md-1" id="tf-Title"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Title</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>The title of the image.</td></tr>
</tbody></table><h3>Actions</h3><p>The following actions are currently supported:</p><table class="table"><tbody><tr data-bs-toggle="collapse" data-bs-target="#tac-Activate" style="scroll-margin:3em;" id="ta-Activate" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">Activate</th><td>Loads image data into a picture object.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-Activate" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acActivate(*Object)</samp></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>Loading an image file requires a call to Activate() after initialisation.  The <a data-bs-toggle="tooltip" title="The location of source image data." href="#tf-Path">Path</a> field will be used to source the image file.</p>
<p>Pre-setting picture field values will place restrictions on the image file that is to be loaded.  For example, if the source image is wider than a preset <a href="bitmap.html#tf-Width">Bitmap⇒Width</a>, the image will have its right edge clipped.  The same is true for the <a href="bitmap.html#tf-Height">Bitmap⇒Height</a> and other restrictions apply to fields such as the <a href="bitmap.html#tf-Palette">Bitmap⇒Palette</a>.</p>
<p>Once the picture is loaded, the image data will be held in the picture's <a data-bs-toggle="tooltip" title="Represents a picture's image data." href="#tf-Bitmap">Bitmap</a> object.  Manipulating the <a data-bs-toggle="tooltip" title="Represents a picture's image data." href="#tf-Bitmap">Bitmap</a> object is permitted.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-Init" style="scroll-margin:3em;" id="ta-Init" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">Init</th><td>Prepares the object for use.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-Init" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR InitObject(*Object)</samp></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>Objects that belong to the Picture class can be initialised in two possible ways.  If you have not set the <a data-bs-toggle="tooltip" title="The location of source image data." href="#tf-Path">Path</a> field or have chosen to use the <code>NEW</code> flag, the initialisation routine will create a <a data-bs-toggle="tooltip" title="Represents a picture's image data." href="#tf-Bitmap">Bitmap</a> area that contains no image data.  This allows you to fill the picture with your own image data and save it using the <a data-bs-toggle="tooltip" title="Saves the picture image to a data object." href="#ta-SaveImage">SaveImage()</a> or <a data-bs-toggle="tooltip" title="Saves the picture image to a data object." href="#ta-SaveToObject">SaveToObject()</a> actions.  You must set the <a href="bitmap.html#tf-Width">Bitmap⇒Width</a>, <a href="bitmap.html#tf-Height">Bitmap⇒Height</a> and colour specifications at a minimum, or the initialisation process will fail.</p>
<p>If you have set the <a data-bs-toggle="tooltip" title="The location of source image data." href="#tf-Path">Path</a> field and avoided the <code>NEW</code> flag, the initialisation process will analyse the file location to determine whether or not the data is in fact a valid image file.  If the file does not match up with a registered data format, an error code of <code>ERR::NoSupport</code> is returned.  You will need to use the <a data-bs-toggle="tooltip" title="Loads image data into a picture object." href="#ta-Activate">Activate()</a> or <a data-bs-toggle="tooltip" title="Retrieves the latest information from an object." href="#ta-Query">Query()</a> actions to load or find out more information about the image format.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-Query" style="scroll-margin:3em;" id="ta-Query"><td style="width:1%; border-top-style: none; border-bottom-style: none;"></td><th class="col-md-1 text-primary">Query</th><td>Retrieves the latest information from an object.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-Read" style="scroll-margin:3em;" id="ta-Read" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">Read</th><td>Reads raw image data from a Picture object.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-Read" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acRead(*Object, APTR Buffer, LONG Length, LONG *Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Buffer</td><td>Points a buffer that will receive the data.</td></tr>
<tr><td>Length</td><td>The total number of bytes to read from the object.  This value cannot exceed the size of the Buffer.</td></tr>
<tr><td>Result</td><td>The Read action will write this parameter with the total number of bytes read into the Buffer.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;"></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-Refresh" style="scroll-margin:3em;" id="ta-Refresh"><td style="width:1%; border-top-style: none; border-bottom-style: none;"></td><th class="col-md-1 text-primary">Refresh</th><td>Refreshes a loaded picture - draws the next frame.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-SaveImage" style="scroll-margin:3em;" id="ta-SaveImage" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">SaveImage</th><td>Saves the picture image to a data object.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-SaveImage" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acSaveImage(*Object, OBJECTID Dest, CLASSID ClassID)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Dest</td><td>Refers to an object that will receive the encoded image data.</td></tr>
<tr><td>ClassID</td><td>The Picture class to use for encoding the image data.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>If no destination is specified then the image will be saved as a new file targeting <a data-bs-toggle="tooltip" title="The location of source image data." href="#tf-Path">Path</a>.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-SaveToObject" style="scroll-margin:3em;" id="ta-SaveToObject" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">SaveToObject</th><td>Saves the picture image to a data object.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-SaveToObject" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acSaveToObject(*Object, OBJECTID Dest, CLASSID ClassID)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Dest</td><td>Refers to an object that will receive the encoded data.</td></tr>
<tr><td>ClassID</td><td>Can refer to a sub-class that should be used when encoding the data.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;"></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-Seek" style="scroll-margin:3em;" id="ta-Seek" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">Seek</th><td>Seeks to a new read/write position within a Picture object.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-Seek" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acSeek(*Object, DOUBLE Offset, LONG Position)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Offset</td><td>The desired offset to seek to, relative to the Position parameter.</td></tr>
<tr><td>Position</td><td>The position that defines the starting point for Offset.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;"></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tac-Write" style="scroll-margin:3em;" id="ta-Write" role="button"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><i class="bi bi-chevron-double-right text-secondary"></i></td><th class="col-md-1 text-primary">Write</th><td>Writes raw image data to a picture object.</td></tr><tr><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="tac-Write" class="collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR acWrite(*Object, APTR Buffer, LONG Length, LONG Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Buffer</td><td>A buffer containing the data that will be written to the object.</td></tr>
<tr><td>Length</td><td>The total number of bytes to write to the object.</td></tr>
<tr><td>Result</td><td>This parameter with be updated with the total number of bytes written from the Buffer.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;"></div></div></td></tr>
</tbody></table><div class="footer copyright text-right">Picture class documentation © Paul Manias © 2001-2025</div></div><div class="docs-content" style="display:none;" id="PCF"><h1>PCF Type</h1><p class="lead">Flags for the Picture class.</p><table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th>PCF::ALPHA</th><td>If a picture supports an alpha channel, this field will be set (if you will be saving a Picture with an alpha channel, set this flag prior to initialisation and build the channel using the object provided in the <a data-bs-toggle="tooltip" title="Refers to a Bitmap that imposes a mask on the image." href="#tf-Mask">Mask</a> field).</td></tr>
<tr><th>PCF::FORCE_ALPHA_32</th><td>If the picture source includes an alpha channel mask, it will normally be separated out and stored in the <a data-bs-toggle="tooltip" title="Refers to a Bitmap that imposes a mask on the image." href="#tf-Mask">Mask</a> field.  If you set the <code>FORCE_ALPHA_32</code> option before loading, the image will be forced into 32-bit graphics mode with alpha channel.  The mask information will be stored in the alpha byte and the <a data-bs-toggle="tooltip" title="Refers to a Bitmap that imposes a mask on the image." href="#tf-Mask">Mask</a> field will not be set.</td></tr>
<tr><th>PCF::LAZY</th><td>Prevents automatic loading of the picture image.  Use the Query action to process the picture header or Activate to load the image data.</td></tr>
<tr><th>PCF::MASK</th><td>A mask has been generated for the image.</td></tr>
<tr><th>PCF::NEW</th><td>Indicates that the picture image will be created from scratch.</td></tr>
<tr><th>PCF::NO_PALETTE</th><td>Automatically upgrade palette based images to 32 bit colour.</td></tr>
<tr><th>PCF::SCALABLE</th><td>This read-only flag is automatically set if the image source is scalable (such as SVG).</td></tr>
</tbody></table><div class="footer copyright text-right">Picture module documentation © Paul Manias © 2001-2025</div></div>
</div></div></div><script type="text/javascript" src="../../js/bootstrap.bundle.min.js"></script><script type="text/javascript" src="../../js/base.js"></script><script type="text/javascript">
const ready = fn => document.readyState !== 'loading' ? fn() : document.addEventListener('DOMContentLoaded', fn);

   var xslt = false;
   var url = window.location.pathname;
   var filename = url.substring(url.lastIndexOf('/')+1);
   if (filename.endsWith(".xml")) { // XSLT is being used to view this document
      filename = filename.substr(0, filename.length-3) + 'html';
      xslt = true;
   }

   // Auto-open the relevant sidebar branch

   var nl = document.querySelectorAll('li[class="api-ref"] > a[href="' + filename + '"]');
   if (nl.length > 0) {
      // Target the last matching element to avoid confusion with matching module names (e.g. Audio module == Audio class)
      var el = nl.item(nl.length-1)
      var parent = getParentNode(el, '[class="collapse"]');
      if (parent) new bootstrap.Collapse(parent, { show: true }); // Causes animation

      el.style.backgroundColor = '#d2f4ea';
   }

   var page = glParameters["page"];
   if (isEmpty(page)) page = glParameters["function"];
   var div = document.getElementById(page);
   if (!div) div = document.getElementById("default-page");
   if (div) div.style.display = "block";

   cancelAnimations();

ready(function(){
   // Initialise tooltips
   var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
   var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
     return new bootstrap.Tooltip(tooltipTriggerEl)
   })

   // In XSLT mode, changing all HTML links to XML is helpful for navigation (if heavy handed)
   if (xslt) {
      var nl = document.querySelectorAll('a[href*=".html"]');
      nl.forEach((el) => {
         el.href = el.href.substr(0, el.href.length-5) + '.xml'
      })
   }
});

         </script></body></html>
