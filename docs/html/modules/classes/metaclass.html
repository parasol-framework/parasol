<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="-//W3C//DTD XHTML 1.1//EN" xml:lang="en" xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><script type="text/javascript" async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8254DG7MT6"> </script><script type="text/javascript">
	   window.dataLayer = window.dataLayer || [];
	   function gtag(){dataLayer.push(arguments);}
	   gtag('js', new Date());
      gtag('config', 'G-8254DG7MT6');</script><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="description" content="Parasol Framework documentation, machine generated from source"></meta><meta name="author" content="Paul Manias"></meta><link rel="icon" href="/favicon.ico"></link><title>Parasol Framework Manual</title><link href="../../css/bootstrap.min.css" rel="stylesheet"></link><link href="../../css/module-template.css" rel="stylesheet"></link><script type="text/javascript">
          var shiftWindow = function() { scrollBy(0, -100) };
          window.addEventListener("hashchange", shiftWindow);
          function load() { if (window.location.hash) shiftWindow(); }
        </script></head><body><nav class="navbar navbar-expand-sm navbar-dark bg-dark"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="../../index.html">Parasol Framework</a></div><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="nav-item"><a class="nav-link" href="../../gallery.html">Gallery</a></li><li class="nav-item"><a class="nav-link" href="../api.html">API</a></li><li class="nav-item"><a class="nav-link" href="../../wiki/Home.html">Wiki</a></li><li class="nav-item"><a class="nav-link" href="https://github.com/parasol-framework/parasol">GitHub</a></li></ul></div></div></nav>
<div class="container-fluid"><div class="row"><div class="d-sm-block d-none col-3 sidebar" style="max-width: 230px;"><div class="flex-shrink-1 pt-2 pe-2 sticky-top overflow-auto vh-100 b-shadow">
<ul class="list-unstyled"><li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#mod-collapse" aria-expanded="false">Modules</button><div class="collapse" id="mod-collapse"><ul class="btn-toggle-nav list-unstyled fw-normal"><li class="api-ref"><a class="rounded" href="../audio.html">Audio</a></li><li class="api-ref"><a class="rounded" href="../core.html">Core</a></li><li class="api-ref"><a class="rounded" href="../display.html">Display</a></li><li class="api-ref"><a class="rounded" href="../fluid.html">Fluid</a></li><li class="api-ref"><a class="rounded" href="../font.html">Font</a></li><li class="api-ref"><a class="rounded" href="../network.html">Network</a></li><li class="api-ref"><a class="rounded" href="../vector.html">Vector</a></li></ul></div></li></ul>
<ul class="list-unstyled"><li class="border-top my-3"></li><li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#audio-collapse" aria-expanded="false">Audio</button><div class="collapse" id="audio-collapse"><ul class="btn-toggle-nav list-unstyled fw-normal pb-1"><li class="api-ref"><a class="rounded" href="audio.html">Audio</a></li><li class="api-ref"><a class="rounded" href="sound.html">Sound</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#core-collapse" aria-expanded="false">Core</button><div class="collapse" id="core-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="file.html">File</a></li><li class="api-ref"><a class="rounded" href="metaclass.html">MetaClass</a></li><li class="api-ref"><a class="rounded" href="module.html">Module</a></li><li class="api-ref"><a class="rounded" href="storagedevice.html">StorageDevice</a></li><li class="api-ref"><a class="rounded" href="task.html">Task</a></li><li class="api-ref"><a class="rounded" href="thread.html">Thread</a></li><li class="api-ref"><a class="rounded" href="time.html">Time</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#data-collapse" aria-expanded="false">Data</button><div class="collapse" id="data-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="compression.html">Compression</a></li><li class="api-ref"><a class="rounded" href="config.html">Config</a></li><li class="api-ref"><a class="rounded" href="script.html">Script</a></li><li class="api-ref"><a class="rounded" href="xml.html">XML</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#devices-collapse" aria-expanded="false">Devices</button><div class="collapse" id="devices-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="controller.html">Controller</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#effects-collapse" aria-expanded="false">Effects</button><div class="collapse" id="effects-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="blurfx.html">BlurFX</a></li><li class="api-ref"><a class="rounded" href="colourfx.html">ColourFX</a></li><li class="api-ref"><a class="rounded" href="compositefx.html">CompositeFX</a></li><li class="api-ref"><a class="rounded" href="convolvefx.html">ConvolveFX</a></li><li class="api-ref"><a class="rounded" href="displacementfx.html">DisplacementFX</a></li><li class="api-ref"><a class="rounded" href="filtereffect.html">FilterEffect</a></li><li class="api-ref"><a class="rounded" href="floodfx.html">FloodFX</a></li><li class="api-ref"><a class="rounded" href="imagefx.html">ImageFX</a></li><li class="api-ref"><a class="rounded" href="lightingfx.html">LightingFX</a></li><li class="api-ref"><a class="rounded" href="mergefx.html">MergeFX</a></li><li class="api-ref"><a class="rounded" href="morphologyfx.html">MorphologyFX</a></li><li class="api-ref"><a class="rounded" href="offsetfx.html">OffsetFX</a></li><li class="api-ref"><a class="rounded" href="remapfx.html">RemapFX</a></li><li class="api-ref"><a class="rounded" href="sourcefx.html">SourceFX</a></li><li class="api-ref"><a class="rounded" href="turbulencefx.html">TurbulenceFX</a></li><li class="api-ref"><a class="rounded" href="wavefunctionfx.html">WaveFunctionFX</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#ext-collapse" aria-expanded="false">Extensions</button><div class="collapse" id="ext-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="scintilla.html">Scintilla</a></li><li class="api-ref"><a class="rounded" href="scintillasearch.html">ScintillaSearch</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#gfx-collapse" aria-expanded="false">Graphics</button><div class="collapse" id="gfx-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="bitmap.html">Bitmap</a></li><li class="api-ref"><a class="rounded" href="clipboard.html">Clipboard</a></li><li class="api-ref"><a class="rounded" href="display.html">Display</a></li><li class="api-ref"><a class="rounded" href="document.html">Document</a></li><li class="api-ref"><a class="rounded" href="font.html">Font</a></li><li class="api-ref"><a class="rounded" href="picture.html">Picture</a></li><li class="api-ref"><a class="rounded" href="pointer.html">Pointer</a></li><li class="api-ref"><a class="rounded" href="surface.html">Surface</a></li><li class="api-ref"><a class="rounded" href="svg.html">SVG</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#net-collapse" aria-expanded="false">Network</button><div class="collapse" id="net-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="clientsocket.html">ClientSocket</a></li><li class="api-ref"><a class="rounded" href="http.html">HTTP</a></li><li class="api-ref"><a class="rounded" href="netsocket.html">NetSocket</a></li><li class="api-ref"><a class="rounded" href="proxy.html">Proxy</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#vectors-collapse" aria-expanded="false">Vectors</button><div class="collapse" id="vectors-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="vector.html">Vector</a></li><li class="api-ref"><a class="rounded" href="vectorclip.html">VectorClip</a></li><li class="api-ref"><a class="rounded" href="vectorcolour.html">VectorColour</a></li><li class="api-ref"><a class="rounded" href="vectorellipse.html">VectorEllipse</a></li><li class="api-ref"><a class="rounded" href="vectorfilter.html">VectorFilter</a></li><li class="api-ref"><a class="rounded" href="vectorgradient.html">VectorGradient</a></li><li class="api-ref"><a class="rounded" href="vectorgroup.html">VectorGroup</a></li><li class="api-ref"><a class="rounded" href="vectorimage.html">VectorImage</a></li><li class="api-ref"><a class="rounded" href="vectorpath.html">VectorPath</a></li><li class="api-ref"><a class="rounded" href="vectorpattern.html">VectorPattern</a></li><li class="api-ref"><a class="rounded" href="vectorpolygon.html">VectorPolygon</a></li><li class="api-ref"><a class="rounded" href="vectorrectangle.html">VectorRectangle</a></li><li class="api-ref"><a class="rounded" href="vectorscene.html">VectorScene</a></li><li class="api-ref"><a class="rounded" href="vectorshape.html">VectorShape</a></li><li class="api-ref"><a class="rounded" href="vectorspiral.html">VectorSpiral</a></li><li class="api-ref"><a class="rounded" href="vectortext.html">VectorText</a></li><li class="api-ref"><a class="rounded" href="vectortransition.html">VectorTransition</a></li><li class="api-ref"><a class="rounded" href="vectorviewport.html">VectorViewport</a></li><li class="api-ref"><a class="rounded" href="vectorwave.html">VectorWave</a></li></ul></div></li></ul></div></div>
<div class="col-sm-9" style="max-width: 1200px;"><div class="docs-content" style="display:none;" id="default-page"><div class="page-header"><h1>MetaClass Class</h1></div><p class="lead">The MetaClass is used to manage all classes supported by the system core.</p>
<p>The MetaClass is responsible for managing the construction of new classes.  Each MetaClass object remains active for the lifetime of the running program, and provides the benefit of run-time introspection so that detailed class information can be retrieved at any time.  This enables scripting languages such as Fluid to interact with all class types without needing active knowledge of their capabilities.</p>
<p>A number of additional functions are available in the Core for the purpose of class management and introspection. <a href="?page=FindClass">FindClass()</a> allows all registered classes to be scanned.  <a href="?page=CheckAction">CheckAction()</a> verifies if a specific action is supported by a class.  <a href="?page=FindField">FindField()</a> confirms if a specific field is declared in the class specification.</p>
<p>Classes are typically declared in modules, but if a class is intended to be private for an executable then declaring it within the application code is feasible also.</p>
<p>Further discussion on classes and their technical aspects can be found in the Parasol Wiki.</p>
<h3>Structure</h3><p>The MetaClass class consists of the following fields:</p><table class="table"><thead><th class="col-md-1"><div data-bs-toggle="tooltip" title="Read/Write access indicators are listed below">Access</div></th><th class="col-md-1">Name</th><th class="col-md-1">Type</th><th>Comment</th></thead><tbody><tr data-bs-toggle="collapse" data-bs-target="#fl-ActionTable" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-ActionTable"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">ActionTable</th><td class="col-md-1"><span class="text-nowrap">APTR []</span></td><td>This field can be read to retrieve a MetaClass object's internal action table.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-ActionTable" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field retrieves the internal action table of a class. The action table is arranged into a jump table of action routines, with each routine pointing directly to the object support functions.  The size of the jump table is defined by the global constant <code>AC::END</code>.  The table is sorted by action ID.</p>
<p>It is possible to check if an action is supported by a class by looking up its index within the ActionTable, for example <code>Routine[AC::Read]</code>.  Calling an action routine directly from client code is an illegal operation.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Actions" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Actions"><i class="bi bi-dash-circle text-secondary" data-bs-toggle="tooltip" title="Not readable"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">Actions</th><td class="col-md-1"><span class="text-nowrap">APTR</span></td><td>Defines the actions supported by the class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Actions" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Action routines are associated with a new class by referring to a list of <a data-bs-toggle="tooltip" title="" href="?page=struct-ActionArray">ActionArray</a> items in this field. Each provided action ID must be paired with its associated routine.</p>
<p>Internally, the provided list is copied to the <a data-bs-toggle="tooltip" title="This field can be read to retrieve a MetaClass object's internal action table." href="#tf-ActionTable">ActionTable</a> and the original values will serve no further purpose.</p>
<p>The following example shows a list of <a data-bs-toggle="tooltip" title="" href="?page=struct-ActionArray">ActionArray</a> structures borrowed from the <a href="picture.html">Picture</a> class.  Note that such lists can also be auto-generated using our IDL scripts - an approach that we strongly recommend.</p>
<pre>ActionArray clActions[] = {
   { AC::Free,          PIC_Free },
   { AC::NewObject,     PIC_NewObject },
   { AC::Init,          PIC_Init },
   { AC::Query,         PIC_Query },
   { AC::Read,          PIC_Read },
   { AC::SaveToObject,  PIC_SaveToObject },
   { AC::Seek,          PIC_Seek },
   { AC::Write,         PIC_Write },
   { 0, NULL }
};
</pre>
<p>Note: Never refer to method ID's in an action list - the <a data-bs-toggle="tooltip" title="Set this field to define the methods supported by the class." href="#tf-Methods">Methods</a> field is provided for this purpose.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-BaseClassID" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-BaseClassID"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">BaseClassID</th><td class="col-md-1"><span class="text-nowrap">CLASSID</span></td><td>Specifies the base class ID of a class object.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-BaseClassID" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The BaseClassID must always be set prior to the initialisation of a new MetaClass object unless <a data-bs-toggle="tooltip" title="The name of the represented class." href="#tf-ClassName">ClassName</a> is considered sufficient.  If the BaseClassID is zero then the hash of <a data-bs-toggle="tooltip" title="The name of the represented class." href="#tf-ClassName">ClassName</a> is computed and set as the value of BaseClassID.</p>
<p>When defining a sub-class, it is required that the BaseClassID refers to the class that is being supported.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Category" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Category"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">Category</th><td class="col-md-1"><span class="text-nowrap">CCF</span></td><td>The system category that a class belongs to.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Category" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>When designing a new class it is recommended that a suitable category is chosen and declared in this field. It is acceptable for a class to be a member of multiple categories by combining category flags together.</p>
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">CCF::AUDIO</th><td>Audio classes interface with audio hardware and drivers for audio playback and recording purposes.</td></tr>
<tr><th class="col-md-1">CCF::COMMAND</th><td>Command classes perform specific procedures, like copying or moving a file, managing volumes or executing a program.</td></tr>
<tr><th class="col-md-1">CCF::DATA</th><td>Data classes parse, query and manipulate data.</td></tr>
<tr><th class="col-md-1">CCF::FILESYSTEM</th><td>FileSystem classes are based on file management and interaction with file based data.</td></tr>
<tr><th class="col-md-1">CCF::GRAPHICS</th><td>Graphics classes provide graphics management and drawing services.</td></tr>
<tr><th class="col-md-1">CCF::GUI</th><td>GUI classes are used in the development of graphical user interfaces.</td></tr>
<tr><th class="col-md-1">CCF::IO</th><td>I/O classes manage hardware and software based input and output.</td></tr>
<tr><th class="col-md-1">CCF::MISC</th><td>Miscellaneous classes do not fit into any of the other available categories.</td></tr>
<tr><th class="col-md-1">CCF::MULTIMEDIA</th><td>Classes that represent more than one media type, e.g. video files.</td></tr>
<tr><th class="col-md-1">CCF::NETWORK</th><td>Network classes interface with system drivers to simplify network communications.</td></tr>
<tr><th class="col-md-1">CCF::SYSTEM</th><td>System classes are designed to provide low-level services related to system management.</td></tr>
<tr><th class="col-md-1">CCF::TOOL</th><td>Tools provide interactive services for the user.</td></tr>
</tbody></table>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-ClassID" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-ClassID"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">ClassID</th><td class="col-md-1"><span class="text-nowrap">CLASSID</span></td><td>Specifies the ID of a class object.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-ClassID" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The ClassID uniquely identifies a class.  If this value differs from the BaseClassID, then the class is determined to be a sub-class.  The ClassID value always reflects the <code>strihash()</code> computation of the <a data-bs-toggle="tooltip" title="The name of the represented class." href="#tf-ClassName">ClassName</a>, and is automatically set on initialisation if not already set by the client.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-ClassName" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-ClassName"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">ClassName</th><td class="col-md-1"><span class="text-nowrap">CSTRING</span></td><td>The name of the represented class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-ClassName" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field specifies the name of the represented class.  Characters should be limited to those in the range of A-Z and written in camel case, e.g. <code>KeyValue</code> and not <code>Keyvalue</code> or <code>KEYVALUE</code>.  Setting this field value is compulsory prior to initialisation.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-ClassVersion" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-ClassVersion"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">ClassVersion</th><td class="col-md-1"><span class="text-nowrap">DOUBLE</span></td><td>The version number of the class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-ClassVersion" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field value must reflect the version of the class structure.  Legal version numbers start from 1.0 and ascend. Revision numbers can be used to indicate bug-fixes or very minor changes.</p>
<p>If declaring a sub-class then this value can be <code>0</code>, but base classes must set a value here.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Dictionary" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Dictionary"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Dictionary</th><td class="col-md-1"><span class="text-nowrap">struct Field *</span></td><td>Returns a field lookup table sorted by field IDs.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Dictionary" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Following initialisation of the MetaClass, the Dictionary can be read to retrieve the internal field lookup table. For base-classes, the client can use the binary search technique to find fields by their ID.  For sub-classes, use linear scanning.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Fields" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Fields"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Fields</th><td class="col-md-1"><span class="text-nowrap">const struct FieldArray *</span></td><td>Points to a <a data-bs-toggle="tooltip" title="" href="?page=struct-FieldArray">FieldArray</a> that describes the class' object structure.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Fields" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field points to an array that describes the structure of objects that will be generated for this class.  It is compulsory that base classes define this array.  Sub-classes will inherit the structure of their base, but they may set Fields with additional virtual fields if desired.</p>
<p>Refer to the Parasol Wiki on class development for more information.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-FileDescription" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-FileDescription"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">FileDescription</th><td class="col-md-1"><span class="text-nowrap">CSTRING</span></td><td>Describes the file type represented by the class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-FileDescription" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field allows you to specify a description of the class' file type, if the class is designed to be file related. This setting can be important, as it helps to distinguish your class from the other file based classes.  Always make sure that your file description is short, descriptive and unique.  A file description such as <code>JPEG</code> is not acceptable, but <code>JPEG Picture</code> would be appropriate.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-FileExtension" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-FileExtension"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">FileExtension</th><td class="col-md-1"><span class="text-nowrap">CSTRING</span></td><td>Describes the file extension represented by the class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-FileExtension" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field describes the file extension/s that the class will recognise.  For example: <code>*.wav|*.wave|*.snd</code>.</p>
<p>Use of the vertical bar allows more than one file extension to be supported by the class. The file extension that is preferred for saving data must come first.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-FileHeader" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-FileHeader"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">FileHeader</th><td class="col-md-1"><span class="text-nowrap">CSTRING</span></td><td>Defines a string expression that will allow relevant file data to be matched to the class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-FileHeader" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If a class supports file data, then the FileHeader field is used to identify the types of data that the class supports. This feature is used by routines that need to analyse files and determine which classes support them.</p>
<p>For example, the JPEG class supports files that start with a 32-bit token to identify them as JPEG.  Declaring a FileHeader expression to match these tokens will allow the FileView feature to detect JPEG files and display an appropriate icon for each JPEG entry in the file list.</p>
<p>The expression format is <code>[Offset:Value]...</code></p>
<p>The offset is an integer that identifies the byte position at which the given Value will be present.  The Value is expressed as a hexadecimal number if it is prefixed with a dollar sign $, otherwise the Value is treated as case-sensitive text.  Multiple expressions can be specified in sequence if there is more than one comparison to be made - so <code>[0:$ff][8:$fe]</code> would require $ff at offset 0 and $fe at offset 8 in order to generate a match.</p>
<p>In some cases, a series of unrelated token sequences may need to be used to match against files.  This is true for the JPEG class, which supports three different tokens all at offset 0 for identification.  Each matching sequence must be separated with an OR symbol | as demonstrated in this example for the JPEG header: <code>[0:$ffd8ffe0]|[0:$ffd8ffe1]|[0:$ffd8fffe]</code>.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Flags" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Flags"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">Flags</th><td class="col-md-1"><span class="text-nowrap">CLF</span></td><td>Optional flag settings.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Flags" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">CLF::INHERIT_LOCAL</th><td>Inherit the functionality of local objects defined in the class spec.</td></tr>
<tr><th class="col-md-1">CLF::NO_OWNERSHIP</th><td>Objects created will not be tracked to the creating process, nor any parent object (<a href="core.html?page=SetOwner">SetOwner()</a> will not work either).</td></tr>
</tbody></table>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Icon" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Icon"><i class="bi bi-dash-circle text-secondary" data-bs-toggle="tooltip" title="Not readable"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Icon</th><td class="col-md-1"><span class="text-nowrap">CSTRING</span></td><td>Associates an icon with the file data for this class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Icon" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Files that belong to a class can be associated with an icon that is declared in this field.  The icon string format is <code>folder/icon</code>.  Valid icons are available in the icon database.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Location" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Location"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Location</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Returns the path from which the class binary is loaded.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Location" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The path from which the class binary was loaded is readable from this field.  The path may not necessarily include the file extension of the source binary.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Methods" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Methods"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Methods</th><td class="col-md-1"><span class="text-nowrap">STRUCT []</span></td><td>Set this field to define the methods supported by the class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Methods" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If a class design will include support for methods, create a MethodEntry list and set this field prior to initialisation.  The array must provide information on each method's ID, name, parameters, and structure size.</p>
<p>Note that method lists can be auto-generated using our IDL scripts - an approach that we strongly recommend.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Module" style="scroll-margin:3em;"><td class="col-md-1" id="tf-Module"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Module</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>The name of the module binary that initialised the class.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Objects" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Objects"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Objects</th><td class="col-md-1"><span class="text-nowrap">INT []</span></td><td>Returns an allocated list of all objects that belong to this class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Objects" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field will compile a list of all objects that belong to the class.  The list is sorted with the oldest object appearing first.</p>
<p>The resulting array must be terminated with <a href="?page=FreeResource">FreeResource()</a> after use.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-OpenCount" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-OpenCount"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">OpenCount</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>The total number of active objects that are linked back to the MetaClass.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-OpenCount" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field reveals the total number of objects that reference the class.  This figure will fluctuate over time as new objects are created and old ones are destroyed.  When the OpenCount reaches zero, the Core may flush the <a href="module.html">Module</a> that the class is related to, so long as no more programs are using it or any other classes created by the module.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Path" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Path"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">Path</th><td class="col-md-1"><span class="text-nowrap">CSTRING</span></td><td>The path to the module binary that represents the class.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Path" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The Path field must be set on initialisation and refers to the default location of the class' module binary, for example <code>modules:display</code>. For reasons of platform portability, the file extension must not be specified at the end of the file name.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-RootModule" style="scroll-margin:3em;"><td class="col-md-1" id="tf-RootModule"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">RootModule</th><td class="col-md-1"><span class="text-nowrap">OBJECTPTR</span></td><td>Returns a direct reference to the RootModule object that hosts the class.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Size" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Size"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">Size</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>The total size of the object structure represented by the MetaClass.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Size" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field value must indicate the byte size of the objects that will be created from the MetaClass.  For example, the <a href="picture.html">Picture</a> class defines this value as <code>sizeof(objPicture)</code>.</p>
<p>If the size is not explicitly defined, the initialisation process will determine the structure size by evaluating the field definitions that have been provided.</p>
      
</div></div></td></tr>
</tbody></table><h3>Methods</h3><p>The following methods are currently supported:</p><table class="table"><tbody><tr data-bs-toggle="collapse" data-bs-target="#tmx-FindField" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">FindField</th><td id="tm-FindField">Search a class definition for a specific field.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-FindField" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR mc::FindField(OBJECTPTR Object, INT ID, struct Field ** Field, objMetaClass ** Source)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>ID</td><td>The field ID to search for.  Field names can be converted to ID's by using the <code>strihash()</code> function.</td></tr>
<tr><td>Field</td><td>Pointer to the <a data-bs-toggle="tooltip" title="" href="?page=struct-Field">Field</a> if discovered, otherwise <code>NULL</code>.</td></tr>
<tr><td>Source</td><td>Pointer to the class that is associated with the <code>Field</code> (which can match the caller), or <code>NULL</code> if the field was not found.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method checks if a class has defined a given field by scanning its blueprint for a matching <code>ID</code>.  If found, a direct pointer to the <code>Field</code> struct will be returned to the client.</p>
<p>In some clases the field might not be present in the main class spec, but does appear in an integral class.  In that case, a reference to the class will be returned in the <code>Source</code> parameter.</p>
      
</div></div></td></tr>
</tbody></table><div class="footer copyright text-right">MetaClass class documentation © Paul Manias 1996-2025</div></div><div class="docs-content" style="display:none;" id="CCF"><h1>CCF Type</h1><p class="lead">Class categories</p><table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th>CCF::AUDIO</th><td>Audio classes interface with audio hardware and drivers for audio playback and recording purposes.</td></tr>
<tr><th>CCF::COMMAND</th><td>Command classes perform specific procedures, like copying or moving a file, managing volumes or executing a program.</td></tr>
<tr><th>CCF::DATA</th><td>Data classes parse, query and manipulate data.</td></tr>
<tr><th>CCF::FILESYSTEM</th><td>FileSystem classes are based on file management and interaction with file based data.</td></tr>
<tr><th>CCF::GRAPHICS</th><td>Graphics classes provide graphics management and drawing services.</td></tr>
<tr><th>CCF::GUI</th><td>GUI classes are used in the development of graphical user interfaces.</td></tr>
<tr><th>CCF::IO</th><td>I/O classes manage hardware and software based input and output.</td></tr>
<tr><th>CCF::MISC</th><td>Miscellaneous classes do not fit into any of the other available categories.</td></tr>
<tr><th>CCF::MULTIMEDIA</th><td>Classes that represent more than one media type, e.g. video files.</td></tr>
<tr><th>CCF::NETWORK</th><td>Network classes interface with system drivers to simplify network communications.</td></tr>
<tr><th>CCF::SYSTEM</th><td>System classes are designed to provide low-level services related to system management.</td></tr>
<tr><th>CCF::TOOL</th><td>Tools provide interactive services for the user.</td></tr>
</tbody></table><div class="footer copyright text-right">MetaClass module documentation © Paul Manias 1996-2025</div></div>
<div class="docs-content" style="display:none;" id="CLF"><h1>CLF Type</h1><p class="lead">Flags for the MetaClass.</p><table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th>CLF::INHERIT_LOCAL</th><td>Inherit the functionality of local objects defined in the class spec.</td></tr>
<tr><th>CLF::NO_OWNERSHIP</th><td>Objects created will not be tracked to the creating process, nor any parent object (<a href="core.html?page=SetOwner">SetOwner()</a> will not work either).</td></tr>
</tbody></table><div class="footer copyright text-right">MetaClass module documentation © Paul Manias 1996-2025</div></div>
<div class="docs-content" style="display:none;" id="struct-ActionArray"><h1>ActionArray Structure</h1><p class="lead"></p><table class="table"><thead><tr><th class="col-md-1">Field</th><th class="col-md-1">Type</th><th>Description</th></tr></thead><tbody><tr><th>Routine</th><td><span class="text-nowrap">APTR</span></td><td>Pointer to the function entry point</td></tr>
<tr><th>ActionCode</th><td><span class="text-nowrap">AC</span></td><td>Action identifier</td></tr>
</tbody></table><div class="footer copyright text-right">MetaClass class documentation © Paul Manias 1996-2025</div></div>
<div class="docs-content" style="display:none;" id="struct-Field"><h1>Field Structure</h1><p class="lead">Used to describe the public fields of a class.</p><table class="table"><thead><tr><th class="col-md-1">Field</th><th class="col-md-1">Type</th><th>Description</th></tr></thead><tbody><tr><th>Arg</th><td><span class="text-nowrap">MAXINT</span></td><td>An option to complement the field type.  Can be a pointer or an integer value</td></tr>
<tr><th>GetValue</th><td><span class="text-nowrap">FUNCTION *</span></td><td>A virtual function that will retrieve the value for this field.</td></tr>
<tr><th>SetValue</th><td><span class="text-nowrap">APTR</span></td><td>A virtual function that will set the value for this field.</td></tr>
<tr><th>WriteValue</th><td><span class="text-nowrap">FUNCTION *</span></td><td>An internal function for writing to this field.</td></tr>
<tr><th>Name</th><td><span class="text-nowrap">CSTRING</span></td><td>The English name for the field, e.g. <code>Width</code></td></tr>
<tr><th>FieldID</th><td><span class="text-nowrap">UINT</span></td><td>Provides a fast way of finding fields, e.g. <code>FID_Width</code></td></tr>
<tr><th>Offset</th><td><span class="text-nowrap">UINT16</span></td><td>Field offset within the object</td></tr>
<tr><th>Index</th><td><span class="text-nowrap">UINT16</span></td><td>Field array index</td></tr>
<tr><th>Flags</th><td><span class="text-nowrap">UINT</span></td><td>Special flags that describe the field</td></tr>
</tbody></table><div class="footer copyright text-right">MetaClass class documentation © Paul Manias 1996-2025</div></div>
<div class="docs-content" style="display:none;" id="struct-FieldArray"><h1>FieldArray Structure</h1><p class="lead">Used to construct class blueprints for the MetaClass.</p><table class="table"><thead><tr><th class="col-md-1">Field</th><th class="col-md-1">Type</th><th>Description</th></tr></thead><tbody><tr><th>Name</th><td><span class="text-nowrap">CSTRING</span></td><td>The name of the field, e.g. <code>Width</code></td></tr>
<tr><th>GetField</th><td><span class="text-nowrap">APTR</span></td><td><code>void GetField(*Object, APTR Result);</code></td></tr>
<tr><th>SetField</th><td><span class="text-nowrap">APTR</span></td><td><code>ERR SetField(*Object, APTR Value);</code></td></tr>
<tr><th>Arg</th><td><span class="text-nowrap">MAXINT</span></td><td>Can be a pointer or an integer value</td></tr>
<tr><th>Flags</th><td><span class="text-nowrap">UINT</span></td><td>Special flags that describe the field</td></tr>
</tbody></table><div class="footer copyright text-right">MetaClass class documentation © Paul Manias 1996-2025</div></div>
</div></div></div><script type="text/javascript" src="../../js/bootstrap.bundle.min.js"></script><script type="text/javascript" src="../../js/base.js"></script><script type="text/javascript">
const ready = fn => document.readyState !== 'loading' ? fn() : document.addEventListener('DOMContentLoaded', fn);

   var xslt = false;
   var url = window.location.pathname;
   var filename = url.substring(url.lastIndexOf('/')+1);
   if (filename.endsWith(".xml")) { // XSLT is being used to view this document
      filename = filename.substr(0, filename.length-3) + 'html';
      xslt = true;
   }

   // Auto-open the relevant sidebar branch

   var nl = document.querySelectorAll('li[class="api-ref"] > a[href="' + filename + '"]');
   if (nl.length > 0) {
      // Target the last matching element to avoid confusion with matching module names (e.g. Audio module == Audio class)
      var el = nl.item(nl.length-1)
      var parent = getParentNode(el, '[class="collapse"]');
      if (parent) new bootstrap.Collapse(parent, { show: true }); // Causes animation

      el.style.backgroundColor = '#d2f4ea';
   }

   var page = glParameters["page"];
   if (isEmpty(page)) page = glParameters["function"];
   var div = document.getElementById(page);
   if (!div) div = document.getElementById("default-page");
   if (div) div.style.display = "block";

   cancelAnimations();

ready(function(){
   // Initialise tooltips
   var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
   var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
     return new bootstrap.Tooltip(tooltipTriggerEl)
   })

   // In XSLT mode, changing all HTML links to XML is helpful for navigation (if heavy handed)
   if (xslt) {
      var nl = document.querySelectorAll('a[href*=".html"]');
      nl.forEach((el) => {
         el.href = el.href.substr(0, el.href.length-5) + '.xml'
      })
   }
});

         </script></body></html>
