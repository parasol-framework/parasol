<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8254DG7MT6"> </script><script>
	   window.dataLayer = window.dataLayer || [];
	   function gtag(){dataLayer.push(arguments);}
	   gtag('js', new Date());
      gtag('config', 'G-8254DG7MT6');</script><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Parasol Framework documentation, machine generated from source"><meta name="author" content="Paul Manias"><link rel="icon" href="/favicon.ico"><title>Parasol Framework Manual</title><link href="../../css/bootstrap.min.css" rel="stylesheet"><link href="../../css/module-template.css" rel="stylesheet"><script>
          var shiftWindow = function() { scrollBy(0, -100) };
          window.addEventListener("hashchange", shiftWindow);
          function load() { if (window.location.hash) shiftWindow(); }
        </script></head><body><nav class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/index.html">Parasol Framework</a></div><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="../core.xml">Modules</a></li><li class="active"><a href="module.xml">Classes</a></li><li><a href="../fluid.html">Fluid</a></li></ul></div></div></nav><div id="container-body" class="container"><div id="row-body" class="row"><div class="col-sm-9"><div class="docs-content" id="default-page"><div class="page-header"><h1>Script Class</h1></div><p class="lead">The Script class defines a common interface for script execution.</p>
<p>The Script class defines a common interface for the purpose of executing scripts, such as Fluid.  The base class does not include a default parser or execution process of any kind.</p>
<p>To execute a script file, choose a sub-class that matches the language and create the script object.  Set the <a data-toggle="tooltip" title="The location of the file that is to be processed as a script." href="#tf-Path">Path</a> field and then <a data-toggle="tooltip" title="Executes the script." href="#ta-Activate">Activate()</a> the script.  Global input parameters for the script can be defined via the <a data-toggle="tooltip" title="Script parameters can be set through this action." href="#ta-SetVar">SetVar()</a> action.</p>
<p>Note that client scripts may sometimes create objects that are unmanaged by the script object that created them. Terminating the script will not remove objects that are outside its resource hierarchy.</p><h3>Structure</h3><p>The Script class consists of the following fields:</p><table class="table table-hover"><thead><th class="col-md-1"><div data-toggle="tooltip" title="Read/Write access indicators are listed below">Access</div></th><th class="col-md-1">Name</th><th class="col-md-1">Type</th><th>Comment</th></thead><tbody><tr id="_" data-toggle="collapse" data-target="#fl-CacheFile" class="clickable"><td class="col-md-1"><a id="tf-CacheFile"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">CacheFile</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Compilable script languages can be compiled to a cache file.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-CacheFile" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Scripts that support compilation of the source code can be compiled to a target file when the script is initialised. This file is then used as a cache, so that if the cache file exists on the next initialisation then the cache file is used instead of the original source code.</p>
<p>If the cache file exists, a determination on whether the source code has been edited is usually made by comparing date stamps on the original and cache files.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-CurrentLine" class="clickable"><td class="col-md-1"><a id="tf-CurrentLine"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">CurrentLine</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Indicates the current line being executed when in debug mode.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-CurrentLine" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>In debug mode, the CurrentLine will indicate the current line of execution (according to the original source code for the script).</p>
<p>It should be noted that not all script processors will support this feature, in which case the value for this field will be set to -1.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Error" class="clickable"><td class="col-md-1"><a id="tf-Error"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">Error</th><td class="col-md-1"><span class="text-nowrap">ERROR</span></td><td>If a script fails during execution, an error code may be readable here.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Error" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>On execution of a script, the Error value is reset to ERR_Okay and will be updated if the script fails.  Be mindful that if a script is likely to be executed recursively then the first thrown error will have priority and be propagated through the call stack.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-ErrorString" class="clickable"><td class="col-md-1"><a id="tf-ErrorString"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">ErrorString</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>A human readable error string may be declared here following a script execution failure.</td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Flags" class="clickable"><td class="col-md-1"><a id="tf-Flags"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-cog text-danger" data-toggle="tooltip" title="Immutable"></span></td><th class="col-md-1">Flags</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Optional flags.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Flags" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">SCF_DEBUG</th><td>Enables execution debugging.  More information will be printed to the console in this mode.</td></tr><tr><th class="col-md-1">SCF_EXIT_ON_ERROR</th><td>The script will automatically terminate its execution process if an error is detected.</td></tr></tbody></table>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Language" class="clickable"><td class="col-md-1"><a id="tf-Language"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">Language</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Indicates the language (locale) that the source script is written in.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Language" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The Language value indicates the language in which the source script was written.  The default setting is ENG, the code for international English.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-LineOffset" class="clickable"><td class="col-md-1"><a id="tf-LineOffset"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct write access"></span></td><th class="col-md-1">LineOffset</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>For debugging purposes, this value is added to any message referencing a line number.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-LineOffset" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The LineOffset is a value that is added to all line numbers that are referenced in script debugging output.  It is primarily intended for internal usage only.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Path" class="clickable"><td class="col-md-1"><a id="tf-Path"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Path</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>The location of the file that is to be processed as a script.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Path" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Script files can be loaded by a script object by setting the Path field to the path of the source file.  The source must be provided prior to the initialisation process or the script object will fail (as an alternative, the <a data-toggle="tooltip" title="Scripts can be executed from any string passed into this field." href="#tf-Statement">Statement</a> field can also be set).</p>
<p>Special parameters can also be passed to the script when setting the location.  The name of an executable procedure may be passed by following the location with a semicolon, then the name of the procedure to execute.  Arguments can also be passed to the script by following this with a second semicolon, then a sequence of arguments, each separated with a comma.  The following string illustrates the format used:</p>
<pre>dir:location;procedure;arg1=val1,arg2,arg3=val2</pre>
<p>A target for the script may be specified by using the 'target' argument in the parameter list (value must refer to a valid existing object).</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Procedure" class="clickable"><td class="col-md-1"><a id="tf-Procedure"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Procedure</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Allows you to specify a procedure to be executed from within a script.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Procedure" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Sometimes scripts are split into several procedures or functions that can be executed independently from the 'main' area of the script.  If a script that you have loaded contains procedures, you can set the Procedure field to execute a specific routine whenever the script is activated with the Activate action.</p>
<p>If this field is not set, the first procedure in the script, or the 'main' procedure (as defined by the script type) is executed by default.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Results" class="clickable"><td class="col-md-1"><a id="tf-Results"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Results</th><td class="col-md-1"><span class="text-nowrap">STRING []</span></td><td>Stores multiple string results for languages that support this feature.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Results" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If a scripting language supports the return of multiple results, this field may reflect those result values after the execution of any procedure.</p>
<p>For maximum compatibility in type conversion, the results are stored as an array of strings.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Statement" class="clickable"><td class="col-md-1"><a id="tf-Statement"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Statement</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Scripts can be executed from any string passed into this field.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Statement" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Scripts may be compiled into a script object by setting the Statement field with a complete script string.  This is often convenient for embedding a small script into another script file without having to make external file references. It is also commonly used for executing scripts that have been embedded into program binaries.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Target" class="clickable"><td class="col-md-1"><a id="tf-Target"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct write access"></span></td><th class="col-md-1">Target</th><td class="col-md-1"><span class="text-nowrap">OBJECTID</span></td><td>Reference to the default container that new script objects will be initialised to.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Target" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field can refer to the target object that new objects at the root of the script will be initialised to.  If this field is not set, the root-level objects in the script will be initialised to the script's owner.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-TotalArgs" class="clickable"><td class="col-md-1"><a id="tf-TotalArgs"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">TotalArgs</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Reflects the total number of arguments used in a script object.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-TotalArgs" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The total number of arguments that have been set in a script object through the unlisted field mechanism are reflected in the value of this field.  If you have not set any arguments then the field value will be zero.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-WorkingPath" class="clickable"><td class="col-md-1"><a id="tf-WorkingPath"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">WorkingPath</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Defines the script's working path (folder).</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-WorkingPath" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The working path for a script is defined here.  By default this is defined as the location from which the script was loaded, without the file name.  If this cannot be determined then the working path for the parent process is used (this is usually set to the location of the program).</p>
<p>The working path is always fully qualified with a slash or colon at the end of the string.</p>
<p>You can manually change the working path by setting this field with a custom string.</p>
      </div></div></td></tr></tbody></table><h3>Actions</h3><p>The following actions are currently supported:</p><table class="table table-hover"><thead><th style="width:1%; border-top-style: none; border-bottom-style: none;"></th><th class="col-md-1">Name</th><th>Comment</th></thead><tbody><tr data-toggle="collapse" data-target="#fl-Activate" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Activate"></a></td><th class="col-md-1"><a href="actions.xml">Activate</a></th><td>Executes the script.</td></tr><tr data-toggle="collapse" data-target="#fl-GetVar" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-GetVar"></a></td><th class="col-md-1"><a href="actions.xml">GetVar</a></th><td>Script parameters can be retrieved through this action.</td></tr><tr data-toggle="collapse" data-target="#fl-Reset" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Reset"></a></td><th class="col-md-1"><a href="actions.xml">Reset</a></th><td>Resets an object to its original state.</td></tr><tr data-toggle="collapse" data-target="#fl-SetVar" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-SetVar"></a></td><th class="col-md-1"><a href="actions.xml">SetVar</a></th><td>Script parameters can be set through this action.</td></tr></tbody></table><h3>Methods</h3><p>The following methods are currently supported:</p><table class="table table-hover"><thead><th class="col-md-1">Name</th><th>Comment</th></thead><tbody><tr data-toggle="collapse" data-target="#fl-Callback" class="clickable"><th class="col-md-1 text-primary">Callback</th><td><a id="tm-Callback"></a>An internal method for managing callbacks.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-Callback" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERROR scCallback(OBJECTPTR Object, LARGE ProcedureID, const struct ScriptArg * Args, LONG TotalArgs, LONG * Error)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>ProcedureID</td><td>An identifier for the target procedure.</td></tr><tr><td>Args</td><td>Optional CSV string containing arguments to pass to the procedure.</td></tr><tr><td>TotalArgs</td><td>The total number of arguments in the Args parameter.</td></tr><tr><td>Error</td><td>The error code returned from the script, if any.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>Private</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-DerefProcedure" class="clickable"><th class="col-md-1 text-primary">DerefProcedure</th><td><a id="tm-DerefProcedure"></a>Dereferences a function.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-DerefProcedure" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERROR scDerefProcedure(OBJECTPTR Object, FUNCTION * Procedure)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Procedure</td><td>The function to be dereferenced.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>This method is applicable to scripting languages that manage function references as a keyed resource.  Fluid is one such language.</p>
<p>Any routine that accepts a script function as a parameter should call DerefProcedure at a later point in order to ensure that the function reference is released.  Not doing so may leave the reference in memory until the Script that owns the procedure is terminated.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Exec" class="clickable"><th class="col-md-1 text-primary">Exec</th><td><a id="tm-Exec"></a>Executes a procedure in the script.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-Exec" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERROR scExec(OBJECTPTR Object, CSTRING Procedure, const struct ScriptArg * Args, LONG TotalArgs)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Procedure</td><td>The name of the procedure to execute, or NULL for the default entry point.</td></tr><tr><td>Args</td><td>Optional CSV string containing arguments to pass to the procedure (applies to script-based Exec only).</td></tr><tr><td>TotalArgs</td><td>Total number of script arguments provided.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>Use the Exec method to execute a named procedure in a script, optionally passing that procedure a series of arguments. This method has two different interfaces - one for scripting, which takes parameters as a CSV string, and another for C/C++, which takes parameters in a serialised array.</p>
<p>The behaviour of the execution process matches that of the <a data-toggle="tooltip" title="Executes the script." href="#ta-Activate">Activate()</a> action and will return the same error codes in the event of failure.  If the procedure returns results, they will be available from the <a data-toggle="tooltip" title="Stores multiple string results for languages that support this feature." href="#tf-Results">Results</a> field after execution.</p>
<p>If parameters will be passed to the procedure in script (e.g. Fluid), they must be specified as a Comma Separated Value list in the Args string. Exec will interpret all the values as a string type.  Double or single quotes should be used to encapsulate string values (use two quotes in sequence as a means of an escape character).  Values should instead be set as named variables in the script object.</p>
<p>If parameters will be passed to the procedure in C/C++ or similar compiled language, they must be specified as an array of ScriptArg structures.  The following example illustrates such a list:</p>
<pre>
struct ScriptArg args[] = {
   { "Object",       FD_OBJECTID, { .Long = Self-&gt;UID } },
   { "Output",       FD_PTR,      { .Address = output } },
   { "OutputLength", FD_LONG,     { .Long = len } }
};
</pre>
<p>The ScriptArg structure follows this arrangement:</p>
<pre>
struct ScriptArg {
   STRING Name;
   LONG Type;
   union {
      APTR   Address;
      LONG   Long;
      LARGE  Large;
      DOUBLE Double;
   };
};
</pre>
<p>The Field Descriptor (FD) specified in the Type must be a match to whatever value is defined in the union.  For instance if the Long field is defined then an FD_LONG Type must be used.  Supplementary field definition information, e.g. FD_OBJECT, may be used to assist in clarifying the type of the value that is being passed.  Field Descriptors are documented in detail in the Class Development Guide.</p>
<p>The C/C++ interface for Exec also requires a hidden third argument that is not specified in this documentation.  The argument, TotalArgs, must reflect the total number of entries in the Args array.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The procedure was executed.</td></tr><tr><th class="col-md-1">Args</th><td>The TotalArgs value is invalid.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-GetProcedureID" class="clickable"><th class="col-md-1 text-primary">GetProcedureID</th><td><a id="tm-GetProcedureID"></a>Converts a procedure name to an ID.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-GetProcedureID" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERROR scGetProcedureID(OBJECTPTR Object, CSTRING Procedure, LARGE * ProcedureID)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Procedure</td><td>The name of the procedure.</td></tr><tr><td>ProcedureID</td><td>The computed ID will be returned in this parameter.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>This method will convert a procedure name to a unique reference that will be recognised by the script as a direct reference to that procedure.  The ID can be used to create new FUNCTION definitions, for example:</p>
<pre>FUNCTION callback;
SET_FUNCTION_SCRIPT(callback, script, procedure_id);
</pre>
<p>Resolving a procedure will often result in the Script maintaining an ongoing reference for it.  To discard the reference, call <a data-toggle="tooltip" title="Dereferences a function." href="#tm-DerefProcedure">DerefProcedure()</a> once access to the procedure is no longer required.  Alternatively, destroying the script will also dereference all procedures.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr></tbody></table></div><div class="footer copyright text-right">Script module documentation © Paul Manias 1996-2023</div></div><div class="col-sm-3"><div id="nav-tree"><div class="panel-group" id="accordion"><table class="table "><thead><th colspan="2"><h4>Class Info</h4></th></thead><tbody><tr><th class="col-md-1 text-primary">ID</th><td>ID_SCRIPT</td></tr><tr><th class="col-md-1 text-primary">Category</th><td>Data</td></tr><tr><th class="col-md-1 text-primary">Include</th><td>modules/script.h</td></tr><tr><th class="col-md-1 text-primary">Version</th><td>1</td></tr></tbody></table><div class="panel panel-primary"><div class="panel-heading"><h4 class="panel-title">Class List</h4></div><div id="structures" class="panel-collapse"><div class="panel-body"><ul class="list-unstyled"><li>Audio<ul><li><a href="audio.xml">Audio</a></li><li><a href="sound.xml">Sound</a></li></ul></li><li>Core<ul><li><a href="file.xml">File</a></li><li><a href="metaclass.xml">MetaClass</a></li><li><a href="module.xml">Module</a></li><li><a href="storagedevice.xml">StorageDevice</a></li><li><a href="task.xml">Task</a></li><li><a href="thread.xml">Thread</a></li><li><a href="time.xml">Time</a></li></ul></li><li>Data<ul><li><a href="compression.xml">Compression</a></li><li><a href="config.xml">Config</a></li><li><a href="script.xml">Script</a></li><li><a href="xml.xml">XML</a></li></ul></li><li>Effects<ul><li><a href="blurfx.xml">BlurFX</a></li><li><a href="colourfx.xml">ColourFX</a></li><li><a href="compositefx.xml">CompositeFX</a></li><li><a href="convolvefx.xml">ConvolveFX</a></li><li><a href="displacementfx.xml">DisplacementFX</a></li><li><a href="floodfx.xml">FloodFX</a></li><li><a href="imagefx.xml">ImageFX</a></li><li><a href="lightingfx.xml">LightingFX</a></li><li><a href="mergefx.xml">MergeFX</a></li><li><a href="morphologyfx.xml">MorphologyFX</a></li><li><a href="offsetfx.xml">OffsetFX</a></li><li><a href="remapfx.xml">RemapFX</a></li><li><a href="sourcefx.xml">SourceFX</a></li><li><a href="turbulencefx.xml">TurbulenceFX</a></li></ul></li><li>Extensions<ul><li><a href="scintilla.xml">Scintilla</a></li><li><a href="scintillasearch.xml">ScintillaSearch</a></li></ul></li><li>Graphics<ul><li><a href="bitmap.xml">Bitmap</a></li><li><a href="clipboard.xml">Clipboard</a></li><li><a href="display.xml">Display</a></li><li><a href="document.xml">Document</a></li><li><a href="font.xml">Font</a></li><li><a href="picture.xml">Picture</a></li><li><a href="pointer.xml">Pointer</a></li><li><a href="surface.xml">Surface</a></li><li><a href="svg.xml">SVG</a></li></ul></li><li>Network<ul><li><a href="clientsocket.xml">ClientSocket</a></li><li><a href="http.xml">HTTP</a></li><li><a href="netsocket.xml">NetSocket</a></li><li><a href="proxy.xml">Proxy</a></li></ul></li><li>Vectors<ul><li><a href="vector.xml">Vector</a></li><li><a href="vectorclip.xml">VectorClip</a></li><li><a href="vectorcolour.xml">VectorColour</a></li><li><a href="vectorellipse.xml">VectorEllipse</a></li><li><a href="vectorfilter.xml">VectorFilter</a></li><li><a href="vectorgradient.xml">VectorGradient</a></li><li><a href="vectorimage.xml">VectorImage</a></li><li><a href="vectorpath.xml">VectorPath</a></li><li><a href="vectorpattern.xml">VectorPattern</a></li><li><a href="vectorpolygon.xml">VectorPolygon</a></li><li><a href="vectorrectangle.xml">VectorRectangle</a></li><li><a href="vectorscene.xml">VectorScene</a></li><li><a href="vectorshape.xml">VectorShape</a></li><li><a href="vectorspiral.xml">VectorSpiral</a></li><li><a href="vectortext.xml">VectorText</a></li><li><a href="vectorviewport.xml">VectorViewport</a></li><li><a href="vectorwave.xml">VectorWave</a></li></ul></li></ul></div></div></div></div></div></div></div></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script><script src="../../js/bootstrap.min.js"></script><script src="../../js/base.js"></script><script type="text/javascript">
var glCurrentMethod;

$(document).ready(function() {
   glCurrentMethod = document.getElementById("Introduction");

  $('[data-toggle="tooltip"]').tooltip()

   var page = glParameters["page"];
   if (isEmpty(page)) page = glParameters["function"];

   if (isEmpty(page)) {
      showPage("default-page");
   }
   else showPage(page);
});

function showPage(Name)
{
   var div = document.getElementById(Name);
   if (div) {
      if (glCurrentMethod) { // Hide previous method.
         glCurrentMethod.style.display = "none";
      }
      div.style.display = "block"; // Show selected method.
      glCurrentMethod = div;
   }
   else console.log("Div for '" + Name + "' not found.");
}
         </script></body></html>
