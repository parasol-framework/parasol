<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8254DG7MT6"> </script><script>
	   window.dataLayer = window.dataLayer || [];
	   function gtag(){dataLayer.push(arguments);}
	   gtag('js', new Date());
      gtag('config', 'G-8254DG7MT6');</script><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Parasol Framework documentation, machine generated from source"><meta name="author" content="Paul Manias"><link rel="icon" href="/favicon.ico"><title>Parasol Framework Manual</title><link href="../../css/bootstrap.min.css" rel="stylesheet"><link href="../../css/module-template.css" rel="stylesheet"><script>
          var shiftWindow = function() { scrollBy(0, -100) };
          window.addEventListener("hashchange", shiftWindow);
          function load() { if (window.location.hash) shiftWindow(); }
        </script></head><body><nav class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="../../index.html">Parasol Framework</a></div><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="../core.html">Modules</a></li><li class="active"><a href="module.html">Classes</a></li><li><a href="https://github.com/parasol-framework/parasol/wiki">Wiki</a></li></ul></div></div></nav><div id="container-body" class="container"><div id="row-body" class="row"><div class="col-sm-9"><div class="docs-content" id="default-page"><div class="page-header"><h1>File Class</h1></div><p class="lead">Enables access to the file system.</p>
<p>The File class provides extensive support for file management and I/O.  The class supports the notion of individual file compression and file finding capabilities.  Since all File objects are tracked, there is no chance of the system leaving locked files behind after a program exits.  Folder management is also integrated into this class to ease the management of both file types.</p>
<p>To read or write to a file, set the <a data-toggle="tooltip" title="Specifies the location of a file or folder." href="#tf-Path">Path</a> of the file as well as the correct I/O file flags before initialisation. See the <a data-toggle="tooltip" title="File flags and options." href="#tf-Flags">Flags</a> field for information on the available I/O flags.  Functionality for read and write operations is provided through the <a data-toggle="tooltip" title="Reads data from a file." href="#ta-Read">Read()</a> and <a data-toggle="tooltip" title="Writes data to a file." href="#ta-Write">Write()</a> actions.  The <a data-toggle="tooltip" title="Seeks to a new read/write position within a file." href="#ta-Seek">Seek()</a> action can be used to change the read/write position in a file.</p><h3>Structure</h3><p>The File class consists of the following fields:</p><table class="table table-hover"><thead><th class="col-md-1"><div data-toggle="tooltip" title="Read/Write access indicators are listed below">Access</div></th><th class="col-md-1">Name</th><th class="col-md-1">Type</th><th>Comment</th></thead><tbody><tr id="_" data-toggle="collapse" data-target="#fl-Buffer" class="clickable"><td class="col-md-1"><a id="tf-Buffer"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">Buffer</th><td class="col-md-1"><span class="text-nowrap">BYTE *</span></td><td>Points to the internal data buffer if the file content is held in memory.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Buffer" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If a file has been created with an internal buffer (by setting the BUFFER flag on creation), this field will point to the address of that buffer.  The size of the buffer will match the <a data-toggle="tooltip" title="The byte size of a file." href="#tf-Size">Size</a> field.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Created" class="clickable"><td class="col-md-1"><a id="tf-Created"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct write access"></span></td><th class="col-md-1">Created</th><td class="col-md-1"><span class="text-nowrap">APTR</span></td><td>The creation date stamp of the file.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Created" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The Date field allows you to obtain the time at which the file was last date-stamped, or you can use it to set a new file date.  By default, the 'modification date' is targeted by this field's support routine.  Please note that if the file is open for writing, then date-stamped, then written; the file system driver will normally change the date stamp to the time at which the file was last modified.</p>
<p>To simplify time management, information is read and set via a DateTime structure.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Date" class="clickable"><td class="col-md-1"><a id="tf-Date"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Date</th><td class="col-md-1"><span class="text-nowrap">APTR</span></td><td>The 'last modified' date stamp on the file.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Date" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The Date field reflects the time at which the file was last modified.  It can also be used to set a new modification date.  Please note that if the file is open for writing, then date-stamped, then modified; the file system driver will overwrite the previously defined date stamp with the time at which the file was last written.</p>
<p>Information is read and set using a standard DateTime structure.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Flags" class="clickable"><td class="col-md-1"><a id="tf-Flags"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-cog text-danger" data-toggle="tooltip" title="Immutable"></span></td><th class="col-md-1">Flags</th><td class="col-md-1"><span class="text-nowrap">FL</span></td><td>File flags and options.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Flags" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">FL_APPROXIMATE</th><td>Allows fuzzy matching of the file path when opening an existing file.  This means that the file extension will be ignored; for instance attempting to open a file of 'screenshot.png' when only a file name of 'screenshot.jpg' exists in the same folder, the 'screenshot.jpg' file will be opened instead.  If multiple files could potentially match to the file name, the file object will select the first match that is encountered.</td></tr><tr><th class="col-md-1">FL_BUFFER</th><td>Activates a special mode in which the file data is stored in a memory buffer rather than a disk file.  Set the Size field to a value of at least 1 so that the initial buffer size is configured.  In this mode many of the available file operations are meaningless except for the Read, Write and Seek actions.</td></tr><tr><th class="col-md-1">FL_DEVICE</th><td>The file is a system device (must set if opening a device for read/write operations)</td></tr><tr><th class="col-md-1">FL_DIRECTORY</th><td>The file object represents a folder.</td></tr><tr><th class="col-md-1">FL_EXCLUDE_FILES</th><td>Exclude files when scanning this folder.</td></tr><tr><th class="col-md-1">FL_EXCLUDE_FOLDERS</th><td>Exclude folders when scanning this folder.</td></tr><tr><th class="col-md-1">FL_FILE</th><td>Explicitly declares the file object as an entity that stores content (as opposed to a device or folder for example).</td></tr><tr><th class="col-md-1">FL_FOLDER</th><td>The file object represents a folder.</td></tr><tr><th class="col-md-1">FL_LINK</th><td>Read-Only.  Indicates that the file is a symbolic link or shortcut to another file.</td></tr><tr><th class="col-md-1">FL_LOOP</th><td>In loop mode, the file object's position marker for read/write operations is allowed to extend past the actual file size.  Any read/write operation beyond the file size will loop back to the file at a corrected offset - for example, reading position 330 of a 100 byte file will start the operation from the 30th byte.  Loop mode does not affect any other area besides the read, write and seek operations.  The loop feature is typically used to create multimedia data streams with minimal effort.</td></tr><tr><th class="col-md-1">FL_NEW</th><td>Required when creating a new file.  If a file with the same name exists, its contents will be destroyed. If however the existing file is locked, the initalisation process will fail.</td></tr><tr><th class="col-md-1">FL_READ</th><td>Required if the file needs to be opened for read access.</td></tr><tr><th class="col-md-1">FL_RESET_DATE</th><td>For internal use only</td></tr><tr><th class="col-md-1">FL_STREAM</th><td>File data is streamed (e.g. PIPE, FIFO, socket) and may be accessed locally or via a network.</td></tr><tr><th class="col-md-1">FL_WRITE</th><td>Prepares a file for writing data, starting at byte position 0.  To start writing from the end of a file, use the Seek action after the file has been initialised.</td></tr></tbody></table>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Group" class="clickable"><td class="col-md-1"><a id="tf-Group"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Group</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Retrieve or change the group ID of a file.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Group" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The group ID assigned to a file can be read from this field.  The ID is retrieved from the file system in real time in case the ID has been changed after initialisation of the file object.</p>
<p>You can also change the group ID of a file by writing an integer value to this field.</p>
<p>If the file system does not support group ID's, <code>ERR::NoSupport</code> is returned.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Handle" class="clickable"><td class="col-md-1"><a id="tf-Handle"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">Handle</th><td class="col-md-1"><span class="text-nowrap">BIGINT</span></td><td>The native system handle for the file opened by the file object.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Handle" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field returns the native file system handle for the file opened by the file object.  The native handle may be an integer or pointer value in 32 or 64-bit format.  In order to manage this issue in a multi-platform manner, the value is returned as a 64-bit integer.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Icon" class="clickable"><td class="col-md-1"><a id="tf-Icon"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">Icon</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Returns an icon reference that is suitable for this file in the UI.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Icon" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field returns the name of the best icon to use when representing the file to the user, for instance in a file list.  The icon style is determined by analysing the File's <a data-toggle="tooltip" title="Specifies the location of a file or folder." href="#tf-Path">Path</a>.</p>
<p>The resulting string is returned in the format <code>icons:category/name</code> and can be opened with the <a href="Picture.html">Picture</a> class.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Link" class="clickable"><td class="col-md-1"><a id="tf-Link"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Link</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Returns the link path for symbolically linked files.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Link" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If a file represents a symbolic link (indicated by the <code>SYMLINK</code> flag setting) then reading the Link field will return the link path.  No assurance is made as to the validity of the path.  If the path is not absolute, then the parent folder containing the link will need to be taken into consideration when calculating the path that the link refers to.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Path" class="clickable"><td class="col-md-1"><a id="tf-Path"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Path</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Specifies the location of a file or folder.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Path" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field is required for initialisation and must either be in the format of a universal path string, or a path that is compatible with the host system.  The standard format for a universal path is <code>volume:folder/file</code>, for instance <code>parasol:system/classes.bin</code>.</p>
<p>To reference a folder in a way that is distinct from a file, use a trailing slash as in <code>volume:folder/</code>.</p>
<p>Referencing a <code>volume:</code> is optional.  In the event that a volume is not defined, the current working path is used as the point of origin.</p>
<p>The accepted method for referencing parent folders is <code>../</code>, which can be repeated for as many parent folders as needed to traverse the folder hierarchy.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Permissions" class="clickable"><td class="col-md-1"><a id="tf-Permissions"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Permissions</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Manages the permissions of a file.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Permissions" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">PERMIT_ALL_DELETE</th><td>Synonym for EVERYONE_DELETE</td></tr><tr><th class="col-md-1">PERMIT_ALL_EXEC</th><td>Synonym for EVERYONE_EXEC</td></tr><tr><th class="col-md-1">PERMIT_ALL_READ</th><td>Synonym for EVERYONE_READ</td></tr><tr><th class="col-md-1">PERMIT_ALL_WRITE</th><td>Synonym for EVERYONE_WRITE</td></tr><tr><th class="col-md-1">PERMIT_ARCHIVE</th><td>Marks the file for future backup.  The flag should be cleared after the backup has succeeded.</td></tr><tr><th class="col-md-1">PERMIT_DELETE</th><td>Owner can delete.  If the file system does not support this, deletion is enabled via the WRITE flag.</td></tr><tr><th class="col-md-1">PERMIT_EVERYONE_ACCESS</th><td>Synonym for EVERYONE_READ | EVERYONE_WRITE | EVERYONE_EXEC | EVERYONE_DELETE</td></tr><tr><th class="col-md-1">PERMIT_EVERYONE_DELETE</th><td>Synonym for DELETE | GROUP_DELETE | OTHERS_DELETE</td></tr><tr><th class="col-md-1">PERMIT_EVERYONE_EXEC</th><td>Synonym for EXEC | GROUP_EXEC | OTHERS_EXEC</td></tr><tr><th class="col-md-1">PERMIT_EVERYONE_READ</th><td>Synonym for READ | GROUP_READ | OTHERS_READ</td></tr><tr><th class="col-md-1">PERMIT_EVERYONE_READWRITE</th><td>Synonym for EVERYONE_READ | EVERYONE_WRITE</td></tr><tr><th class="col-md-1">PERMIT_EVERYONE_WRITE</th><td>Synonym for WRITE | GROUP_WRITE | OTHERS_WRITE</td></tr><tr><th class="col-md-1">PERMIT_EXEC</th><td>User/Owner can execute.</td></tr><tr><th class="col-md-1">PERMIT_GROUP</th><td>Synonym for GROUP_READ | GROUP_WRITE | GROUP_EXEC | GROUP_DELETE</td></tr><tr><th class="col-md-1">PERMIT_GROUPID</th><td>Allows executables to run with a set group id.</td></tr><tr><th class="col-md-1">PERMIT_GROUP_DELETE</th><td>Group members can delete.</td></tr><tr><th class="col-md-1">PERMIT_GROUP_EXEC</th><td>Group members can execute.</td></tr><tr><th class="col-md-1">PERMIT_GROUP_READ</th><td>Group members can read.</td></tr><tr><th class="col-md-1">PERMIT_GROUP_WRITE</th><td>Group members can write.</td></tr><tr><th class="col-md-1">PERMIT_HIDDEN</th><td>Recommends that the file is hidden from view by default.</td></tr><tr><th class="col-md-1">PERMIT_INHERIT</th><td>Inherit permissions from parent folder and logical OR them with preset permission flags.</td></tr><tr><th class="col-md-1">PERMIT_NETWORK</th><td>File is hosted on another machine.</td></tr><tr><th class="col-md-1">PERMIT_OFFLINE</th><td>File content for this networked file has not been cached on the local PC.</td></tr><tr><th class="col-md-1">PERMIT_OTHERS</th><td>Synonym for OTHERS_READ | OTHERS_WRITE | OTHERS_EXEC | OTHERS_DELETE</td></tr><tr><th class="col-md-1">PERMIT_OTHERS_DELETE</th><td>Others can delete.</td></tr><tr><th class="col-md-1">PERMIT_OTHERS_EXEC</th><td>Others can execute.</td></tr><tr><th class="col-md-1">PERMIT_OTHERS_READ</th><td>Others can read.</td></tr><tr><th class="col-md-1">PERMIT_OTHERS_WRITE</th><td>Others can write.</td></tr><tr><th class="col-md-1">PERMIT_PASSWORD</th><td>File is password protected.</td></tr><tr><th class="col-md-1">PERMIT_READ</th><td>User/Owner has read access.  This will not allow compiled code to be executed.</td></tr><tr><th class="col-md-1">PERMIT_USER</th><td>Synonym for READ | WRITE | EXEC | DELETE</td></tr><tr><th class="col-md-1">PERMIT_USERID</th><td>Allows executables to run with a set user id.</td></tr><tr><th class="col-md-1">PERMIT_USER_EXEC</th><td>Synonym for EXEC</td></tr><tr><th class="col-md-1">PERMIT_USER_READ</th><td>Synonym for READ</td></tr><tr><th class="col-md-1">PERMIT_USER_WRITE</th><td>Synonym for WRITE</td></tr><tr><th class="col-md-1">PERMIT_WRITE</th><td>User/Owner can write.</td></tr></tbody></table>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Position" class="clickable"><td class="col-md-1"><a id="tf-Position"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Position</th><td class="col-md-1"><span class="text-nowrap">BIGINT</span></td><td>The current read/write byte position in a file.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Position" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field indicates the current byte position of an open file (this affects read and write operations).  Writing to this field performs a <a data-toggle="tooltip" title="Seeks to a new read/write position within a file." href="#ta-Seek">Seek()</a> operation.</p>
<p>The Position will always remain at zero if the file object represents a folder.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-ResolvedPath" class="clickable"><td class="col-md-1"><a id="tf-ResolvedPath"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">ResolvedPath</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Returns a resolved copy of the Path string.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-ResolvedPath" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The ResolvedPath will return a resolved copy of the <a data-toggle="tooltip" title="Specifies the location of a file or folder." href="#tf-Path">Path</a> string.  The resolved path will be in a format that is native to the host platform.  Please refer to the ResolvePath function for further information.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Size" class="clickable"><td class="col-md-1"><a id="tf-Size"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Size</th><td class="col-md-1"><span class="text-nowrap">BIGINT</span></td><td>The byte size of a file.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Size" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The current byte size of a file is indicated by this field.  If the file object represents a folder, the Size value will be zero.  You can also truncate a file by setting the Size; this will result in the current read/write position being set to the end of the file.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Static" class="clickable"><td class="col-md-1"><a id="tf-Static"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-cog text-danger" data-toggle="tooltip" title="Immutable"></span></td><th class="col-md-1">Static</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Set to TRUE if a file object should be static.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Static" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field applies when a file object has been created in an object script.  By default, a file object will auto-terminate when a closing tag is received.  If the object must remain live, set this field to TRUE.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Target" class="clickable"><td class="col-md-1"><a id="tf-Target"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct write access"></span></td><th class="col-md-1">Target</th><td class="col-md-1"><span class="text-nowrap">OBJECTID</span></td><td>Specifies a surface ID to target for user feedback and dialog boxes.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Target" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>User feedback can be enabled for certain file operations by setting the Target field to a valid surface ID (for example, the Desktop object) or zero for the default target for new windows.  This field is set to -1 by default, in order to disable this feature.</p>
<p>If set correctly, operations such as file deletion or copying will pop-up a progress box after a certain amount of time has elapsed during the operation.  The dialog box will also provide the user with a Cancel option to terminate the process early.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-TimeStamp" class="clickable"><td class="col-md-1"><a id="tf-TimeStamp"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">TimeStamp</th><td class="col-md-1"><span class="text-nowrap">BIGINT</span></td><td>The last modification time set on a file, represented as a 64-bit integer.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-TimeStamp" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The TimeStamp field is a 64-bit representation of the last modification date/time set on a file.  It is not guaranteed that the value represents seconds from the epoch, so it should only be used for purposes such as sorting, or for comparison to the time stamps of other files.  For a parsed time structure, refer to the <a data-toggle="tooltip" title="The 'last modified' date stamp on the file." href="#tf-Date">Date</a> field.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-User" class="clickable"><td class="col-md-1"><a id="tf-User"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">User</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Retrieve or change the user ID of a file.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-User" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The user ID assigned to a file can be read from this field.  The ID is retrieved from the file system in real time in case the ID has been changed after initialisation of the file object.</p>
<p>You can also change the user ID of a file by writing an integer value to this field.  This can only be done post-initialisation or an error code will be returned.</p>
<p>If the filesystem does not support user ID's, ERR::NoSupport is returned.</p>
      </div></div></td></tr></tbody></table><h3>Actions</h3><p>The following actions are currently supported:</p><table class="table table-hover"><thead><th style="width:1%; border-top-style: none; border-bottom-style: none;"></th><th class="col-md-1">Name</th><th>Comment</th></thead><tbody><tr data-toggle="collapse" data-target="#fl-Activate" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Activate"></a></td><th class="col-md-1"><a href="actions.html">Activate</a></th><td>Opens the file.  Performed automatically if NEW, READ or WRITE flags were specified on initialisation.</td></tr><tr data-toggle="collapse" data-target="#fl-DataFeed" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-DataFeed"></a><span class="glyphicon glyphicon-chevron-right"></span></td><th class="col-md-1"><a href="actions.html">DataFeed</a></th><td>Data can be streamed to any file as a method of writing content.</td></tr><tr class="no-hover"><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="fl-DataFeed" class="accordion-body collapse"><div class="docs-content" style="margin:10px 10px 0px 30px">
<p>Streaming data of any type to a file will result in the content being written to the file at the current seek <a data-toggle="tooltip" title="The current read/write byte position in a file." href="#tf-Position">Position</a>.</p>
      </div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Init" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Init"></a><span class="glyphicon glyphicon-chevron-right"></span></td><th class="col-md-1"><a href="actions.html">Init</a></th><td>Initialises a file.</td></tr><tr class="no-hover"><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="fl-Init" class="accordion-body collapse"><div class="docs-content" style="margin:10px 10px 0px 30px">
<p>This action will prepare a file or folder at the given <a data-toggle="tooltip" title="Specifies the location of a file or folder." href="#tf-Path">Path</a> for use.</p>
<p>To create a new file from scratch, specify the <code>NEW</code> flag.  This will overwrite any file that exists at the target path.</p>
<p>To read and write data to the file, specify the <code>READ</code> and/or <code>WRITE</code> modes in the <a data-toggle="tooltip" title="File flags and options." href="#tf-Flags">Flags</a> field prior to initialisation. If a file is read-only and the <code>WRITE</code> and <code>READ</code> flags are set in combination, the <code>WRITE</code> flag will be dropped and initialisation will continue as normal.</p>
<p>If neither of the <code>NEW</code>, <code>READ</code> or <code>WRITE</code> flags are specified, the file object is prepared and queried from disk (if it exists), but will not be opened.  It will be necessary to <a data-toggle="tooltip" title="Opens the file.  Performed automatically if NEW, READ or WRITE flags were specified on initialisation." href="#ta-Activate">Activate()</a> the file in order to open it.</p>
<p>The File class supports RAM based file buffering - this is activated by using the <code>BUFFER</code> flag and setting the Size field to the desired buffer size.  A file path is not required unless the buffer needs to be filled with content on initialisation.  Because buffered files exist virtually, their functionality is restricted to read/write access.</p>
<p>Strings can also be loaded into file buffers for read/write access.  This is achieved by specifying the <a data-toggle="tooltip" title="Specifies the location of a file or folder." href="#tf-Path">Path</a> <code>string:Data\0</code>, where Data is a sequence of characters to be loaded into a virtual memory space.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Search</th><td>The file could not be found.</td></tr><tr><th class="col-md-1">FileNotFound</th><td>File not found.</td></tr><tr><th class="col-md-1">NoPermission</th><td>Permission was denied when accessing or creating the file.</td></tr><tr><th class="col-md-1">SetField</th><td>An error occurred while updating the Path field.</td></tr><tr><th class="col-md-1">MissingPath</th><td>The object is missing a setting in the Path or Location field.</td></tr><tr><th class="col-md-1">ResolvePath</th><td>A volume could not be resolved.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Query" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Query"></a></td><th class="col-md-1"><a href="actions.html">Query</a></th><td>Read a file's meta information from source.</td></tr><tr data-toggle="collapse" data-target="#fl-Read" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Read"></a><span class="glyphicon glyphicon-chevron-right"></span></td><th class="col-md-1"><a href="actions.html">Read</a></th><td>Reads data from a file.</td></tr><tr class="no-hover"><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="fl-Read" class="accordion-body collapse"><div class="docs-content" style="margin:10px 10px 0px 30px">
<p>Reads data from a file into the given buffer.  Increases the value in the <a data-toggle="tooltip" title="The current read/write byte position in a file." href="#tf-Position">Position</a> field by the amount of bytes read from the file data.  The <code>FL::READ</code> bit in the <a data-toggle="tooltip" title="File flags and options." href="#tf-Flags">Flags</a> field must have been set on file initialisation, or the call will fail.</p>
<p>It is normal behaviour for this call to report success in the event that no data has been read from the file, e.g. if the end of the file has been reached.  The Result parameter will be returned as zero in such cases.  Check the current <a data-toggle="tooltip" title="The current read/write byte position in a file." href="#tf-Position">Position</a> against the <a data-toggle="tooltip" title="The byte size of a file." href="#tf-Size">Size</a> to confirm that the end has been reached.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The file information was read into the buffer.</td></tr><tr><th class="col-md-1">Failed</th><td>The file object refers to a folder, or the object is corrupt.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">OutOfRange</th><td>Invalid Length parameter.</td></tr><tr><th class="col-md-1">FileReadFlag</th><td>The FL::READ flag was not specified on initialisation.</td></tr><tr><th class="col-md-1">NotInitialised</th><td>The object has not been initialised.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr><tr><th class="col-md-1">ExpectedFolder</th><td>The file object refers to a folder.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Rename" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Rename"></a></td><th class="col-md-1"><a href="actions.html">Rename</a></th><td>Changes the name of a file.</td></tr><tr data-toggle="collapse" data-target="#fl-Reset" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Reset"></a></td><th class="col-md-1"><a href="actions.html">Reset</a></th><td>If the file represents a folder, the file list index is reset by this action.</td></tr><tr data-toggle="collapse" data-target="#fl-Seek" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Seek"></a></td><th class="col-md-1"><a href="actions.html">Seek</a></th><td>Seeks to a new read/write position within a file.</td></tr><tr data-toggle="collapse" data-target="#fl-Write" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Write"></a><span class="glyphicon glyphicon-chevron-right"></span></td><th class="col-md-1"><a href="actions.html">Write</a></th><td>Writes data to a file.</td></tr><tr class="no-hover"><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="fl-Write" class="accordion-body collapse"><div class="docs-content" style="margin:10px 10px 0px 30px">
<p>Writes data from the provided buffer into the file, then updates the <a data-toggle="tooltip" title="The current read/write byte position in a file." href="#tf-Position">Position</a> field to reflect the new read/write position.  You must have set the <code>FL::WRITE</code> bit in the <a data-toggle="tooltip" title="File flags and options." href="#tf-Flags">Flags</a> field when you initialised the file, or the call will fail.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>All of the data was written to the file.</td></tr><tr><th class="col-md-1">LimitedSuccess</th><td>Only some of the data was written to the file.  Check the Result parameter to see how much data was written.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">FileWriteFlag</th><td>The FL::WRITE flag was not specified when initialising the file.</td></tr><tr><th class="col-md-1">ObjectCorrupt</th><td>The object structure is corrupt or has not been initialised.</td></tr><tr><th class="col-md-1">ReallocMemory</th><td>The reallocation of a memory block failed.</td></tr><tr><th class="col-md-1">ExpectedFile</th><td>The operation expected a path to a file.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr></tbody></table><h3>Methods</h3><p>The following methods are currently supported:</p><table class="table table-hover"><thead><th class="col-md-1">Name</th><th>Comment</th></thead><tbody><tr data-toggle="collapse" data-target="#fl-BufferContent" class="clickable"><th class="col-md-1 text-primary">BufferContent</th><td><a id="tm-BufferContent"></a>Reads all file content into a local memory buffer.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-BufferContent" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flBufferContent(OBJECTPTR Object)</samp></div></div><div class="docs-content" style="margin:30px 20px;">
<p>File content may be buffered at any time by calling the BufferContent method.  This will allocate a buffer that matches the current file size and the file's content will be read into that buffer.  The BUFFER flag is set in the file object and a pointer to the content is referenced in the file's Buffer field.  Standard file operations such as read, write and seek have the same effect when a file is in buffer mode.</p>
<p>Once a file has been buffered, the original file handle and any locks on that file are returned to the system. Physical operations on the file object such as delete, rename and attribute settings no longer have meaning when applied to a buffered file.  It is not possible to drop the buffer and return the file object to its original state once buffering has been enabled.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The file content was successfully buffered.</td></tr><tr><th class="col-md-1">Read</th><td>Failed to read the file content.</td></tr><tr><th class="col-md-1">AllocMemory</th><td>A call to AllocMemory() failed to create a new memory block.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Copy" class="clickable"><th class="col-md-1 text-primary">Copy</th><td><a id="tm-Copy"></a>Copies the data of a file to another location.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-Copy" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flCopy(OBJECTPTR Object, CSTRING Dest, FUNCTION * Callback)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Dest</td><td>The destination file path for the copy operation.</td></tr><tr><td>Callback</td><td>Optional callback for receiving feedback during the operation.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>This method is used to copy the data of a file object to another location.  All of the data will be copied, effectively creating a clone of the original file information.  The file object must have been initialised with the <code>FL::READ</code> flag, or the copy operation will not work (this restriction does not apply to directories).  If a matching file name already exists at the destination path, it will be over-written with the new data.</p>
<p>The <a data-toggle="tooltip" title="The current read/write byte position in a file." href="#tf-Position">Position</a> field will be reset as a result of calling this method.</p>
<p>When copying directories with this method, the entire folder structure (i.e. all of the folder contents) will be copied to the new location.  If an error occurs when copying a sub-folder or file, the procedure will be aborted and an error code will be returned.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The file data was copied successfully.</td></tr><tr><th class="col-md-1">Failed</th><td>General failure.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">Read</th><td>Data could not be read from the source path.</td></tr><tr><th class="col-md-1">Write</th><td>Data could not be written to the destination path.</td></tr><tr><th class="col-md-1">FieldNotSet</th><td>The Path field has not been set in the file object.</td></tr><tr><th class="col-md-1">AllocMemory</th><td>A call to AllocMemory() failed to create a new memory block.</td></tr><tr><th class="col-md-1">Loop</th><td>Performing the copy would cause infinite recursion.</td></tr><tr><th class="col-md-1">ResolvePath</th><td>A volume could not be resolved.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Delete" class="clickable"><th class="col-md-1 text-primary">Delete</th><td><a id="tm-Delete"></a>Deletes a file from its source location.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-Delete" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flDelete(OBJECTPTR Object, FUNCTION * Callback)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Callback</td><td>Optional callback for receiving feedback during the operation.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>This method is used to delete files from their source location.  If used on a folder, all of the folder's contents will be deleted in the call.   Once a file is deleted, the object effectively becomes unusable.  For this reason, file deletion should normally be followed up with a call to the Free action.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>File deleted successfully.</td></tr><tr><th class="col-md-1">Failed</th><td>The deletion attempt failed (specific condition not available).</td></tr><tr><th class="col-md-1">NoPermission</th><td>The user does not have the necessary permissions to delete the file.</td></tr><tr><th class="col-md-1">MissingPath</th><td>The object is missing a setting in the Path or Location field.</td></tr><tr><th class="col-md-1">BufferOverflow</th><td>The file path string is too long.</td></tr><tr><th class="col-md-1">ResolvePath</th><td>A volume could not be resolved.</td></tr><tr><th class="col-md-1">ReadOnly</th><td>The file is on a read-only filesystem.</td></tr><tr><th class="col-md-1">Locked</th><td>The file is in use.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Move" class="clickable"><th class="col-md-1 text-primary">Move</th><td><a id="tm-Move"></a>Moves a file to a new location.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-Move" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flMove(OBJECTPTR Object, CSTRING Dest, FUNCTION * Callback)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Dest</td><td>The desired path for the file.</td></tr><tr><td>Callback</td><td>Optional callback for receiving feedback during the operation.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>This method is used to move the data of a file to another location.  If the file object represents a folder, then the folder and all of its contents will be moved.  The file object must have been initialised with the <code>FL::READ</code> flag, or the move operation will not work (this restriction does not apply to directories).  If a file already exists at the destination path then it will be over-written with the new data.</p>
<p>The <a data-toggle="tooltip" title="The current read/write byte position in a file." href="#tf-Position">Position</a> field will be reset as a result of calling this method.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The File was moved successfully.</td></tr><tr><th class="col-md-1">Failed</th><td>General failure.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">FieldNotSet</th><td>The Path field has not been set in the file object.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Next" class="clickable"><th class="col-md-1 text-primary">Next</th><td><a id="tm-Next"></a>Retrieve meta information describing the next indexed file in the folder list.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-Next" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flNext(OBJECTPTR Object, objFile ** File)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>File</td><td>A pointer to a new File object will be returned in this parameter if the call is successful.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>If a file object represents a folder, calling the Next() method will retrieve meta information about the next file in the folder's index.  This information will be returned as a new File object that is partially initialised (the file will not be opened, but information such as size, timestamps and permissions will be retrievable).</p>
<p>If desired, the resulting file object can be opened by setting the READ or WRITE bits in <a data-toggle="tooltip" title="File flags and options." href="#tf-Flags">Flags</a> and then calling the <a data-toggle="tooltip" title="Opens the file.  Performed automatically if NEW, READ or WRITE flags were specified on initialisation." href="#ta-Activate">Activate()</a> action.</p>
<p>It is the responsibility of the caller to free the resulting File object once it is no longer required.</p>
<p>The file index can be reset by calling the <a data-toggle="tooltip" title="If the file represents a folder, the file list index is reset by this action." href="#ta-Reset">Reset()</a> action.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">DirEmpty</th><td>The index has reached the end of the file list.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-ReadLine" class="clickable"><th class="col-md-1 text-primary">ReadLine</th><td><a id="tm-ReadLine"></a>Reads the next line from the file.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-ReadLine" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flReadLine(OBJECTPTR Object, STRING * Result)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Result</td><td>The resulting string is returned in this parameter.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>Reads one line from the file into an internal buffer, which is returned in the Result argument.  Reading a line will increase the <a data-toggle="tooltip" title="The current read/write byte position in a file." href="#tf-Position">Position</a> field by the amount of bytes read from the file.  You must have set the <code>FL::READ</code> bit in the <a data-toggle="tooltip" title="File flags and options." href="#tf-Flags">Flags</a> field when you initialised the file, or the call will fail.</p>
<p>The line buffer is managed internally, so there is no need for you to free the result string.  This method returns ERR::NoData when it runs out of information to read from the file.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The file information was read into the buffer.</td></tr><tr><th class="col-md-1">Failed</th><td>The file object refers to a folder.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">NoData</th><td>There is no more data left to read.</td></tr><tr><th class="col-md-1">FileReadFlag</th><td>The FL::READ flag was not specified on initialisation.</td></tr><tr><th class="col-md-1">ObjectCorrupt</th><td>The internal file handle is missing.</td></tr><tr><th class="col-md-1">BufferOverflow</th><td>The line is too long for the read routine (4096 byte limit).</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-SetDate" class="clickable"><th class="col-md-1 text-primary">SetDate</th><td><a id="tm-SetDate"></a>Sets the date on a file.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-SetDate" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flSetDate(OBJECTPTR Object, LONG Year, LONG Month, LONG Day, LONG Hour, LONG Minute, LONG Second, FDT Type)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Year</td><td>Year (-ve for BC, +ve for AD).</td></tr><tr><td>Month</td><td>Month (1 - 12)</td></tr><tr><td>Day</td><td>Day (1 - 31)</td></tr><tr><td>Hour</td><td>Hour (0 - 23</td></tr><tr><td>Minute</td><td>Minute (0 - 59)</td></tr><tr><td>Second</td><td>Second (0 - 59)</td></tr><tr><td><a href="#" onclick="showPage('FDT');">Type</a></td><td>The type of date to set (filesystem dependent).</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>The SetDate method provides a convenient way to set the date and time information for a file object.  Date information is set in a human readable year, month, day, hour, minute and second format for your convenience.</p>
<p>Depending on the filesystem type, multiple forms of datestamp may be supported.  The default datestamp, FDT_MODIFIED defines the time at which the file data was last altered.  Other types include the date on which the file was created and the date it was last archived (backed up).  The following types are supported by the Type argument:</p>
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">FDT_ACCESSED</th><td>The date on which the file was last accessed by a user or application.</td></tr><tr><th class="col-md-1">FDT_ARCHIVED</th><td>The date on which the file was most recently archived.  Not supported by most filesystems.</td></tr><tr><th class="col-md-1">FDT_CREATED</th><td>The date on which the file was created.  On some host platforms this datestamp may be read-only.</td></tr><tr><th class="col-md-1">FDT_MODIFIED</th><td>The date on which the file was last modified.</td></tr></tbody></table>
<p>If the specified datestamp is not supported by the filesystem, ERR::NoSupport is returned by this method.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">NoSupport</th><td>The platform does not support file date setting.</td></tr><tr><th class="col-md-1">ResolvePath</th><td>A volume could not be resolved.</td></tr><tr><th class="col-md-1">SystemCall</th><td>A call to the host system has failed.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-StartStream" class="clickable"><th class="col-md-1 text-primary">StartStream</th><td><a id="tm-StartStream"></a>Starts streaming data from a file source.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-StartStream" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flStartStream(OBJECTPTR Object, OBJECTID Subscriber, FL Flags, LONG Length)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Subscriber</td><td>Reference to an object that will receive streamed data notifications.</td></tr><tr><td><a href="#" onclick="showPage('FL');">Flags</a></td><td>Use READ for incoming data, WRITE for outgoing data.</td></tr><tr><td>Length</td><td>Limits the total amount of data to be streamed.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>If a file object is a stream (indicated by the <code>STREAM</code> flag), the StartStream method should be used for reading or writing data to the file object.  Although it is possible to call the Read and Write actions on streamed files, they will be limited to returning only the amount of data that is cached locally (if any), or writing as much as buffers will allow in software.</p>
<p>A single file object can support read or write streams (pass <code>FL::READ</code> or <code>FL::WRITE</code> in the Flags parameter).  However, only one of the two can be active at any time.  To switch between read and write modes, the stream must be stopped with the <a data-toggle="tooltip" title="Stops streaming data from a file source." href="#tm-StopStream">StopStream()</a> method and then restarted with StartStream.</p>
<p>A stream can be limited by setting the Length parameter to a non-zero value.</p>
<p>If the StartStream request is successful, the file object will return action notifications to the Subscriber to indicate activity on the file stream.  When reading from a stream, <code>AC_Write</code> notifications will be received to indicate that new data has been written to the file cache.  The Buffer parameter of the reported acWrite structure may refer to a private address that contains the data that was received from the stream and the Result indicates the amount of new data available.</p>
<p>When writing to a stream, AC_Read notifications will be received to indicate that the stream is ready to accept more data.  The Result parameter will indicate the maximum amount of data that should be written to the stream using the <a data-toggle="tooltip" title="Writes data to a file." href="#ta-Write">Write()</a> action.</p>
<p>A stream can be cancelled at any time by calling <a data-toggle="tooltip" title="Stops streaming data from a file source." href="#tm-StopStream">StopStream()</a>.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">NoSupport</th><td>The file is not streamed.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-StopStream" class="clickable"><th class="col-md-1 text-primary">StopStream</th><td><a id="tm-StopStream"></a>Stops streaming data from a file source.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-StopStream" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flStopStream(OBJECTPTR Object)</samp></div></div><div class="docs-content" style="margin:30px 20px;">
<p>This method terminates data streaming from a file (instantiated by the <a data-toggle="tooltip" title="Starts streaming data from a file source." href="#tm-StartStream">StartStream()</a> method).  Any resources related to the streaming process will be deallocated.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">NoSupport</th><td>The file is not streamed.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Watch" class="clickable"><th class="col-md-1 text-primary">Watch</th><td><a id="tm-Watch"></a>Monitors files and folders for file system events.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-Watch" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERR flWatch(OBJECTPTR Object, FUNCTION * Callback, LARGE Custom, MFF Flags)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Callback</td><td>The routine that will be called when a file change is triggered by the system.</td></tr><tr><td>Custom</td><td>A custom 64-bit value that will passed to the Callback routine as a parameter.</td></tr><tr><td><a href="#" onclick="showPage('MFF');">Flags</a></td><td>Filter events to those indicated in these flags.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>The WatchFile() function configures event based reporting for changes to any file or folder in the file system. The capabilities of this method are dependent on the host platform, with Windows and Linux systems being able to support most of the current feature set.</p>
<p>The path that will be monitored is determined by the File object's <a data-toggle="tooltip" title="Specifies the location of a file or folder." href="#tf-Path">Path</a> field.  Both files and folders are supported as targets.</p>
<p>The optional MFF Flags are used to filter events to those that are desired for monitoring.</p>
<p>The client must provide a Callback that will be triggered when a monitored event is triggered.  The Callback must follow the format <code>ERR Routine(*File, STRING Path, LARGE Custom, LONG Flags)</code></p>
<p>Each event will be delivered in the sequence that they are originally raised.  The Flags parameter will reflect the specific event that has occurred.  The Custom parameter is identical to the Custom argument originally passed to this method.  The Path is a string that is relative to the File's <a data-toggle="tooltip" title="Specifies the location of a file or folder." href="#tf-Path">Path</a> field.</p>
<p>If the callback routine returns ERR::Terminate, the watch will be disabled.  It is also possible to disable an existing watch by calling this method with no parameters, or by setting the Flags parameter to 0.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr></tbody></table></div><div class="footer copyright text-right">File module documentation © Paul Manias 1996-2024</div></div><div class="col-sm-3"><div id="nav-tree"><div class="panel-group" id="accordion"><table class="table "><thead><th colspan="2"><h4>Class Info</h4></th></thead><tbody><tr><th class="col-md-1 text-primary">ID</th><td>ID_FILE</td></tr><tr><th class="col-md-1 text-primary">Category</th><td>System</td></tr><tr><th class="col-md-1 text-primary">Include</th><td>modules/file.h</td></tr><tr><th class="col-md-1 text-primary">Version</th><td>1.2</td></tr></tbody></table><div class="panel panel-primary"><div class="panel-heading"><h4 class="panel-title">Class List</h4></div><div id="structures" class="panel-collapse"><div class="panel-body"><ul class="list-unstyled"><li>Audio<ul><li><a href="audio.html">Audio</a></li><li><a href="sound.html">Sound</a></li></ul></li><li>Core<ul><li><a href="file.html">File</a></li><li><a href="metaclass.html">MetaClass</a></li><li><a href="module.html">Module</a></li><li><a href="storagedevice.html">StorageDevice</a></li><li><a href="task.html">Task</a></li><li><a href="thread.html">Thread</a></li><li><a href="time.html">Time</a></li></ul></li><li>Data<ul><li><a href="compression.html">Compression</a></li><li><a href="config.html">Config</a></li><li><a href="script.html">Script</a></li><li><a href="xml.html">XML</a></li></ul></li><li>Effects<ul><li><a href="blurfx.html">BlurFX</a></li><li><a href="colourfx.html">ColourFX</a></li><li><a href="compositefx.html">CompositeFX</a></li><li><a href="convolvefx.html">ConvolveFX</a></li><li><a href="displacementfx.html">DisplacementFX</a></li><li><a href="floodfx.html">FloodFX</a></li><li><a href="imagefx.html">ImageFX</a></li><li><a href="lightingfx.html">LightingFX</a></li><li><a href="mergefx.html">MergeFX</a></li><li><a href="morphologyfx.html">MorphologyFX</a></li><li><a href="offsetfx.html">OffsetFX</a></li><li><a href="remapfx.html">RemapFX</a></li><li><a href="sourcefx.html">SourceFX</a></li><li><a href="turbulencefx.html">TurbulenceFX</a></li></ul></li><li>Extensions<ul><li><a href="scintilla.html">Scintilla</a></li><li><a href="scintillasearch.html">ScintillaSearch</a></li></ul></li><li>Graphics<ul><li><a href="bitmap.html">Bitmap</a></li><li><a href="clipboard.html">Clipboard</a></li><li><a href="display.html">Display</a></li><li><a href="document.html">Document</a></li><li><a href="font.html">Font</a></li><li><a href="picture.html">Picture</a></li><li><a href="pointer.html">Pointer</a></li><li><a href="surface.html">Surface</a></li><li><a href="svg.html">SVG</a></li></ul></li><li>Network<ul><li><a href="clientsocket.html">ClientSocket</a></li><li><a href="http.html">HTTP</a></li><li><a href="netsocket.html">NetSocket</a></li><li><a href="proxy.html">Proxy</a></li></ul></li><li>Vectors<ul><li><a href="vector.html">Vector</a></li><li><a href="vectorclip.html">VectorClip</a></li><li><a href="vectorcolour.html">VectorColour</a></li><li><a href="vectorellipse.html">VectorEllipse</a></li><li><a href="vectorfilter.html">VectorFilter</a></li><li><a href="vectorgradient.html">VectorGradient</a></li><li><a href="vectorimage.html">VectorImage</a></li><li><a href="vectorpath.html">VectorPath</a></li><li><a href="vectorpattern.html">VectorPattern</a></li><li><a href="vectorpolygon.html">VectorPolygon</a></li><li><a href="vectorrectangle.html">VectorRectangle</a></li><li><a href="vectorscene.html">VectorScene</a></li><li><a href="vectorshape.html">VectorShape</a></li><li><a href="vectorspiral.html">VectorSpiral</a></li><li><a href="vectortext.html">VectorText</a></li><li><a href="vectorviewport.html">VectorViewport</a></li><li><a href="vectorwave.html">VectorWave</a></li></ul></li></ul></div></div></div></div></div></div></div></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script><script src="../../js/bootstrap.min.js"></script><script src="../../js/base.js"></script><script type="text/javascript">
var glCurrentMethod;

$(document).ready(function() {
   glCurrentMethod = document.getElementById("Introduction");

  $('[data-toggle="tooltip"]').tooltip()

   var page = glParameters["page"];
   if (isEmpty(page)) page = glParameters["function"];

   if (isEmpty(page)) {
      showPage("default-page");
   }
   else showPage(page);
});

function showPage(Name)
{
   var div = document.getElementById(Name);
   if (div) {
      if (glCurrentMethod) { // Hide previous method.
         glCurrentMethod.style.display = "none";
      }
      div.style.display = "block"; // Show selected method.
      glCurrentMethod = div;
   }
   else console.log("Div for '" + Name + "' not found.");
}
         </script></body></html>
