<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="-//W3C//DTD XHTML 1.1//EN" xml:lang="en" xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><script type="text/javascript" async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8254DG7MT6"> </script><script type="text/javascript">
	   window.dataLayer = window.dataLayer || [];
	   function gtag(){dataLayer.push(arguments);}
	   gtag('js', new Date());
      gtag('config', 'G-8254DG7MT6');</script><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="description" content="Parasol Framework documentation, machine generated from source"></meta><meta name="author" content="Paul Manias"></meta><link rel="icon" href="/favicon.ico"></link><title>Parasol Framework Manual</title><link href="../../css/bootstrap.min.css" rel="stylesheet"></link><link href="../../css/module-template.css" rel="stylesheet"></link><script type="text/javascript">
          var shiftWindow = function() { scrollBy(0, -100) };
          window.addEventListener("hashchange", shiftWindow);
          function load() { if (window.location.hash) shiftWindow(); }
        </script></head><body><nav class="navbar navbar-expand-sm navbar-dark bg-dark"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="../../index.html">Parasol Framework</a></div><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="nav-item"><a class="nav-link" href="../../gallery.html">Gallery</a></li><li class="nav-item"><a class="nav-link" href="../api.html">API</a></li><li class="nav-item"><a class="nav-link" href="../../wiki/Home.html">Wiki</a></li><li class="nav-item"><a class="nav-link" href="https://github.com/parasol-framework/parasol">GitHub</a></li></ul></div></div></nav>
<div class="container-fluid"><div class="row"><div class="d-sm-block d-none col-3 sidebar" style="max-width: 230px;"><div class="flex-shrink-1 pt-2 pe-2 sticky-top overflow-auto vh-100 b-shadow">
<ul class="list-unstyled"><li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#mod-collapse" aria-expanded="false">Modules</button><div class="collapse" id="mod-collapse"><ul class="btn-toggle-nav list-unstyled fw-normal"><li class="api-ref"><a class="rounded" href="../audio.html">Audio</a></li><li class="api-ref"><a class="rounded" href="../core.html">Core</a></li><li class="api-ref"><a class="rounded" href="../display.html">Display</a></li><li class="api-ref"><a class="rounded" href="../fluid.html">Fluid</a></li><li class="api-ref"><a class="rounded" href="../font.html">Font</a></li><li class="api-ref"><a class="rounded" href="../network.html">Network</a></li><li class="api-ref"><a class="rounded" href="../vector.html">Vector</a></li></ul></div></li></ul>
<ul class="list-unstyled"><li class="border-top my-3"></li><li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#audio-collapse" aria-expanded="false">Audio</button><div class="collapse" id="audio-collapse"><ul class="btn-toggle-nav list-unstyled fw-normal pb-1"><li class="api-ref"><a class="rounded" href="audio.html">Audio</a></li><li class="api-ref"><a class="rounded" href="sound.html">Sound</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#core-collapse" aria-expanded="false">Core</button><div class="collapse" id="core-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="file.html">File</a></li><li class="api-ref"><a class="rounded" href="metaclass.html">MetaClass</a></li><li class="api-ref"><a class="rounded" href="module.html">Module</a></li><li class="api-ref"><a class="rounded" href="storagedevice.html">StorageDevice</a></li><li class="api-ref"><a class="rounded" href="task.html">Task</a></li><li class="api-ref"><a class="rounded" href="thread.html">Thread</a></li><li class="api-ref"><a class="rounded" href="time.html">Time</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#data-collapse" aria-expanded="false">Data</button><div class="collapse" id="data-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="compression.html">Compression</a></li><li class="api-ref"><a class="rounded" href="config.html">Config</a></li><li class="api-ref"><a class="rounded" href="script.html">Script</a></li><li class="api-ref"><a class="rounded" href="xml.html">XML</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#devices-collapse" aria-expanded="false">Devices</button><div class="collapse" id="devices-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="controller.html">Controller</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#effects-collapse" aria-expanded="false">Effects</button><div class="collapse" id="effects-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="blurfx.html">BlurFX</a></li><li class="api-ref"><a class="rounded" href="colourfx.html">ColourFX</a></li><li class="api-ref"><a class="rounded" href="compositefx.html">CompositeFX</a></li><li class="api-ref"><a class="rounded" href="convolvefx.html">ConvolveFX</a></li><li class="api-ref"><a class="rounded" href="displacementfx.html">DisplacementFX</a></li><li class="api-ref"><a class="rounded" href="filtereffect.html">FilterEffect</a></li><li class="api-ref"><a class="rounded" href="floodfx.html">FloodFX</a></li><li class="api-ref"><a class="rounded" href="imagefx.html">ImageFX</a></li><li class="api-ref"><a class="rounded" href="lightingfx.html">LightingFX</a></li><li class="api-ref"><a class="rounded" href="mergefx.html">MergeFX</a></li><li class="api-ref"><a class="rounded" href="morphologyfx.html">MorphologyFX</a></li><li class="api-ref"><a class="rounded" href="offsetfx.html">OffsetFX</a></li><li class="api-ref"><a class="rounded" href="remapfx.html">RemapFX</a></li><li class="api-ref"><a class="rounded" href="sourcefx.html">SourceFX</a></li><li class="api-ref"><a class="rounded" href="turbulencefx.html">TurbulenceFX</a></li><li class="api-ref"><a class="rounded" href="wavefunctionfx.html">WaveFunctionFX</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#ext-collapse" aria-expanded="false">Extensions</button><div class="collapse" id="ext-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="scintilla.html">Scintilla</a></li><li class="api-ref"><a class="rounded" href="scintillasearch.html">ScintillaSearch</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#gfx-collapse" aria-expanded="false">Graphics</button><div class="collapse" id="gfx-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="bitmap.html">Bitmap</a></li><li class="api-ref"><a class="rounded" href="clipboard.html">Clipboard</a></li><li class="api-ref"><a class="rounded" href="display.html">Display</a></li><li class="api-ref"><a class="rounded" href="document.html">Document</a></li><li class="api-ref"><a class="rounded" href="font.html">Font</a></li><li class="api-ref"><a class="rounded" href="picture.html">Picture</a></li><li class="api-ref"><a class="rounded" href="pointer.html">Pointer</a></li><li class="api-ref"><a class="rounded" href="surface.html">Surface</a></li><li class="api-ref"><a class="rounded" href="svg.html">SVG</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#net-collapse" aria-expanded="false">Network</button><div class="collapse" id="net-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="clientsocket.html">ClientSocket</a></li><li class="api-ref"><a class="rounded" href="http.html">HTTP</a></li><li class="api-ref"><a class="rounded" href="netsocket.html">NetSocket</a></li><li class="api-ref"><a class="rounded" href="proxy.html">Proxy</a></li></ul></div></li>
<li><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#vectors-collapse" aria-expanded="false">Vectors</button><div class="collapse" id="vectors-collapse"><ul class="btn-toggle-nav list-unstyled pb-1"><li class="api-ref"><a class="rounded" href="vector.html">Vector</a></li><li class="api-ref"><a class="rounded" href="vectorclip.html">VectorClip</a></li><li class="api-ref"><a class="rounded" href="vectorcolour.html">VectorColour</a></li><li class="api-ref"><a class="rounded" href="vectorellipse.html">VectorEllipse</a></li><li class="api-ref"><a class="rounded" href="vectorfilter.html">VectorFilter</a></li><li class="api-ref"><a class="rounded" href="vectorgradient.html">VectorGradient</a></li><li class="api-ref"><a class="rounded" href="vectorgroup.html">VectorGroup</a></li><li class="api-ref"><a class="rounded" href="vectorimage.html">VectorImage</a></li><li class="api-ref"><a class="rounded" href="vectorpath.html">VectorPath</a></li><li class="api-ref"><a class="rounded" href="vectorpattern.html">VectorPattern</a></li><li class="api-ref"><a class="rounded" href="vectorpolygon.html">VectorPolygon</a></li><li class="api-ref"><a class="rounded" href="vectorrectangle.html">VectorRectangle</a></li><li class="api-ref"><a class="rounded" href="vectorscene.html">VectorScene</a></li><li class="api-ref"><a class="rounded" href="vectorshape.html">VectorShape</a></li><li class="api-ref"><a class="rounded" href="vectorspiral.html">VectorSpiral</a></li><li class="api-ref"><a class="rounded" href="vectortext.html">VectorText</a></li><li class="api-ref"><a class="rounded" href="vectortransition.html">VectorTransition</a></li><li class="api-ref"><a class="rounded" href="vectorviewport.html">VectorViewport</a></li><li class="api-ref"><a class="rounded" href="vectorwave.html">VectorWave</a></li></ul></div></li></ul></div></div>
<div class="col-sm-9" style="max-width: 1200px;"><div class="docs-content" style="display:none;" id="default-page"><div class="page-header"><h1>Compression Class</h1></div><p class="lead">Compresses data into archives, supporting a variety of compression formats.</p>
<p>The Compression class provides an interface to compress and decompress data.  It provides support for file based compression as well as memory based compression routines.  The base class uses zip algorithms to support pkzip files, while other forms of compressed data can be supported by installing additional compression sub-classes.</p>
<p>The following examples demonstrate basic usage of compression objects in Fluid:</p>
<pre>// Create a new zip archive and compress two files.

cmp = obj.new('compression', { path='temp:result.zip', flags='!NEW' } )
err = cmp.mtCompressFile('config:defs/compression.def', '')
err = cmp.mtCompressFile('config:defs/core.def', '')

// Decompress all *.def files in the root of an archive.

cmp = obj.new('compression', { path='temp:result.zip' } )
err = cmp.mtDecompressFile('*.def', 'temp:')
</pre>
<p>It is strongly advised that Compression objects are created for the purpose of either writing to, or reading from the target archive.  The class is not designed for both purposes simultaneously, particularly due to considerations for maximising operational speed.</p>
<p>If data is to be encrypted or decrypted, set the <a data-bs-toggle="tooltip" title="Required if an archive needs an encryption password for access." href="#tf-Password">Password</a> field with a null-terminated encryption string. If the password for an encrypted file, errors will be returned when trying to decompress the information (the source archive may be reported as a corrupted file).</p>
<p>To list the contents of an archive, use the <a data-bs-toggle="tooltip" title="Scan the archive's index of compressed data." href="#tm-Scan">Scan()</a> method.</p>
<p>To adjust the level of compression used to pack each file, set the <a data-bs-toggle="tooltip" title="The compression level to use when compressing data." href="#tf-CompressionLevel">CompressionLevel</a> field to a value between 0 and 100%.</p>
<p>This code is based on the work of Jean-loup Gailly and Mark Adler.</p>
<h3>Structure</h3><p>The Compression class consists of the following fields:</p><table class="table"><thead><th class="col-md-1"><div data-bs-toggle="tooltip" title="Read/Write access indicators are listed below">Access</div></th><th class="col-md-1">Name</th><th class="col-md-1">Type</th><th>Comment</th></thead><tbody><tr data-bs-toggle="collapse" data-bs-target="#fl-ArchiveName" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-ArchiveName"><i class="bi bi-dash-circle text-secondary" data-bs-toggle="tooltip" title="Not readable"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">ArchiveName</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Apply an archive name to the object, allowing it to be used as a named object in the file system.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-ArchiveName" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Setting the ArchiveName will allow a Compression object's files to be accessible using standard file system paths. This is achieved through use of the <code>archive:</code> volume, which is a virtual filesystem included in the Core API.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-CompressionLevel" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-CompressionLevel"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">CompressionLevel</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>The compression level to use when compressing data.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-CompressionLevel" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The level of compression that is used when compressing data is determined by the value in this field.  Values range between 0 for no compression and 100 for maximum compression.  The speed of compression decreases with higher values, but the compression ratio will improve.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Feedback" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Feedback"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Feedback</th><td class="col-md-1"><span class="text-nowrap">FUNCTION</span></td><td>Provides feedback during the de/compression process.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Feedback" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>To receive feedback during any de/compression process, set a callback routine in this field. The format for the callback routine is <code>ERR Function(*Compression, *CompressionFeedback)</code>.</p>
<p>For object classes, the object that initiated the de/compression process can be learned by calling the Core's <a href="core.html?page=CurrentContext">CurrentContext()</a> function.</p>
<p>During the processing of multiple files, any individual file can be skipped by returning <code>ERR::Skip</code> and the entire process can be cancelled by returning <code>ERR::Terminate</code>.  All other error codes are ignored.</p>
<p>The <a data-bs-toggle="tooltip" title="" href="?page=struct-CompressionFeedback">CompressionFeedback</a> structure consists of the following fields:</p>
<table class="table"><thead><tr><th class="col-md-1">Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">FeedbackID</th><td>FDB</td><td>Set to one of the FDB event indicators</td></tr>
<tr><th class="col-md-1">Index</th><td>LONG</td><td>Index of the current file</td></tr>
<tr><th class="col-md-1">Path</th><td>CSTRING</td><td>Name of the current file/path in the archive</td></tr>
<tr><th class="col-md-1">Dest</th><td>CSTRING</td><td>Destination file/path during decompression</td></tr>
<tr><th class="col-md-1">Progress</th><td>LARGE</td><td>Progress indicator (byte position for the file being de/compressed).</td></tr>
<tr><th class="col-md-1">OriginalSize</th><td>LARGE</td><td>Original size of the file</td></tr>
<tr><th class="col-md-1">CompressedSize</th><td>LARGE</td><td>Compressed size of the file</td></tr>
<tr><th class="col-md-1">Year</th><td>WORD</td><td>Year of the original file's datestamp.</td></tr>
<tr><th class="col-md-1">Month</th><td>WORD</td><td>Month of the original file's datestamp.</td></tr>
<tr><th class="col-md-1">Day</th><td>WORD</td><td>Day of the original file's datestamp.</td></tr>
<tr><th class="col-md-1">Hour</th><td>WORD</td><td>Hour of the original file's datestamp.</td></tr>
<tr><th class="col-md-1">Minute</th><td>WORD</td><td>Minute of the original file's datestamp.</td></tr>
<tr><th class="col-md-1">Second</th><td>WORD</td><td>Second of the original file's datestamp.</td></tr>
</tbody></table>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Flags" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Flags"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct write access"></i></td><th class="col-md-1">Flags</th><td class="col-md-1"><span class="text-nowrap">CMF</span></td><td>Optional flags.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Flags" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">CMF::APPLY_SECURITY</th><td>When decompressing, apply individual file permissions if they are available in the compression file.</td></tr>
<tr><th class="col-md-1">CMF::CREATE_FILE</th><td>Create a new archive only if the source file does not already exist.</td></tr>
<tr><th class="col-md-1">CMF::NEW</th><td>Force the creation of a new file archive.  Any existing file data at the target location will be destroyed.</td></tr>
<tr><th class="col-md-1">CMF::NO_LINKS</th><td>Treat symbolic links as normal files/folders.</td></tr>
<tr><th class="col-md-1">CMF::PASSWORD</th><td>A password has been set on the object.</td></tr>
<tr><th class="col-md-1">CMF::READ_ONLY</th><td>Forces read-only access, which is strongly recommended if an existing archive is being opened with no modifications intended.  If this flag is not set, initialisation can fail if the user does not have write access to the source file.</td></tr>
</tbody></table>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-MinOutputSize" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-MinOutputSize"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">MinOutputSize</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Indicates the minimum output buffer size that will be needed during de/compression.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-MinOutputSize" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field indicates the minimum allowable buffer size for output during decompression and compression processing. This field must be checked before allocating your own buffers for holding compressed and decompressed output, as failing to allocate enough buffer space is extremely likely to result in overflow errors.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Output" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Output"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-lg text-success" data-bs-toggle="tooltip" title="Immutable"></i></td><th class="col-md-1">Output</th><td class="col-md-1"><span class="text-nowrap">OBJECTID</span></td><td>Resulting messages will be sent to the object referred to in this field.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Output" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If this field is set to a valid object ID, text messages will be sent to that object when the compression object is used.  This can be helpful for notifying the user of the results of compression, decompression and removal of files.</p>
<p>The target object must be capable of processing incoming text from data channels.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Password" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Password"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Password</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Required if an archive needs an encryption password for access.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Password" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Set the Password field if an archive will use a password for the encryption of its contents.  The string must be null-terminated and not more than 128 bytes in length.</p>
<p>It is recommended that the Password is set before or immediately after initialisation.  To change the password of an existing archive, create a new compression object with the desired password and transfer the existing data across to it.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Path" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Path"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">Path</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Set if the compressed data originates from, or is to be saved to a file source.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Path" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>To load or create a new file archive, set the Path field to the path of that file.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Permissions" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-Permissions"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct write access"></i></td><th class="col-md-1">Permissions</th><td class="col-md-1"><span class="text-nowrap">PERMIT</span></td><td>Default permissions for decompressed files are defined here.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-Permissions" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>By default the permissions of files added to an archive are derived from their source location.  This behaviour can be over-ridden by setting the Permissions field.  Valid permission flags are outlined in the <a href="file.html">File</a> class.</p>
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">PERMIT::ALL_DELETE</th><td>Synonym for <code>EVERYONE_DELETE</code></td></tr>
<tr><th class="col-md-1">PERMIT::ALL_EXEC</th><td>Synonym for <code>EVERYONE_EXEC</code></td></tr>
<tr><th class="col-md-1">PERMIT::ALL_READ</th><td>Synonym for <code>EVERYONE_READ</code></td></tr>
<tr><th class="col-md-1">PERMIT::ALL_WRITE</th><td>Synonym for <code>EVERYONE_WRITE</code></td></tr>
<tr><th class="col-md-1">PERMIT::ARCHIVE</th><td>Marks the file for future backup.  The flag should be cleared after the backup has succeeded.</td></tr>
<tr><th class="col-md-1">PERMIT::DELETE</th><td>Owner can delete.  If the file system does not support this, deletion is enabled via the <code>WRITE</code> flag.</td></tr>
<tr><th class="col-md-1">PERMIT::EVERYONE_ACCESS</th><td>Synonym for <code>EVERYONE_READ | EVERYONE_WRITE | EVERYONE_EXEC | EVERYONE_DELETE</code></td></tr>
<tr><th class="col-md-1">PERMIT::EVERYONE_DELETE</th><td>Synonym for <code>DELETE | GROUP_DELETE | OTHERS_DELETE</code></td></tr>
<tr><th class="col-md-1">PERMIT::EVERYONE_EXEC</th><td>Synonym for <code>EXEC | GROUP_EXEC | OTHERS_EXEC</code></td></tr>
<tr><th class="col-md-1">PERMIT::EVERYONE_READ</th><td>Synonym for <code>READ | GROUP_READ | OTHERS_READ</code></td></tr>
<tr><th class="col-md-1">PERMIT::EVERYONE_READWRITE</th><td>Synonym for <code>EVERYONE_READ | EVERYONE_WRITE</code></td></tr>
<tr><th class="col-md-1">PERMIT::EVERYONE_WRITE</th><td>Synonym for <code>WRITE | GROUP_WRITE | OTHERS_WRITE</code></td></tr>
<tr><th class="col-md-1">PERMIT::EXEC</th><td>User/Owner can execute.</td></tr>
<tr><th class="col-md-1">PERMIT::GROUP</th><td>Synonym for <code>GROUP_READ | GROUP_WRITE | GROUP_EXEC | GROUP_DELETE</code></td></tr>
<tr><th class="col-md-1">PERMIT::GROUPID</th><td>Allows executables to run with a set group id.</td></tr>
<tr><th class="col-md-1">PERMIT::GROUP_DELETE</th><td>Group members can delete.</td></tr>
<tr><th class="col-md-1">PERMIT::GROUP_EXEC</th><td>Group members can execute.</td></tr>
<tr><th class="col-md-1">PERMIT::GROUP_READ</th><td>Group members can read.</td></tr>
<tr><th class="col-md-1">PERMIT::GROUP_WRITE</th><td>Group members can write.</td></tr>
<tr><th class="col-md-1">PERMIT::HIDDEN</th><td>Recommends that the file is hidden from view by default.</td></tr>
<tr><th class="col-md-1">PERMIT::INHERIT</th><td>Inherit permissions from parent folder and logical OR them with preset permission flags.</td></tr>
<tr><th class="col-md-1">PERMIT::NETWORK</th><td>File is hosted on another machine.</td></tr>
<tr><th class="col-md-1">PERMIT::OFFLINE</th><td>File content for this networked file has not been cached on the local PC.</td></tr>
<tr><th class="col-md-1">PERMIT::OTHERS</th><td>Synonym for <code>OTHERS_READ | OTHERS_WRITE | OTHERS_EXEC | OTHERS_DELETE</code></td></tr>
<tr><th class="col-md-1">PERMIT::OTHERS_DELETE</th><td>Others can delete.</td></tr>
<tr><th class="col-md-1">PERMIT::OTHERS_EXEC</th><td>Others can execute.</td></tr>
<tr><th class="col-md-1">PERMIT::OTHERS_READ</th><td>Others can read.</td></tr>
<tr><th class="col-md-1">PERMIT::OTHERS_WRITE</th><td>Others can write.</td></tr>
<tr><th class="col-md-1">PERMIT::PASSWORD</th><td>File is password protected.</td></tr>
<tr><th class="col-md-1">PERMIT::READ</th><td>User/Owner has read access.  This will not allow compiled code to be executed.</td></tr>
<tr><th class="col-md-1">PERMIT::USER</th><td>Synonym for <code>READ | WRITE | EXEC | DELETE</code></td></tr>
<tr><th class="col-md-1">PERMIT::USERID</th><td>Allows executables to run with a set user id.</td></tr>
<tr><th class="col-md-1">PERMIT::USER_EXEC</th><td>Synonym for <code>EXEC</code></td></tr>
<tr><th class="col-md-1">PERMIT::USER_READ</th><td>Synonym for <code>READ</code></td></tr>
<tr><th class="col-md-1">PERMIT::USER_WRITE</th><td>Synonym for <code>WRITE</code></td></tr>
<tr><th class="col-md-1">PERMIT::WRITE</th><td>User/Owner can write.</td></tr>
</tbody></table>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-Size" style="scroll-margin:3em;"><td class="col-md-1" id="tf-Size"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">Size</th><td class="col-md-1"><span class="text-nowrap">BIGINT</span></td><td>Indicates the size of the source archive, in bytes.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-TotalOutput" style="scroll-margin:3em;"><td class="col-md-1" id="tf-TotalOutput"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">TotalOutput</th><td class="col-md-1"><span class="text-nowrap">BIGINT</span></td><td>The total number of bytes that have been output during the compression or decompression of streamed data.</td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-UncompressedSize" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-UncompressedSize"><i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional read access"></i>
                           
                          <i class="bi bi-dash-circle-fill text-secondary" data-bs-toggle="tooltip" title="Not writeable"></i></td><th class="col-md-1">UncompressedSize</th><td class="col-md-1"><span class="text-nowrap">BIGINT</span></td><td>The total decompressed size of all files in an archive.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-UncompressedSize" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If you would like to know the total number of bytes that have been compressed into a compression object, read this field.  This will tell you the maximum byte count used if every file were to be decompressed.  Header and tail information that may identify the compressed data is not included in the total.</p>
      
</div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#fl-WindowBits" style="scroll-margin:3em;" role="button"><td class="col-md-1" id="tf-WindowBits"><i class="bi bi-check-circle-fill text-success" data-bs-toggle="tooltip" title="Direct read access"></i>
                           
                          <i class="bi bi-check-circle text-success" data-bs-toggle="tooltip" title="Functional write access"></i></td><th class="col-md-1">WindowBits</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Special option for certain compression formats.</td></tr><tr><td colspan="4" class="hiddenRow"><div id="fl-WindowBits" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The WindowBits field defines the size of the sliding window frame for the default compression format (DEFLATE), but may also be of use to other compression formats that use this technique.</p>
<p>For DEFLATE compression, the window bits range must lie between 8 and 15.  Please note that if the value is negative, the algorithm will not output the traditional zlib header information.</p>
<p>To support GZIP decompression, please set the WindowBits value to 47.</p>
      
</div></div></td></tr>
</tbody></table><h3>Actions</h3><p>The following actions are currently supported:</p><table class="table"><tbody><tr data-bs-toggle="collapse" data-bs-target="#tac-Flush" style="scroll-margin:3em;" id="ta-Flush"><td style="width:1%; border-top-style: none; border-bottom-style: none;"></td><th class="col-md-1 text-primary">Flush</th><td>Flushes all pending actions.</td></tr>
</tbody></table><h3>Methods</h3><p>The following methods are currently supported:</p><table class="table"><tbody><tr data-bs-toggle="collapse" data-bs-target="#tmx-CompressBuffer" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">CompressBuffer</th><td id="tm-CompressBuffer">Compresses a plain memory area into an empty buffer.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-CompressBuffer" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::CompressBuffer(OBJECTPTR Object, APTR Input, LONG InputSize, APTR Output, LONG OutputSize, LONG * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Input</td><td>Pointer to the source data.</td></tr>
<tr><td>InputSize</td><td>Byte length of the source data.</td></tr>
<tr><td>Output</td><td>Pointer to a destination buffer.</td></tr>
<tr><td>OutputSize</td><td>Available space in the destination buffer.</td></tr>
<tr><td>Result</td><td>The size of the compressed data will be returned in this parameter.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method provides a simple way of compressing a memory area into a buffer.  It requires a reference to the source data and a buffer large enough to accept the compressed information.  Generally the destination buffer should be no smaller than 75% of the size of the source data.  If the destination buffer is not large enough, an error of <code>ERR::BufferOverflow</code> will be returned.  The size of the compressed data will be returned in the Result parameter.</p>
<p>To decompress the data that is output by this function, use the <a data-bs-toggle="tooltip" title="Decompresses data originating from the CompressBuffer method." href="#tm-DecompressBuffer">DecompressBuffer()</a> method.</p>
<p>The compression method used to compress the data will be identified in the first 32 bits of output, for example, <code>ZLIB</code>.  The following 32 bits will indicate the length of the compressed data section, followed by the data itself.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The data was compressed successfully.  The Result parameter indicates the size of the compressed data.</td></tr>
<tr><th class="col-md-1">Failed</th><td>General failure.</td></tr>
<tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr>
<tr><th class="col-md-1">BufferOverflow</th><td>The output buffer is not large enough.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-CompressFile" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">CompressFile</th><td id="tm-CompressFile">Add files to a compression object.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-CompressFile" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::CompressFile(OBJECTPTR Object, CSTRING Location, CSTRING Path)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Location</td><td>The location of the file(s) to add.</td></tr>
<tr><td>Path</td><td>The path that is prefixed to the file name when added to the compression object.  May be <code>NULL</code> for no path.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The CompressFile method is used to add new files and folders to a compression object. The client must supply the <code>Location</code> of the file to compress, as well as the <code>Path</code> that is prefixed to the file name when it is in the compression object.  The <code>Location</code> parameter accepts wildcards, allowing multiple files to be processed in a single function call.</p>
<p>To compress all contents of a folder, specify its path in the <code>Location</code> parameter and ensure that it is fully qualified by appending a forward slash or colon character.</p>
<p>The <code>Path</code> parameter must include a trailing slash when targeting a folder, otherwise the source file will be renamed to suit the target path.  If the <code>Path</code> starts with a forward slash and the source is a folder, the name of that folder will be used in the target path for the compressed files and folders.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The file was added to the compression object.</td></tr>
<tr><th class="col-md-1">File</th><td>An error was encountered when trying to open the source file.</td></tr>
<tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr>
<tr><th class="col-md-1">NoSupport</th><td>The sub-class does not support this method.</td></tr>
<tr><th class="col-md-1">NoPermission</th><td>The <code>READ_ONLY</code> flag has been set on the compression object.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-CompressStream" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">CompressStream</th><td id="tm-CompressStream">Compresses streamed data into a buffer.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-CompressStream" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::CompressStream(OBJECTPTR Object, APTR Input, LONG Length, FUNCTION * Callback, APTR Output, LONG OutputSize)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Input</td><td>Pointer to the source data.</td></tr>
<tr><td>Length</td><td>Amount of data to compress, in bytes.</td></tr>
<tr><td>Callback</td><td>This callback function will be called with a pointer to the compressed data.</td></tr>
<tr><td>Output</td><td>Optional.  Points to a buffer that will receive the compressed data.  Must be equal to or larger than the <a data-bs-toggle="tooltip" title="Indicates the minimum output buffer size that will be needed during de/compression." href="#tf-MinOutputSize">MinOutputSize</a> field.</td></tr>
<tr><td>OutputSize</td><td>Indicates the size of the <code>Output</code> buffer, otherwise set to zero.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>Use the CompressStream method to compress incoming streams of data whilst using a minimal amount of memory.  The compression process is handled in three phases of Start, Compress and End.  The methods provided for each phase are <a data-bs-toggle="tooltip" title="Initialises a new compression stream." href="#tm-CompressStreamStart">CompressStreamStart()</a>, <a data-bs-toggle="tooltip" title="Compresses streamed data into a buffer." href="#tm-CompressStream">CompressStream()</a> and <a data-bs-toggle="tooltip" title="Ends the compression of an open stream." href="#tm-CompressStreamEnd">CompressStreamEnd()</a>.</p>
<p>A compression object can manage only one compression stream at any given time.  If it is necessary to compress multiple streams at once, create a compression object for each individual stream.</p>
<p>No meta-information is written to the stream, so the client will need a way to record the total number of bytes that have been output during the compression process. This value must be stored somewhere in order to decompress the stream correctly.  There is also no header information recorded to identify the type of algorithm used to compress the stream.  We recommend that the compression object's sub-class ID is stored for future reference.</p>
<p>The following C code illustrates a simple means of compressing a file to another file using a stream:</p>
<pre>if (auto error = mtCompressStreamStart(compress); error IS ERR::Okay) {
   LONG len;
   LONG cmpsize = 0;
   UBYTE input[4096];
   while ((error = acRead(file, input, sizeof(input), &amp;len)) IS ERR::Okay) {
      if (!len) break; // No more data to read.

      error = mtCompressStream(compress, input, len, &amp;callback, NULL, 0);
      if (error != ERR::Okay) break;

      if (result &gt; 0) {
         cmpsize += result;
         error = acWrite(outfile, output, result, &amp;len);
         if (error != ERR::Okay) break;
      }
   }

   if (error IS ERR::Okay) {
      if ((error = mtCompressStreamEnd(compress, NULL, 0)) IS ERR::Okay) {
         cmpsize += result;
         error = acWrite(outfile, output, result, &amp;len);
      }
   }
}
</pre>
<p>Please note that, depending on the type of algorithm, this method will not always write data to the output buffer.  The algorithm may store a copy of the input and wait for more data for efficiency reasons.  Any unwritten data will be resolved when the stream is terminated with <a data-bs-toggle="tooltip" title="Ends the compression of an open stream." href="#tm-CompressStreamEnd">CompressStreamEnd()</a>.  To check if data was output by this function, either set a flag in the callback function or compare the <a data-bs-toggle="tooltip" title="The total number of bytes that have been output during the compression or decompression of streamed data." href="#tf-TotalOutput">TotalOutput</a> value to its original setting before CompressStream was called.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">Retry</th><td>Please recall the method using a larger output buffer.</td></tr>
<tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr>
<tr><th class="col-md-1">BufferOverflow</th><td>The output buffer is not large enough to contain the compressed data.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-CompressStreamEnd" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">CompressStreamEnd</th><td id="tm-CompressStreamEnd">Ends the compression of an open stream.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-CompressStreamEnd" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::CompressStreamEnd(OBJECTPTR Object, FUNCTION * Callback, APTR Output, LONG OutputSize)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Callback</td><td>Refers to a function that will be called for each compressed block of data.</td></tr>
<tr><td>Output</td><td>Optional pointer to a buffer that will receive the compressed data.  If not set, the compression object will use its own buffer.</td></tr>
<tr><td>OutputSize</td><td>Size of the <code>Output</code> buffer (ignored if Output is <code>NULL</code>).</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>To end the compression process, this method must be called to write any final blocks of data and remove the resources that were allocated.</p>
<p>The expected format of the <code>Callback</code> function is specified in the <a data-bs-toggle="tooltip" title="Compresses streamed data into a buffer." href="#tm-CompressStream">CompressStream()</a> method.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">BufferOverflow</th><td>The supplied Output buffer is not large enough (check the <a data-bs-toggle="tooltip" title="Indicates the minimum output buffer size that will be needed during de/compression." href="#tf-MinOutputSize">MinOutputSize</a> field for the minimum allowable size).</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-CompressStreamStart" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">CompressStreamStart</th><td id="tm-CompressStreamStart">Initialises a new compression stream.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-CompressStreamStart" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::CompressStreamStart(OBJECTPTR Object)</samp></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The level of compression is determined by the <a data-bs-toggle="tooltip" title="The compression level to use when compressing data." href="#tf-CompressionLevel">CompressionLevel</a> field value.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">Failed</th><td>Failed to initialise the decompression process.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-DecompressBuffer" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">DecompressBuffer</th><td id="tm-DecompressBuffer">Decompresses data originating from the <a data-bs-toggle="tooltip" title="Compresses a plain memory area into an empty buffer." href="#tm-CompressBuffer">CompressBuffer()</a> method.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-DecompressBuffer" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::DecompressBuffer(OBJECTPTR Object, APTR Input, APTR Output, LONG OutputSize, LONG * Result)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Input</td><td>Pointer to the compressed data.</td></tr>
<tr><td>Output</td><td>Pointer to the decompression buffer.</td></tr>
<tr><td>OutputSize</td><td>Size of the decompression buffer.</td></tr>
<tr><td>Result</td><td>The amount of bytes decompressed will be returned in this parameter.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method is used to decompress data that has been packed using the <a data-bs-toggle="tooltip" title="Compresses a plain memory area into an empty buffer." href="#tm-CompressBuffer">CompressBuffer()</a> method.  A pointer to the compressed data and an output buffer large enough to contain the decompressed data are required.  If the output buffer is not large enough to contain the data, the method will write out as much information as it can and then return with an error code of <code>ERR::BufferOverflow</code>.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr>
<tr><th class="col-md-1">BufferOverflow</th><td>The output buffer is not large enough to hold the decompressed information.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-DecompressFile" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">DecompressFile</th><td id="tm-DecompressFile">Extracts one or more files from a compression object.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-DecompressFile" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::DecompressFile(OBJECTPTR Object, CSTRING Path, CSTRING Dest, LONG Flags)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Path</td><td>The full path name of the file to extract from the archive.</td></tr>
<tr><td>Dest</td><td>The destination to extract the file to.</td></tr>
<tr><td>Flags</td><td>Optional flags.  Currently unused.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>Use the DecompressFile() method to decompress a file or files to a destination folder.  The exact path name of the compressed file is required for extraction unless using wildcards.  A single asterisk in the Path parameter will extract all files in a compression object.</p>
<p>When specifying the <code>Dest</code> parameter, it is recommended that you specify a folder location by using a forward slash at the end of the string.  If this is omitted, the destination will be interpreted as a file name.  If the destination file already exists, it will be overwritten by the decompressed data.</p>
<p>This method sends feedback at regular intervals during decompression.  For further information on receiving feedback, please refer to the <a data-bs-toggle="tooltip" title="Provides feedback during the de/compression process." href="#tf-Feedback">Feedback</a> field.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The file was successfully extracted.</td></tr>
<tr><th class="col-md-1">Cancelled</th><td>The decompression process was cancelled by the feedback mechanism.</td></tr>
<tr><th class="col-md-1">Failed</th><td>General failure.</td></tr>
<tr><th class="col-md-1">File</th><td>A destination file could not be created.</td></tr>
<tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr>
<tr><th class="col-md-1">NoData</th><td>No data is available for use.</td></tr>
<tr><th class="col-md-1">Write</th><td>Failed to write uncompressed information to a destination file.</td></tr>
<tr><th class="col-md-1">MissingPath</th><td>The object is missing a setting in the Path or Location field.</td></tr>
<tr><th class="col-md-1">Seek</th><td>An error occurred during a seek operation.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-DecompressObject" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">DecompressObject</th><td id="tm-DecompressObject">Decompresses one file to a target object.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-DecompressObject" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::DecompressObject(OBJECTPTR Object, CSTRING Path, OBJECTPTR Object)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Path</td><td>The location of the source file within the archive.  If a wildcard is used, the first matching file is extracted.</td></tr>
<tr><td>Object</td><td>The target object for the decompressed source data.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>The DecompressObject method will decompress a file to a target object, using a series of <a data-bs-toggle="tooltip" title="" href="#ta-Write">Write()</a> calls.</p>
<p>This method sends feedback at regular intervals during decompression.  For further information on receiving feedback, please refer to the <a data-bs-toggle="tooltip" title="Provides feedback during the de/compression process." href="#tf-Feedback">Feedback</a> field.</p>
<p>Note that if decompressing to a <a href="file.html">File</a> object, the seek position will point to the end of the file after this method returns.  Reset the seek position to zero if the decompressed data needs to be read back.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">Failed</th><td>General failure.</td></tr>
<tr><th class="col-md-1">Write</th><td>Error writing data to file.</td></tr>
<tr><th class="col-md-1">MissingPath</th><td>The object is missing a setting in the Path or Location field.</td></tr>
<tr><th class="col-md-1">Seek</th><td>An error occurred during a seek operation.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-DecompressStream" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">DecompressStream</th><td id="tm-DecompressStream">Decompresses streamed data to an output buffer.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-DecompressStream" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::DecompressStream(OBJECTPTR Object, APTR Input, LONG Length, FUNCTION * Callback, APTR Output, LONG OutputSize)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Input</td><td>Pointer to data to decompress.</td></tr>
<tr><td>Length</td><td>Amount of data to decompress from the Input parameter.</td></tr>
<tr><td>Callback</td><td>Refers to a function that will be called for each decompressed block of information.</td></tr>
<tr><td>Output</td><td>Optional pointer to a buffer that will receive the decompressed data.  If not set, the compression object will use its own buffer.</td></tr>
<tr><td>OutputSize</td><td>Size of the buffer specified in Output (value ignored if <code>Output</code> is <code>NULL</code>).</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>Call DecompressStream repeatedly to decompress a data stream and process the results in a callback routine.  The client will need to provide a pointer to the data in the <code>Input</code> parameter and indicate its size in <code>Length</code>.  The decompression routine will call the routine that was specified in <code>Callback</code> for each block that is decompressed.</p>
<p>The format of the <code>Callback</code> routine is <code>ERR Function(*Compression, APTR Buffer, LONG Length)</code></p>
<p>The <code>Buffer</code> will refer to the start of the decompressed data and its size will be indicated in <code>Length</code>.  If the <code>Callback</code> routine returns an error of any kind, the decompression process will be stopped and the error code will be immediately returned by the method.</p>
<p>Optionally, the client can specify an output buffer in the <code>Output</code> parameter.  This can be a valuable optimisation technique, as it will eliminate the need to copy data out of the compression object's internal buffer.</p>
<p>When there is no more data in the decompression stream or if an error has occurred, the client must call <a data-bs-toggle="tooltip" title="Must be called at the end of the decompression process." href="#tm-DecompressStreamEnd">DecompressStreamEnd()</a>.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">AllocMemory</th><td>A call to AllocMemory() failed to create a new memory block.</td></tr>
<tr><th class="col-md-1">BufferOverflow</th><td>The output buffer is not large enough.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-DecompressStreamEnd" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">DecompressStreamEnd</th><td id="tm-DecompressStreamEnd">Must be called at the end of the decompression process.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-DecompressStreamEnd" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::DecompressStreamEnd(OBJECTPTR Object, FUNCTION * Callback)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Callback</td><td>Refers to a function that will be called for each decompressed block of information.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>To end the decompression process, this method must be called to write any final blocks of data and remove the resources that were allocated during decompression.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-DecompressStreamStart" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">DecompressStreamStart</th><td id="tm-DecompressStreamStart">Initialises a new decompression stream.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-DecompressStreamStart" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::DecompressStreamStart(OBJECTPTR Object)</samp></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>Use the DecompressStreamStart method to initialise a new decompression stream.  No parameters are required.</p>
<p>If a decompression stream is already active at the time that this method is called, all resources associated with that stream will be deallocated so that the new stream can be initiated.</p>
<p>To decompress the data stream, follow this call with repeated calls to <a data-bs-toggle="tooltip" title="Decompresses streamed data to an output buffer." href="#tm-DecompressStream">DecompressStream()</a> until all the data has been processed, then call <a data-bs-toggle="tooltip" title="Must be called at the end of the decompression process." href="#tm-DecompressStreamEnd">DecompressStreamEnd()</a>.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">Failed</th><td>Failed to initialise the decompression process.</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-Find" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">Find</th><td id="tm-Find">Find the first item that matches a given filter.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-Find" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::Find(OBJECTPTR Object, CSTRING Path, LONG CaseSensitive, LONG Wildcard, struct CompressedItem ** Item)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Path</td><td>Search for a specific item or items, using wildcards.</td></tr>
<tr><td>CaseSensitive</td><td>Set to <code>true</code> if <code>Path</code> comparisons are case-sensitive.</td></tr>
<tr><td>Wildcard</td><td>Set to <code>true</code> if <code>Path</code> uses wildcards.</td></tr>
<tr><td>Item</td><td>The discovered item is returned in this parameter, or <code>NULL</code> if the search failed.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>Use the Find() method to search for a specific item in an archive.  The algorithm will return the first item that matches the <code>Path</code> string in conjunction with the <code>Case</code> and <code>Wildcard</code> options.</p>
<p>If successful, the discovered item is returned as a !CompressedItem.  The result is temporary and values will be discarded on the next call to this method.  If persistent values are required, copy the resulting structure immediately after the call.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">Search</th><td>A search routine in this function failed.</td></tr>
<tr><th class="col-md-1">NoSupport</th><td>This request is not supported.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-RemoveFile" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">RemoveFile</th><td id="tm-RemoveFile">Deletes one or more files from a compression object.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-RemoveFile" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::RemoveFile(OBJECTPTR Object, CSTRING Path)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Path</td><td>The full path name of the file to delete from the archive.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>This method deletes compressed files from a compression object.  If the file is in a folder then the client must specify the complete path in conjunction with the file name.  Wild cards are accepted if you want to delete multiple files.  A <code>Path</code> setting of <code>*</code> will delete an archive's entire contents, while a more conservative <code>Path</code> of <code>documents/ *</code> would delete all files and directories under the documents path.  Directories can be declared using either the back-slash or the forward-slash characters.</p>
<p>Depending on internal optimisation techniques, the compressed file may not shrink from deletions until the compression object is closed or the <a data-bs-toggle="tooltip" title="Flushes all pending actions." href="#ta-Flush">Flush()</a> action is called.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>The file was successfully deleted.</td></tr>
<tr><th class="col-md-1">NoSupport</th><td>This request is not supported.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
<tr data-bs-toggle="collapse" data-bs-target="#tmx-Scan" role="button" style="scroll-margin:3em;"><th class="col-md-1 text-primary">Scan</th><td id="tm-Scan">Scan the archive's index of compressed data.</td></tr><tr><td colspan="2" class="hiddenRow"><div id="tmx-Scan" class="accordion-body collapse"><div class="card" style="border-radius: 0;"><div class="card-header action-header" style="border-radius: 0;"><samp>ERR cmp::Scan(OBJECTPTR Object, CSTRING Folder, CSTRING Filter, FUNCTION * Callback)</samp></div><div class="card-body" style="padding:0px"><table class="table"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Folder</td><td>If defined, only items within the specified folder are returned.  Use an empty string for files in the root folder.</td></tr>
<tr><td>Filter</td><td>Search for a specific item or items by name, using wildcards.  If <code>NULL</code> or an empty string, all items will be scanned.</td></tr>
<tr><td>Callback</td><td>This callback function will be called with a pointer to a <a data-bs-toggle="tooltip" title="" href="?page=struct-CompressedItem">CompressedItem</a> structure.</td></tr>
</tbody></table></div></div><div class="docs-content" style="margin:1em .5em 1em .5em;">
<p>Use the Scan() method to search an archive's list of items.  Optional filtering can be applied using the <code>Folder</code> parameter to limit results to those within a folder, and <code>Filter</code> parameter to apply wildcard matching to item names.  Each item that is discovered during the scan will be passed to the function referenced in the <code>Callback</code> parameter.  If the <code>Callback</code> function returns <code>ERR::Terminate</code>, the scan will stop immediately.  The prototype of the <code>Callback</code> function is <code>ERR Function(*Compression, *CompressedItem)</code>.</p>
<p>The <a data-bs-toggle="tooltip" title="" href="?page=struct-CompressedItem">CompressedItem</a> structure consists of the following fields:</p>
<table class="table"><thead><tr><th class="col-md-1">Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">OriginalSize</th><td>LARGE</td><td>Original size of the file</td></tr>
<tr><th class="col-md-1">CompressedSize</th><td>LARGE</td><td>Compressed size of the file</td></tr>
<tr><th class="col-md-1">Next</th><td>struct CompressedItem *</td><td>Used only if this is a linked-list.</td></tr>
<tr><th class="col-md-1">Path</th><td>CSTRING</td><td>Path to the file (includes folder prefixes).  Archived folders will include the trailing slash.</td></tr>
<tr><th class="col-md-1">Permissions</th><td>PERMIT</td><td>Original permissions - see <code>PERMIT</code> flags.</td></tr>
<tr><th class="col-md-1">UserID</th><td>LONG</td><td>Original user ID</td></tr>
<tr><th class="col-md-1">GroupID</th><td>LONG</td><td>Original group ID</td></tr>
<tr><th class="col-md-1">OthersID</th><td>LONG</td><td>Original others ID</td></tr>
<tr><th class="col-md-1">Flags</th><td>FL</td><td><code>FL</code> flags</td></tr>
<tr><th class="col-md-1">Created</th><td>struct DateTime</td><td>Date and time of the file's creation.</td></tr>
<tr><th class="col-md-1">Modified</th><td>struct DateTime</td><td>Date and time last modified.</td></tr>
</tbody></table>
<p>To search for a single item with a path and name already known, use the <a data-bs-toggle="tooltip" title="Find the first item that matches a given filter." href="#tm-Find">Find()</a> method instead.</p>
      
<div class="sub-header">Error Codes</div><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr>
<tr><th class="col-md-1">NoSupport</th><td>This request is not supported.</td></tr>
<tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr>
</tbody></table></div></div></td></tr>
</tbody></table><div class="footer copyright text-right">Compression class documentation © Paul Manias 1996-2025</div></div><div class="docs-content" style="display:none;" id="CMF"><h1>CMF Type</h1><p class="lead">Compression flags</p><table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th>CMF::APPLY_SECURITY</th><td>When decompressing, apply individual file permissions if they are available in the compression file.</td></tr>
<tr><th>CMF::CREATE_FILE</th><td>Create a new archive only if the source file does not already exist.</td></tr>
<tr><th>CMF::NEW</th><td>Force the creation of a new file archive.  Any existing file data at the target location will be destroyed.</td></tr>
<tr><th>CMF::NO_LINKS</th><td>Treat symbolic links as normal files/folders.</td></tr>
<tr><th>CMF::PASSWORD</th><td>A password has been set on the object.</td></tr>
<tr><th>CMF::READ_ONLY</th><td>Forces read-only access, which is strongly recommended if an existing archive is being opened with no modifications intended.  If this flag is not set, initialisation can fail if the user does not have write access to the source file.</td></tr>
</tbody></table><div class="footer copyright text-right">Compression module documentation © Paul Manias 1996-2025</div></div>
<div class="docs-content" style="display:none;" id="PERMIT"><h1>PERMIT Type</h1><p class="lead">Permission flags</p><table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th>PERMIT::ALL_DELETE</th><td>Synonym for <code>EVERYONE_DELETE</code></td></tr>
<tr><th>PERMIT::ALL_EXEC</th><td>Synonym for <code>EVERYONE_EXEC</code></td></tr>
<tr><th>PERMIT::ALL_READ</th><td>Synonym for <code>EVERYONE_READ</code></td></tr>
<tr><th>PERMIT::ALL_WRITE</th><td>Synonym for <code>EVERYONE_WRITE</code></td></tr>
<tr><th>PERMIT::ARCHIVE</th><td>Marks the file for future backup.  The flag should be cleared after the backup has succeeded.</td></tr>
<tr><th>PERMIT::DELETE</th><td>Owner can delete.  If the file system does not support this, deletion is enabled via the <code>WRITE</code> flag.</td></tr>
<tr><th>PERMIT::EVERYONE_ACCESS</th><td>Synonym for <code>EVERYONE_READ | EVERYONE_WRITE | EVERYONE_EXEC | EVERYONE_DELETE</code></td></tr>
<tr><th>PERMIT::EVERYONE_DELETE</th><td>Synonym for <code>DELETE | GROUP_DELETE | OTHERS_DELETE</code></td></tr>
<tr><th>PERMIT::EVERYONE_EXEC</th><td>Synonym for <code>EXEC | GROUP_EXEC | OTHERS_EXEC</code></td></tr>
<tr><th>PERMIT::EVERYONE_READ</th><td>Synonym for <code>READ | GROUP_READ | OTHERS_READ</code></td></tr>
<tr><th>PERMIT::EVERYONE_READWRITE</th><td>Synonym for <code>EVERYONE_READ | EVERYONE_WRITE</code></td></tr>
<tr><th>PERMIT::EVERYONE_WRITE</th><td>Synonym for <code>WRITE | GROUP_WRITE | OTHERS_WRITE</code></td></tr>
<tr><th>PERMIT::EXEC</th><td>User/Owner can execute.</td></tr>
<tr><th>PERMIT::GROUP</th><td>Synonym for <code>GROUP_READ | GROUP_WRITE | GROUP_EXEC | GROUP_DELETE</code></td></tr>
<tr><th>PERMIT::GROUPID</th><td>Allows executables to run with a set group id.</td></tr>
<tr><th>PERMIT::GROUP_DELETE</th><td>Group members can delete.</td></tr>
<tr><th>PERMIT::GROUP_EXEC</th><td>Group members can execute.</td></tr>
<tr><th>PERMIT::GROUP_READ</th><td>Group members can read.</td></tr>
<tr><th>PERMIT::GROUP_WRITE</th><td>Group members can write.</td></tr>
<tr><th>PERMIT::HIDDEN</th><td>Recommends that the file is hidden from view by default.</td></tr>
<tr><th>PERMIT::INHERIT</th><td>Inherit permissions from parent folder and logical OR them with preset permission flags.</td></tr>
<tr><th>PERMIT::NETWORK</th><td>File is hosted on another machine.</td></tr>
<tr><th>PERMIT::OFFLINE</th><td>File content for this networked file has not been cached on the local PC.</td></tr>
<tr><th>PERMIT::OTHERS</th><td>Synonym for <code>OTHERS_READ | OTHERS_WRITE | OTHERS_EXEC | OTHERS_DELETE</code></td></tr>
<tr><th>PERMIT::OTHERS_DELETE</th><td>Others can delete.</td></tr>
<tr><th>PERMIT::OTHERS_EXEC</th><td>Others can execute.</td></tr>
<tr><th>PERMIT::OTHERS_READ</th><td>Others can read.</td></tr>
<tr><th>PERMIT::OTHERS_WRITE</th><td>Others can write.</td></tr>
<tr><th>PERMIT::PASSWORD</th><td>File is password protected.</td></tr>
<tr><th>PERMIT::READ</th><td>User/Owner has read access.  This will not allow compiled code to be executed.</td></tr>
<tr><th>PERMIT::USER</th><td>Synonym for <code>READ | WRITE | EXEC | DELETE</code></td></tr>
<tr><th>PERMIT::USERID</th><td>Allows executables to run with a set user id.</td></tr>
<tr><th>PERMIT::USER_EXEC</th><td>Synonym for <code>EXEC</code></td></tr>
<tr><th>PERMIT::USER_READ</th><td>Synonym for <code>READ</code></td></tr>
<tr><th>PERMIT::USER_WRITE</th><td>Synonym for <code>WRITE</code></td></tr>
<tr><th>PERMIT::WRITE</th><td>User/Owner can write.</td></tr>
</tbody></table><div class="footer copyright text-right">Compression module documentation © Paul Manias 1996-2025</div></div>
<div class="docs-content" style="display:none;" id="struct-CompressedItem"><h1>CompressedItem Structure</h1><p class="lead"></p><table class="table"><thead><tr><th class="col-md-1">Field</th><th class="col-md-1">Type</th><th>Description</th></tr></thead><tbody><tr><th>OriginalSize</th><td><span class="text-nowrap">LARGE</span></td><td>Original size of the file</td></tr>
<tr><th>CompressedSize</th><td><span class="text-nowrap">LARGE</span></td><td>Compressed size of the file</td></tr>
<tr><th>Next</th><td><span class="text-nowrap">struct CompressedItem *</span></td><td>Used only if this is a linked-list.</td></tr>
<tr><th>Path</th><td><span class="text-nowrap">CSTRING</span></td><td>Path to the file (includes folder prefixes).  Archived folders will include the trailing slash.</td></tr>
<tr><th>Permissions</th><td><span class="text-nowrap">PERMIT</span></td><td>Original permissions - see <code>PERMIT</code> flags.</td></tr>
<tr><th>UserID</th><td><span class="text-nowrap">LONG</span></td><td>Original user ID</td></tr>
<tr><th>GroupID</th><td><span class="text-nowrap">LONG</span></td><td>Original group ID</td></tr>
<tr><th>OthersID</th><td><span class="text-nowrap">LONG</span></td><td>Original others ID</td></tr>
<tr><th>Flags</th><td><span class="text-nowrap">FL</span></td><td><code>FL</code> flags</td></tr>
<tr><th>Created</th><td><span class="text-nowrap">struct DateTime</span></td><td>Date and time of the file's creation.</td></tr>
<tr><th>Modified</th><td><span class="text-nowrap">struct DateTime</span></td><td>Date and time last modified.</td></tr>
</tbody></table><div class="footer copyright text-right">Compression class documentation © Paul Manias 1996-2025</div></div>
<div class="docs-content" style="display:none;" id="struct-CompressionFeedback"><h1>CompressionFeedback Structure</h1><p class="lead"></p><table class="table"><thead><tr><th class="col-md-1">Field</th><th class="col-md-1">Type</th><th>Description</th></tr></thead><tbody><tr><th>FeedbackID</th><td><span class="text-nowrap">FDB</span></td><td>Set to one of the FDB event indicators</td></tr>
<tr><th>Index</th><td><span class="text-nowrap">LONG</span></td><td>Index of the current file</td></tr>
<tr><th>Path</th><td><span class="text-nowrap">CSTRING</span></td><td>Name of the current file/path in the archive</td></tr>
<tr><th>Dest</th><td><span class="text-nowrap">CSTRING</span></td><td>Destination file/path during decompression</td></tr>
<tr><th>Progress</th><td><span class="text-nowrap">LARGE</span></td><td>Progress indicator (byte position for the file being de/compressed).</td></tr>
<tr><th>OriginalSize</th><td><span class="text-nowrap">LARGE</span></td><td>Original size of the file</td></tr>
<tr><th>CompressedSize</th><td><span class="text-nowrap">LARGE</span></td><td>Compressed size of the file</td></tr>
<tr><th>Year</th><td><span class="text-nowrap">WORD</span></td><td>Year of the original file's datestamp.</td></tr>
<tr><th>Month</th><td><span class="text-nowrap">WORD</span></td><td>Month of the original file's datestamp.</td></tr>
<tr><th>Day</th><td><span class="text-nowrap">WORD</span></td><td>Day of the original file's datestamp.</td></tr>
<tr><th>Hour</th><td><span class="text-nowrap">WORD</span></td><td>Hour of the original file's datestamp.</td></tr>
<tr><th>Minute</th><td><span class="text-nowrap">WORD</span></td><td>Minute of the original file's datestamp.</td></tr>
<tr><th>Second</th><td><span class="text-nowrap">WORD</span></td><td>Second of the original file's datestamp.</td></tr>
</tbody></table><div class="footer copyright text-right">Compression class documentation © Paul Manias 1996-2025</div></div>
</div></div></div><script type="text/javascript" src="../../js/bootstrap.bundle.min.js"></script><script type="text/javascript" src="../../js/base.js"></script><script type="text/javascript">
const ready = fn => document.readyState !== 'loading' ? fn() : document.addEventListener('DOMContentLoaded', fn);

   var xslt = false;
   var url = window.location.pathname;
   var filename = url.substring(url.lastIndexOf('/')+1);
   if (filename.endsWith(".xml")) { // XSLT is being used to view this document
      filename = filename.substr(0, filename.length-3) + 'html';
      xslt = true;
   }

   // Auto-open the relevant sidebar branch

   var nl = document.querySelectorAll('li[class="api-ref"] > a[href="' + filename + '"]');
   if (nl.length > 0) {
      // Target the last matching element to avoid confusion with matching module names (e.g. Audio module == Audio class)
      var el = nl.item(nl.length-1)
      var parent = getParentNode(el, '[class="collapse"]');
      if (parent) new bootstrap.Collapse(parent, { show: true }); // Causes animation

      el.style.backgroundColor = '#d2f4ea';
   }

   var page = glParameters["page"];
   if (isEmpty(page)) page = glParameters["function"];
   var div = document.getElementById(page);
   if (!div) div = document.getElementById("default-page");
   if (div) div.style.display = "block";

   cancelAnimations();

ready(function(){
   // Initialise tooltips
   var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
   var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
     return new bootstrap.Tooltip(tooltipTriggerEl)
   })

   // In XSLT mode, changing all HTML links to XML is helpful for navigation (if heavy handed)
   if (xslt) {
      var nl = document.querySelectorAll('a[href*=".html"]');
      nl.forEach((el) => {
         el.href = el.href.substr(0, el.href.length-5) + '.xml'
      })
   }
});

         </script></body></html>
