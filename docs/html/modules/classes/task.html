<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8254DG7MT6"> </script><script>
	   window.dataLayer = window.dataLayer || [];
	   function gtag(){dataLayer.push(arguments);}
	   gtag('js', new Date());
      gtag('config', 'G-8254DG7MT6');</script><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Parasol Framework documentation, machine generated from source"><meta name="author" content="Paul Manias"><link rel="icon" href="/favicon.ico"><title>Parasol Framework Manual</title><link href="../../css/bootstrap.min.css" rel="stylesheet"><link href="../../css/module-template.css" rel="stylesheet"><script>
          var shiftWindow = function() { scrollBy(0, -100) };
          window.addEventListener("hashchange", shiftWindow);
          function load() { if (window.location.hash) shiftWindow(); }
        </script></head><body><nav class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="../../index.html">Parasol Framework</a></div><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="../core.html">Modules</a></li><li class="active"><a href="module.html">Classes</a></li><li><a href="../fluid.html">Fluid</a></li></ul></div></div></nav><div id="container-body" class="container"><div id="row-body" class="row"><div class="col-sm-9"><div class="docs-content" id="default-page"><div class="page-header"><h1>Task Class</h1></div><p class="lead">System processes are managed by the Task class.</p>
<p>Tasks, also known as processes, form the basis of process execution in an operating system.  By creating a task object, it is possible to execute a program from within the host system.</p>
<p>To execute a compiled program, set the <a data-toggle="tooltip" title="Location of an executable file to launch." href="#tf-Location">Location</a> field to point to the executable file before initialising the task.  Arguments can be passed to the executable by setting the <a data-toggle="tooltip" title="Command line arguments (list format)." href="#tf-Parameters">Parameters</a> field.  Once the task object is successfully initialised, use the <a data-toggle="tooltip" title="Activating a task object will execute it." href="#ta-Activate">Activate()</a> action to run the executable.  If the file executes successfully, a new task object is spawned separately to represent the executable (which means it is safe to destroy your task object immediately afterwards).  If the <a data-toggle="tooltip" title="Activating a task object will execute it." href="#ta-Activate">Activate()</a> action returns with ERR_Okay then the executable program was run successfully.</p>
<p>To find the task object that represents the active process, use the CurrentTask function to quickly retrieve it.</p><h3>Structure</h3><p>The Task class consists of the following fields:</p><table class="table table-hover"><thead><th class="col-md-1"><div data-toggle="tooltip" title="Read/Write access indicators are listed below">Access</div></th><th class="col-md-1">Name</th><th class="col-md-1">Type</th><th>Comment</th></thead><tbody><tr id="_" data-toggle="collapse" data-target="#fl-Actions" class="clickable"><td class="col-md-1"><a id="tf-Actions"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">Actions</th><td class="col-md-1"><span class="text-nowrap">APTR</span></td><td>Used to gain direct access to a task's actions.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Actions" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field provides direct access to the actions of a task.  You can use it in the development of an executable program to hook into the Core action system.  This allows you to create a program that blends in seamlessly with the system's object oriented design.</p>
<p>The Actions field itself points to a list of action routines that are arranged into a lookup table, sorted by action ID. You can hook into an action simply by writing to its index in the table with a pointer to the routine that you want to use for that action.  For example:</p>
<pre>if (!AccessObject(CurrentTask(), 5000, &amp;task)) {
   task-&gt;getPtr(FID_Actions, &amp;actions);
   actions[AC_Seek] = PROGRAM_Seek;
   ReleaseObject(task);
}
</pre>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Args" class="clickable"><td class="col-md-1"><a id="tf-Args"></a><span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not readable"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Args</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Command line arguments (string format).</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Args" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field allows command line arguments to be set using a single string, whereby each value is separated by whitespace. The string will be disassembled and the arguments will be available to read from the <a data-toggle="tooltip" title="Command line arguments (list format)." href="#tf-Parameters">Parameters</a> field.</p>
<p>If an argument needs to include whitespace, use double-quotes to encapsulate the value.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-ErrorCallback" class="clickable"><td class="col-md-1"><a id="tf-ErrorCallback"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">ErrorCallback</th><td class="col-md-1"><span class="text-nowrap">FUNCTION</span></td><td>This callback returns incoming data from STDERR.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-ErrorCallback" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The ErrorCallback field can be set with a function reference that will be called when an active process sends data via STDERR.  The callback must follow the synopsis <code>Function(*Task, APTR Data, LONG Size)</code></p>
<p>The information read from STDERR will be returned in the Data pointer and the byte-length of the data will be indicated by the Size.  The data pointer is temporary and will be invalid once the callback function has returned.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-ExitCallback" class="clickable"><td class="col-md-1"><a id="tf-ExitCallback"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">ExitCallback</th><td class="col-md-1"><span class="text-nowrap">FUNCTION</span></td><td>The callback is activated when the process is terminated.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-ExitCallback" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The ExitCallback field can be set with a function reference that will be called when the executed process is terminated.  The callback must follow the synopsis <code>Function(*Task)</code>.</p>
<p>Please keep in mind that if the Task is freed when the process is still executing, the ExitCallback routine will not be called on termination because the Task object no longer exists for the control of the process.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Flags" class="clickable"><td class="col-md-1"><a id="tf-Flags"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-cog text-danger" data-toggle="tooltip" title="Immutable"></span></td><th class="col-md-1">Flags</th><td class="col-md-1"><span class="text-nowrap">TSF</span></td><td>Optional flags.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Flags" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<table class="table"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><th class="col-md-1">TSF_ATTACHED</th><td>Forces new task to be attached to the parent (child will close when parent closes).</td></tr><tr><th class="col-md-1">TSF_DETACHED</th><td>Forces new task to be detached from the parent.</td></tr><tr><th class="col-md-1">TSF_FOREIGN</th><td>Set this flag when using the task object to execute a foreign process - that is an executable that does not use the Parasol API.</td></tr><tr><th class="col-md-1">TSF_LOG_ALL</th><td>Additional debug messages will be printed during normal usage of the task class when this flag is set.</td></tr><tr><th class="col-md-1">TSF_PIPE</th><td>Enable the output pipe to the launched process so that it can read data.</td></tr><tr><th class="col-md-1">TSF_PRIVILEGED</th><td>During a normal execution process, any privileges of the parent process will be dropped so that the child process runs unprivileged.  This behaviour can be reversed if he PRIVILEGED flag is set, in which case the child process has the same privileges as the parent.</td></tr><tr><th class="col-md-1">TSF_QUIET</th><td>Setting this flag will divert all process output to /dev/null or the nearest equivalent for non-Unix systems.</td></tr><tr><th class="col-md-1">TSF_RESET_PATH</th><td>If set, the executed process will start in its own folder rather than the folder of the parent process.</td></tr><tr><th class="col-md-1">TSF_SHELL</th><td>Enables shell mode.  On Unix systems, this means that a shell (usually BASH) will be used to launch the process.</td></tr><tr><th class="col-md-1">TSF_WAIT</th><td>This flag will cause the parent process to halt when the task is activated.  Control is returned to the parent process once the child process terminates.</td></tr></tbody></table>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-InputCallback" class="clickable"><td class="col-md-1"><a id="tf-InputCallback"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">InputCallback</th><td class="col-md-1"><span class="text-nowrap">FUNCTION</span></td><td>This callback returns incoming data from STDIN.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-InputCallback" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The InputCallback field is available for use only when the Task object represents the current process. The referenced function will be called when process receives data from STDIN.  The callback must follow the synopsis <code>Function(*Task, APTR Data, LONG Size, ERROR Status)</code></p>
<p>The information read from STDOUT will be returned in the Data pointer and the byte-length of the data will be indicated by the Size.  The data buffer is temporary and will be invalid once the callback function has returned.</p>
<p>A status of ERR_Finished is sent if the stdinput handle has been closed.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-LaunchPath" class="clickable"><td class="col-md-1"><a id="tf-LaunchPath"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">LaunchPath</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Launched executables will start in the path specified here.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-LaunchPath" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Use the LaunchPath field to specify the folder that a launched executable will start in when the task object is activated.  This will override all other path options, such as the RESET_PATH flag.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Location" class="clickable"><td class="col-md-1"><a id="tf-Location"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Location</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Location of an executable file to launch.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Location" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>When a task object is activated, the Location field will be checked for a valid filename.  If the path is valid, the executable code will be loaded from this source.  The source must be in an executable format recognised by the native platform.</p>
<p>Leading spaces will be ignored by the string parser.  The Location string can be enclosed with quotes, in which case only the quoted portion of the string will be used as the source path.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Name" class="clickable"><td class="col-md-1"><a id="tf-Name"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Name</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>Name of the task.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Name" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field specifies the name of the Task or program that has been initialised. It is up to the developer of the program to set the Name which will appear in this field.  If there is no name for the task then the system may assign a randomly generated name.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-OutputCallback" class="clickable"><td class="col-md-1"><a id="tf-OutputCallback"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">OutputCallback</th><td class="col-md-1"><span class="text-nowrap">FUNCTION</span></td><td>This callback returns incoming data from STDOUT.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-OutputCallback" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The OutputCallback field can be set with a function reference that will be called when an active process sends data via STDOUT.  The callback must follow the synopsis <code>Function(*Task, APTR Data, LONG Size)</code></p>
<p>The information read from STDOUT will be returned in the Data pointer and the byte-length of the data will be indicated by the Size.  The data pointer is temporary and will be invalid once the callback function has returned.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Parameters" class="clickable"><td class="col-md-1"><a id="tf-Parameters"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Parameters</th><td class="col-md-1"><span class="text-nowrap">pf::vector&lt;std::string&gt;</span></td><td>Command line arguments (list format).</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Parameters" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Command line arguments for a program can be defined here as a vector list, whereby each argument is an independent string.  To illustrate, the following command-line string:</p>
<pre>1&gt; YourProgram PREFS MyPrefs -file "documents:readme.txt"</pre>
<p>Would be represented as follows:</p>
<pre>pf::vector&lt;std::string&gt; Args = {
   "PREFS",
   "MyPrefs",
   "-file",
   "documents:readme.txt"
};
</pre>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Path" class="clickable"><td class="col-md-1"><a id="tf-Path"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Path</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>The current working folder of the active process.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Path" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The Path specifies the 'working folder' that determines where files are loaded from when an absolute path is not otherwise specified for file access.  Initially the working folder is usually set to the folder of the parent process, such as that of a terminal shell.</p>
<p>The working folder can be changed at any time by updating the Path with a new folder location.  If changing to the new folder fails for any reason, the working folder will remain unchanged and the path value will not be updated.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-Priority" class="clickable"><td class="col-md-1"><a id="tf-Priority"></a><span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not readable"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">Priority</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>The task priority in relation to other tasks is be defined here.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-Priority" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Set the Priority field to change the priority of the process associated with the task.  The default value for all processes is zero.  High positive values will give the process more CPU time while negative values will yield CPU time to other active processes.</p>
<p>Note that depending on the platform, there may be limits as to whether one process can change the priority level of a foreign process.  Other factors such as the scheduler used by the host system should be considered in the effect of prioritisation.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-ProcessID" class="clickable"><td class="col-md-1"><a id="tf-ProcessID"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-cog text-danger" data-toggle="tooltip" title="Immutable"></span></td><th class="col-md-1">ProcessID</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>Reflects the process ID when an executable is launched.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-ProcessID" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>If a task object launches an executable file via Activate(), the ProcessID will be set to the 'pid' that was assigned to the new process by the host system.  At all other times the ProcessID is set to zero.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-ProcessPath" class="clickable"><td class="col-md-1"><a id="tf-ProcessPath"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-minus text-muted" data-toggle="tooltip" title="Not writeable"></span></td><th class="col-md-1">ProcessPath</th><td class="col-md-1"><span class="text-nowrap">STRING</span></td><td>The path of the executable that is associated with the task.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-ProcessPath" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>The ProcessPath is set to the path of the executable file that is associated with the task.  It is managed internally and cannot be altered.</p>
<p>In Microsoft Windows it is not always possible to determine the origins of an executable, in which case the ProcessPath is set to the working folder in use at the time the process was launched.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-ReturnCode" class="clickable"><td class="col-md-1"><a id="tf-ReturnCode"></a><span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-danger" data-toggle="tooltip" title="Functional write access"></span></td><th class="col-md-1">ReturnCode</th><td class="col-md-1"><span class="text-nowrap">INT</span></td><td>The task's return code can be retrieved following execution.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-ReturnCode" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>Once a process has completed execution then its return code can be read from this field.  If process is still running, the error code ERR_TaskStillExists will be returned.</p>
      </div></div></td></tr><tr id="_" data-toggle="collapse" data-target="#fl-TimeOut" class="clickable"><td class="col-md-1"><a id="tf-TimeOut"></a><span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct read access"></span>
                           
                          <span class="glyphicon glyphicon-ok text-success" data-toggle="tooltip" title="Direct write access"></span></td><th class="col-md-1">TimeOut</th><td class="col-md-1"><span class="text-nowrap">DOUBLE</span></td><td>Limits the amount of time to wait for a launched process to return.</td></tr><tr class="no-hover"><td colspan="4" class="hiddenRow"><div id="fl-TimeOut" class="accordion-body collapse"><div class="doc-content" style="margin:20px">
<p>This field can be set in conjunction with the <code>WAIT</code> flag to define the time limit when waiting for a launched process to return.  The time out is defined in seconds.</p>
      </div></div></td></tr></tbody></table><h3>Actions</h3><p>The following actions are currently supported:</p><table class="table table-hover"><thead><th style="width:1%; border-top-style: none; border-bottom-style: none;"></th><th class="col-md-1">Name</th><th>Comment</th></thead><tbody><tr data-toggle="collapse" data-target="#fl-Activate" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Activate"></a><span class="glyphicon glyphicon-chevron-right"></span></td><th class="col-md-1"><a href="actions.html">Activate</a></th><td>Activating a task object will execute it.</td></tr><tr class="no-hover"><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="fl-Activate" class="accordion-body collapse"><div class="docs-content" style="margin:10px 10px 0px 30px">
<p>Activating a task results in the execution of the file referenced in the <a data-toggle="tooltip" title="Location of an executable file to launch." href="#tf-Location">Location</a> field.</p>
<p>On successful execution, the ProcessID will refer to the ID of the executed process.  This ID is compatible with the hosting platform's unique process numbers.</p>
<p>If the <code>WAIT</code> flag is specified, this action will not return until the executed process has returned or the <a data-toggle="tooltip" title="Limits the amount of time to wait for a launched process to return." href="#tf-TimeOut">TimeOut</a> (if specified) has expired.  Messages are processed as normal during this time, ensuring that your process remains responsive while waiting.</p>
<p>The process' return code can be read from the <a data-toggle="tooltip" title="The task's return code can be retrieved following execution." href="#tf-ReturnCode">ReturnCode</a> field after the process has completed its execution.</p>
<p>In Microsoft Windows, output can be redirected to a file if the redirection symbol is used to direct output in one of the task arguments.  For instance <code>&gt;C:\output.txt</code> will redirect both stderr and stdout to <code>c:\output.txt</code>.  The use of <code>1&gt;</code> to redirect stdout and <code>2&gt;</code> to redirect stderr independently of each other is also acceptable.</p>
<p>When running a DOS program in Microsoft Windows, the SHELL flag can be set in the <a data-toggle="tooltip" title="Optional flags." href="#tf-Flags">Flags</a> field to prevent the DOS window from appearing.  The DOS window will also be hidden if the stdout or stderr pipes are redirected.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Failed</th><td>General failure.</td></tr><tr><th class="col-md-1">TimeOut</th><td>Can be returned if the WAIT flag is used.  Indicates that the process was launched, but the timeout expired before the process returned.</td></tr><tr><th class="col-md-1">FieldNotSet</th><td>The Location field has not been set.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-GetVar" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-GetVar"></a></td><th class="col-md-1"><a href="actions.html">GetVar</a></th><td>Retrieves variable field values.</td></tr><tr data-toggle="collapse" data-target="#fl-SetVar" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-SetVar"></a></td><th class="col-md-1"><a href="actions.html">SetVar</a></th><td>Variable fields are supported for the general storage of program variables.</td></tr><tr data-toggle="collapse" data-target="#fl-Write" class="clickable"><td style="width:1%; border-top-style: none; border-bottom-style: none;"><a id="ta-Write"></a><span class="glyphicon glyphicon-chevron-right"></span></td><th class="col-md-1"><a href="actions.html">Write</a></th><td>Send raw data to a launched process' stdin descriptor.</td></tr><tr class="no-hover"><td class="hiddenRow" style="width:1%; border-top-style: none; border-bottom-style: none;"></td><td colspan="2" class="hiddenRow"><div id="fl-Write" class="accordion-body collapse"><div class="docs-content" style="margin:10px 10px 0px 30px">
<p>If a process is successfully launched with the <code>PIPE</code> set in <a data-toggle="tooltip" title="Optional flags." href="#tf-Flags">Flags</a>, data can be sent to its stdin pipe by calling the Write action.  Setting the Buffer parameter to NULL will result in the pipe being closed (this will signal to the process that no more data is incoming).</p>
      </div></div></td></tr></tbody></table><h3>Methods</h3><p>The following methods are currently supported:</p><table class="table table-hover"><thead><th class="col-md-1">Name</th><th>Comment</th></thead><tbody><tr data-toggle="collapse" data-target="#fl-AddArgument" class="clickable"><th class="col-md-1 text-primary">AddArgument</th><td><a id="tm-AddArgument"></a>Adds a new argument to the Parameters field.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-AddArgument" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERROR taskAddArgument(OBJECTPTR Object, CSTRING Argument)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Argument</td><td>The new argument string.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>This method will add a new argument to the end of the <a data-toggle="tooltip" title="Command line arguments (list format)." href="#tf-Parameters">Parameters</a> field array.  If the string is surrounded by quotes, they will be removed automatically.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Expunge" class="clickable"><th class="col-md-1 text-primary">Expunge</th><td><a id="tm-Expunge"></a>Forces a Task to expunge unused code.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-Expunge" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERROR taskExpunge(OBJECTPTR Object)</samp></div></div><div class="docs-content" style="margin:30px 20px;">
<p>The Expunge method releases all loaded libraries that are no longer in use by the active process.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-GetEnv" class="clickable"><th class="col-md-1 text-primary">GetEnv</th><td><a id="tm-GetEnv"></a>Retrieves environment variables for the active process.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-GetEnv" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERROR taskGetEnv(OBJECTPTR Object, CSTRING Name, CSTRING * Value)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Name</td><td>The name of the environment variable to retrieve.</td></tr><tr><td>Value</td><td>The value of the environment variable is returned in this parameter.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>On platforms that support environment variables, GetEnv() returns the value of the environment variable matching the Name string.  If there is no matching variable, <code>ERR_DoesNotExist</code> is returned.</p>
<p>In Windows, it is possible to look up registry keys if the string starts with one of the following (in all other cases, the system's environment variables are queried):</p>
<pre>\HKEY_LOCAL_MACHINE\
\HKEY_CURRENT_USER\
\HKEY_CLASSES_ROOT\
\HKEY_USERS\
</pre>
<p>Here is a valid example for reading the 'Parasol' key value <code>\HKEY_CURRENT_USER\Software\Parasol</code></p>
<p>Caution: If your programming language uses backslash as an escape character (true for Fluid developers), remember to use double-backslashes as the key value separator in your Name string.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">NoSupport</th><td>The platform does not support environment variables.</td></tr><tr><th class="col-md-1">DoesNotExist</th><td>The environment variable is undefined.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-Quit" class="clickable"><th class="col-md-1 text-primary">Quit</th><td><a id="tm-Quit"></a>Sends a quit message to a task.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-Quit" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERROR taskQuit(OBJECTPTR Object)</samp></div></div><div class="docs-content" style="margin:30px 20px;">
<p>The Quit method can be used as a convenient way of sending a task a quit message.  This will normally result in the destruction of the task, so long as it is still functioning correctly and has been coded to respond to the <code>MSGID_QUIT</code> message type.  It is legal for a task to ignore a quit request if it is programmed to stay alive.  A task can be killed outright with the Free action.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr></tbody></table></div></div></td></tr><tr data-toggle="collapse" data-target="#fl-SetEnv" class="clickable"><th class="col-md-1 text-primary">SetEnv</th><td><a id="tm-SetEnv"></a>Sets environment variables for the active process.</td></tr><tr class="no-hover"><td colspan="2" class="hiddenRow"><div id="fl-SetEnv" class="accordion-body collapse"><div class="panel panel-info" style="border-radius: 0;"><div class="panel-heading" style="border-radius: 0;"><samp>ERROR taskSetEnv(OBJECTPTR Object, CSTRING Name, CSTRING Value)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Input</th><th>Description</th></tr></thead><tbody><tr><td>Name</td><td>The name of the environment variable to set.</td></tr><tr><td>Value</td><td>The value to assign to the environment variable.</td></tr></tbody></table></div></div><div class="docs-content" style="margin:30px 20px;">
<p>On platforms that support environment variables, SetEnv() is used for defining values for named variables.  A Name and accompanying Value string are required.  If the Value is NULL, the environment variable is removed if it already exists.</p>
<p>In Windows, it is possible to set registry keys if the string starts with one of the following (in all other cases, the system's environment variables are queried):</p>
<pre>\HKEY_LOCAL_MACHINE\
\HKEY_CURRENT_USER\
\HKEY_CLASSES_ROOT\
\HKEY_USERS\
</pre>
<p>When setting a registry key, the function will always set the Value as a string type unless the key already exists.  If the existing key value is a number such as <code>DWORD</code> or <code>QWORD</code>, then the Value will be converted to an integer before the key is set.</p>
      <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">NoSupport</th><td>The platform does not support environment variables.</td></tr></tbody></table></div></div></td></tr></tbody></table></div><div class="footer copyright text-right">Task module documentation © Paul Manias 1996-2023</div></div><div class="col-sm-3"><div id="nav-tree"><div class="panel-group" id="accordion"><table class="table "><thead><th colspan="2"><h4>Class Info</h4></th></thead><tbody><tr><th class="col-md-1 text-primary">ID</th><td>ID_TASK</td></tr><tr><th class="col-md-1 text-primary">Category</th><td>System</td></tr><tr><th class="col-md-1 text-primary">Include</th><td>modules/task.h</td></tr><tr><th class="col-md-1 text-primary">Version</th><td>1</td></tr></tbody></table><div class="panel panel-primary"><div class="panel-heading"><h4 class="panel-title">Class List</h4></div><div id="structures" class="panel-collapse"><div class="panel-body"><ul class="list-unstyled"><li>Audio<ul><li><a href="audio.html">Audio</a></li><li><a href="sound.html">Sound</a></li></ul></li><li>Core<ul><li><a href="file.html">File</a></li><li><a href="metaclass.html">MetaClass</a></li><li><a href="module.html">Module</a></li><li><a href="storagedevice.html">StorageDevice</a></li><li><a href="task.html">Task</a></li><li><a href="thread.html">Thread</a></li><li><a href="time.html">Time</a></li></ul></li><li>Data<ul><li><a href="compression.html">Compression</a></li><li><a href="config.html">Config</a></li><li><a href="script.html">Script</a></li><li><a href="xml.html">XML</a></li></ul></li><li>Effects<ul><li><a href="blurfx.html">BlurFX</a></li><li><a href="colourfx.html">ColourFX</a></li><li><a href="compositefx.html">CompositeFX</a></li><li><a href="convolvefx.html">ConvolveFX</a></li><li><a href="displacementfx.html">DisplacementFX</a></li><li><a href="floodfx.html">FloodFX</a></li><li><a href="imagefx.html">ImageFX</a></li><li><a href="lightingfx.html">LightingFX</a></li><li><a href="mergefx.html">MergeFX</a></li><li><a href="morphologyfx.html">MorphologyFX</a></li><li><a href="offsetfx.html">OffsetFX</a></li><li><a href="remapfx.html">RemapFX</a></li><li><a href="sourcefx.html">SourceFX</a></li><li><a href="turbulencefx.html">TurbulenceFX</a></li></ul></li><li>Extensions<ul><li><a href="scintilla.html">Scintilla</a></li><li><a href="scintillasearch.html">ScintillaSearch</a></li></ul></li><li>Graphics<ul><li><a href="bitmap.html">Bitmap</a></li><li><a href="clipboard.html">Clipboard</a></li><li><a href="display.html">Display</a></li><li><a href="document.html">Document</a></li><li><a href="font.html">Font</a></li><li><a href="picture.html">Picture</a></li><li><a href="pointer.html">Pointer</a></li><li><a href="surface.html">Surface</a></li><li><a href="svg.html">SVG</a></li></ul></li><li>Network<ul><li><a href="clientsocket.html">ClientSocket</a></li><li><a href="http.html">HTTP</a></li><li><a href="netsocket.html">NetSocket</a></li><li><a href="proxy.html">Proxy</a></li></ul></li><li>Vectors<ul><li><a href="vector.html">Vector</a></li><li><a href="vectorclip.html">VectorClip</a></li><li><a href="vectorcolour.html">VectorColour</a></li><li><a href="vectorellipse.html">VectorEllipse</a></li><li><a href="vectorfilter.html">VectorFilter</a></li><li><a href="vectorgradient.html">VectorGradient</a></li><li><a href="vectorimage.html">VectorImage</a></li><li><a href="vectorpath.html">VectorPath</a></li><li><a href="vectorpattern.html">VectorPattern</a></li><li><a href="vectorpolygon.html">VectorPolygon</a></li><li><a href="vectorrectangle.html">VectorRectangle</a></li><li><a href="vectorscene.html">VectorScene</a></li><li><a href="vectorshape.html">VectorShape</a></li><li><a href="vectorspiral.html">VectorSpiral</a></li><li><a href="vectortext.html">VectorText</a></li><li><a href="vectorviewport.html">VectorViewport</a></li><li><a href="vectorwave.html">VectorWave</a></li></ul></li></ul></div></div></div></div></div></div></div></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script><script src="../../js/bootstrap.min.js"></script><script src="../../js/base.js"></script><script type="text/javascript">
var glCurrentMethod;

$(document).ready(function() {
   glCurrentMethod = document.getElementById("Introduction");

  $('[data-toggle="tooltip"]').tooltip()

   var page = glParameters["page"];
   if (isEmpty(page)) page = glParameters["function"];

   if (isEmpty(page)) {
      showPage("default-page");
   }
   else showPage(page);
});

function showPage(Name)
{
   var div = document.getElementById(Name);
   if (div) {
      if (glCurrentMethod) { // Hide previous method.
         glCurrentMethod.style.display = "none";
      }
      div.style.display = "block"; // Show selected method.
      glCurrentMethod = div;
   }
   else console.log("Div for '" + Name + "' not found.");
}
         </script></body></html>
