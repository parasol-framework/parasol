<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8254DG7MT6"> </script><script>
	   window.dataLayer = window.dataLayer || [];
	   function gtag(){dataLayer.push(arguments);}
	   gtag('js', new Date());
      gtag('config', 'G-8254DG7MT6');</script><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Parasol Framework documentation, machine generated from source"><meta name="author" content="Paul Manias"><link rel="icon" href="/favicon.ico"><title>Parasol Framework Manual</title><link href="../css/bootstrap.min.css" rel="stylesheet"><link href="../css/module-template.css" rel="stylesheet"></head><body><nav class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/index.html">Parasol Framework</a></div><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="core.html">Modules</a></li><li><a href="classes/module.html">Classes</a></li><li><a href="fluid.html">Fluid</a></li></ul></div></div></nav><div class="container"><div class="row"><div class="col-sm-9"><div class="docs-content" style="display:none;" id="default-page"><h1>Base Modules</h1><p>The following modules are included in the standard distribution and can be loaded at run-time with <samp>mod.load()</samp> in Fluid or <samp>LoadModule()</samp> in C/C++.</p><p>Use the navigation bar on the right to peruse the available functionality of the selected module.</p><p>Beginners should start with the Core module, which includes the bulk of Parasol's functionality.</p><ul><li><a href="audio.html">Audio</a></li><li><a href="core.html">Core</a></li><li><a href="display.html">Display</a></li><li><a href="document.html">Document</a></li><li><a href="fluid.html">Fluid</a></li><li><a href="font.html">Font</a></li><li><a href="network.html">Network</a></li><li><a href="vector.html">Vector</a></li></ul></div><div class="docs-content" style="display:none;" id="CharWidth"><h1>CharWidth()</h1><p class="lead">Returns the width of a character.</p><div class="panel panel-info"><div class="panel-heading"><samp>LONG fntCharWidth(objFont * Font, ULONG Char, ULONG KChar, LONG * Kerning)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Font</td><td>The font to use for calculating the character width.</td></tr><tr><td>Char</td><td>A unicode character.</td></tr><tr><td>KChar</td><td>A unicode character to use for calculating the font kerning (optional).</td></tr><tr><td>Kerning</td><td>The resulting kerning value (optional).</td></tr></tbody></table></div></div><h3>Description</h3>
<p>This function will return the pixel width of a font character.  The character is specified as a unicode value in the Char parameter. Kerning values can also be returned, which affect the position of the character along the horizontal. The previous character in the word is set in KChar and the kerning value will be returned in the Kerning parameter.  If kerning information is not required, set the KChar and Kerning parameters to zero.</p>
    <h3>Result</h3><p>The pixel width of the character will be returned.</p><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="ConvertCoords"><h1>ConvertCoords()</h1><p class="lead">Converts pixel coordinates into equivalent column and row positions in font strings.</p><div class="panel panel-info"><div class="panel-heading"><samp>ERROR fntConvertCoords(objFont * Font, CSTRING String, LONG X, LONG Y, LONG * Column, LONG * Row, LONG * ByteColumn, LONG * BytePos, LONG * CharX)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Font</td><td>An initialised font object.</td></tr><tr><td>String</td><td>Either point to a string for inspection or set to NULL to inspect the string currently in the font's String field.</td></tr><tr><td>X</td><td>The horizontal coordinate to translate into a column position.</td></tr><tr><td>Y</td><td>The vertical coordinate to translate into a row position.</td></tr><tr><td>Column</td><td>This result parameter will be updated to reflect the calculated character position, with consideration to the UTF-8 standard.  May be NULL if not required.</td></tr><tr><td>Row</td><td>This result parameter will be updated to reflect the calculated row position.  May be NULL if not required.</td></tr><tr><td>ByteColumn</td><td>This result parameter will be updated to reflect the absolute column byte position within the given row.  May be NULL if not required.</td></tr><tr><td>BytePos</td><td>This result parameter will be updated to reflect the absolute byte position with the font String.  May be NULL if not required.</td></tr><tr><td>CharX</td><td>This result parameter will be reflect the X coordinate of the character to which the (X, Y) coordinates are resolved.  May be NULL if not required.</td></tr></tbody></table></div></div><h3>Description</h3>
<p>This function is used to convert pixel coordinates within a font String into the equivalent Row and Column character positions.  If the coordinate values that are supplied are in excess of the String dimensions, the Column and Row results will be automatically restricted to their maximum value.  For instance, if the Y argument is set to 280 and the String consists of 15 rows amounting to 150 pixels in height, the Row value will be returned as 15.</p>
<p>Negative coordinate values are not permitted.</p>
    <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">FieldNotSet</th><td>A required field value is undefined.</td></tr></tbody></table><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="FreetypeHandle"><h1>FreetypeHandle()</h1><p class="lead">Returns a handle to the FreeType library.</p><div class="panel panel-info"><div class="panel-heading"><samp>APTR fntFreetypeHandle()</samp></div></div><h3>Description</h3>
<p>This function returns a direct handle to the internal FreeType library.  It is intended that this handle should only be used by existing projects that are based on FreeType and need access to its functionality.  References to FreeType functions can be obtained by loading the Font module and then calling the ResolveSymbol method to retrieve function names, e.g. "FT_Open_Face".</p>
    <h3>Result</h3><p>A handle to the FreeType library will be returned.</p><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="GetList"><h1>GetList()</h1><p class="lead">Returns a list of all available system fonts.</p><div class="panel panel-info"><div class="panel-heading"><samp>ERROR fntGetList(struct FontList ** Result)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Result</td><td>The font list is returned here.</td></tr></tbody></table></div></div><h3>Description</h3>
<p>This function returns a linked list of all available system fonts.</p>
    <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">AccessObject</th><td>An attempt to gain exclusive access to a shared object failed.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="InstallFont"><h1>InstallFont()</h1><p class="lead">Installs a new font.</p><div class="panel panel-info"><div class="panel-heading"><samp>ERROR fntInstallFont(CSTRING Files)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Files</td><td>A list of the font files that are to be installed must be specified here.  If there is more than one data file, separate each file name with a semi-colon.</td></tr></tbody></table></div></div><h3>Description</h3>
<p>The InstallFont() function is used to install new fonts on a system running Parasol.  While it is possible for users to download new font files and install them by hand, this is a process that is too difficult for novices and is open to mistakes on the part of the user.  By using a program that uses the InstallFont() function, the installation process can take place automatically.</p>
<p>To install a new font, you only need to know the location of the font file(s).  The rest of the information about the font will be derived after an analysis of the data.</p>
<p>Once this function is called, the data files will be copied into the correct sub-directory and the font registration files will be updated to reflect the presence of the new font.  The font will be available immediately thereafter, so there is no need to reset the system to acknowledge the presence of the font.</p>
    <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">NoSupport</th><td>This request is not supported.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="RemoveFont"><h1>RemoveFont()</h1><p class="lead">Removes an installed font from the system.</p><div class="panel panel-info"><div class="panel-heading"><samp>ERROR fntRemoveFont(CSTRING Name)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Name</td><td>The name of the font face (family name) that is to be removed.</td></tr></tbody></table></div></div><h3>Description</h3>
<p>RemoveFont() will remove any font that is installed in the system.  Once a font has been removed, the data is permanently destroyed and it cannot be recovered.  To remove a font, specify its family name only. All associated styles for that font will be deleted.</p>
<p>This function may fail if attempting to remove a font that is currently in use.</p>
    <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Args</th><td>Invalid arguments passed to function.</td></tr><tr><th class="col-md-1">DeleteFile</th><td>Deletion of a folder or file failed (e.g. permissions, read-only media).</td></tr></tbody></table><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="SelectFont"><h1>SelectFont()</h1><p class="lead">Searches for a 'best fitting' font file based on select criteria.</p><div class="panel panel-info"><div class="panel-heading"><samp>ERROR fntSelectFont(CSTRING Name, CSTRING Style, LONG Point, LONG Flags, CSTRING * Path)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Name</td><td>The name of a font face, or multiple faces in CSV format.  Using camel-case for each word is compulsory.</td></tr><tr><td>Style</td><td>The required style, e.g. Bold or Italic.  Using camel-case for each word is compulsory.</td></tr><tr><td>Point</td><td>Preferred point size.</td></tr><tr><td><a onclick="showPage('FTF');">Flags</a></td><td>Optional flags.</td></tr><tr><td>Path</td><td>The location of the best-matching font file is returned in this parameter.</td></tr></tbody></table></div></div><h3>Description</h3>
<p>This function searches for the closest matching font based on the details provided by the client.  The details that can be searched for include the name, point size and style of the desired font.</p>
<p>It is possible to list multiple faces in order of their preference in the Name parameter.  For instance <code>Sans Serif,Source Sans,*</code> will give preference to <code>Sans Serif</code> and will look for <code>Source Sans</code> if the first choice font is unavailable.  The use of the <code>*</code> wildcard indicates that the default system font should be used in the event that neither of the other choices are available.  Note that omitting this wildcard will raise the likelihood of <code>ERR_Search</code> being returned in the event that neither of the preferred choices are available.</p>
<p>Flags that alter the search behaviour are <code>FTF_PREFER_SCALED</code>, <code>FTF_PREFER_FIXED</code> and <code>FTF_ALLOW_SCALE</code>.</p>
    <h3>Error Codes</h3><table class="table table-sm borderless"><tbody><tr><th class="col-md-1">Okay</th><td>Operation successful.</td></tr><tr><th class="col-md-1">Search</th><td>A search routine in this function failed.</td></tr><tr><th class="col-md-1">AccessObject</th><td>An attempt to gain exclusive access to a shared object failed.</td></tr><tr><th class="col-md-1">NullArgs</th><td>Function call missing argument value(s)</td></tr></tbody></table><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="SetDefaultSize"><h1>SetDefaultSize()</h1><p class="lead">Sets the default font size for the application.</p><div class="panel panel-info"><div class="panel-heading"><samp>DOUBLE fntSetDefaultSize(DOUBLE Size)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Size</td><td>The new default point size.</td></tr></tbody></table></div></div><h3>Description</h3>
<p>This function is used to set the default font size for the application.  This will affect fonts that you create with proportional sizes (e.g. a point size of 150% and a default point of 10 would result in a 15 point font).  Also, Font objects with no preset size will be set to the default size.</p>
<p>Please note that the default size is defined by the global style value on the xpath <code>/interface/@fontsize</code>.  This can also be overridden by the user's style preference.  We recommend against an application calling SetDefaultSize() unless the interface design makes it a necessity (for instance if the user has poor eyesight, restricting the font size may have usability implications).</p>
    <h3>Result</h3><p>The previous font size is returned.</p><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="StringSize"><h1>StringSize()</h1><p class="lead">Calculates the exact dimensions of a font string, giving respect to word wrapping.</p><div class="panel panel-info"><div class="panel-heading"><samp>void fntStringSize(objFont * Font, CSTRING String, LONG Chars, LONG Wrap, LONG * Width, LONG * Rows)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Font</td><td>An initialised font object.</td></tr><tr><td>String</td><td>The string to be analysed.</td></tr><tr><td><a onclick="showPage('FSS');">Chars</a></td><td>The number of characters (not bytes, so consider UTF-8 serialisation) to be used in calculating the string length.  FSS constants can also be used here.</td></tr><tr><td>Wrap</td><td>The pixel position at which word wrapping occurs.  If zero or less, wordwrap is disabled.</td></tr><tr><td>Width</td><td>The width of the longest line will be returned in this parameter.</td></tr><tr><td>Rows</td><td>The number of calculated rows will be returned in this parameter.</td></tr></tbody></table></div></div><h3>Description</h3>
<p>This function calculates the width and height of a String (in pixels and rows respectively).  It takes into account the font object's current settings and accepts a boundary in the Wrap argument for calculating word wrapping.  The routine takes into account any line feeds that may already exist in the String.</p>
<p>A character limit can be specified in the Chars argument.  If this argument is set to FSS_ALL, all characters in String will be used in the calculation.  If set to FSS_LINE, the routine will terminate when the first line feed or word-wrap is encountered and the Rows value will reflect the byte position of the word at which the wrapping boundary was encountered.</p>
    <div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="StringWidth"><h1>StringWidth()</h1><p class="lead">Returns the pixel width of any given string in relation to a font's settings.</p><div class="panel panel-info"><div class="panel-heading"><samp>LONG fntStringWidth(objFont * Font, CSTRING String, LONG Chars)</samp></div><div class="panel-body"><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Font</td><td>An initialised font object.</td></tr><tr><td>String</td><td>The string to be calculated.</td></tr><tr><td>Chars</td><td>The number of characters (not bytes, so consider UTF-8 serialisation) to be used in calculating the string length, or -1 to use the entire string.</td></tr></tbody></table></div></div><h3>Description</h3>
<p>This function calculates the pixel width of any string in relation to a font's object definition.  The routine takes into account any line feeds that might be specified in the String, so if the String contains 8 lines, then the width of the longest line will be returned.</p>
<p>Word wrapping will not be taken into account, even if it has been enabled in the font object.</p>
    <h3>Result</h3><p>The pixel width of the string is returned - this will be zero if there was an error or the string is empty.</p><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="FSS"><h1>FSS Type</h1><p class="lead">Options for the StringSize() function.</p><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><td>FSS_ALL</td><td>Process all characters.</td></tr><tr><td>FSS_LINE</td><td>Terminate operation at the first line feed or word-wrap.</td></tr></tbody></table><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="FTF"><h1>FTF Type</h1><p class="lead">Font flags</p><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Name</th><th>Description</th></tr></thead><tbody><tr><td>FTF_ALLOW_SCALE</td><td>Allows switching to a suitable scalable font if a fixed point size is unavailable.  Equivalent to ending a font face with the '*' wildcard.</td></tr><tr><td>FTF_ANTIALIAS</td><td>Smooth the edges of scalable fonts.</td></tr><tr><td>FTF_BASE_LINE</td><td>The Font's Y coordinate is the base line.</td></tr><tr><td>FTF_BOLD</td><td>Font is described as having a bold weight (read only).</td></tr><tr><td>FTF_CHAR_CLIP</td><td>Clip words by adding dots to the end of the string.</td></tr><tr><td>FTF_HEAVY_LINE</td><td>Underline the font with a double-sized line, using the colour defined in UnderlineRGB.</td></tr><tr><td>FTF_ITALIC</td><td>Font is described as using italics (read only).</td></tr><tr><td>FTF_KERNING</td><td>The loaded font is embedded with kerning information (read only).</td></tr><tr><td>FTF_PREFER_FIXED</td><td>A fixed size font (monochrome, no transforms) is preferred to the equivalent scalable font.</td></tr><tr><td>FTF_PREFER_SCALED</td><td>A scaled font is preferred over the equivalent fixed size font.</td></tr><tr><td>FTF_QUICK_ALIAS</td><td>Quick anti-aliasing is useful for games and can be enabled if the background is black.</td></tr><tr><td>FTF_REQUIRE_FIXED</td><td>A fixed size font is required and not a scalable font.</td></tr><tr><td>FTF_REQUIRE_SCALED</td><td>A scaled font is required and not a fixed size font.</td></tr><tr><td>FTF_SCALABLE</td><td>This is set if the font is scalable, otherwise assume fixed.</td></tr><tr><td>FTF_SMOOTH</td><td>Smooth the edges of scalable fonts.</td></tr></tbody></table><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div><div class="docs-content" style="display:none;" id="struct-FontList"><h1>FontList Structure</h1><p class="lead">For GetList(), describes a system font.</p><table class="table" style="border: 4px; margin-bottom: 0px; border: 0px; border-bottom: 0px;"><thead><tr><th class="col-md-1">Field</th><th class="col-md-1">Type</th><th>Description</th></tr></thead><tbody><tr><td>Next</td><td><span class="text-nowrap">struct FontList *</span></td><td>Pointer to the next entry in the list.</td></tr><tr><td>Name</td><td><span class="text-nowrap">STRING</span></td><td>The name of the font face.</td></tr><tr><td>Points</td><td><span class="text-nowrap">LONG *</span></td><td>Pointer to an array of fixed point sizes supported by the font.</td></tr><tr><td>Styles</td><td><span class="text-nowrap">STRING</span></td><td>Supported styles are listed here in CSV format.</td></tr><tr><td>Scalable</td><td><span class="text-nowrap">BYTE</span></td><td>TRUE if the font is scalable.</td></tr><tr><td>Reserved1</td><td><span class="text-nowrap">BYTE</span></td><td>Do not use.</td></tr><tr><td>Reserved2</td><td><span class="text-nowrap">WORD</span></td><td>Do not use.</td></tr></tbody></table><div class="footer copyright">Font module documentation © Paul Manias © 1998-2023</div></div></div><div class="col-sm-3"><div id="nav-tree"><h3>Font Module</h3><div class="panel-group" id="accordion"><div class="panel panel-info"><div class="panel-heading"><h4 class="panel-title"><span class="badge" style="display:inline-block; width:30px; background-color:#fff; color:#666">1</span>  <a data-toggle="collapse" data-parent="#accordion" href="#classes">Classes</a></h4></div><div id="classes" class="panel-collapse collapse"><div class="panel-body"><ul class="list-unstyled"><li><a href="classes/font.html">Font</a></li></ul></div></div></div><div class="panel panel-primary"><div class="panel-heading"><h4 class="panel-title"><span class="badge" style="display:inline-block; width:30px">10</span>  <a data-toggle="collapse" data-parent="#accordion" href="#Functions">Functions</a></h4></div><div id="Functions" class="panel-collapse collapse"><div class="panel-body"><ul class="list-unstyled"><li><a onclick="showPage('CharWidth');">CharWidth</a></li><li><a onclick="showPage('ConvertCoords');">ConvertCoords</a></li><li><a onclick="showPage('FreetypeHandle');">FreetypeHandle</a></li><li><a onclick="showPage('GetList');">GetList</a></li><li><a onclick="showPage('InstallFont');">InstallFont</a></li><li><a onclick="showPage('RemoveFont');">RemoveFont</a></li><li><a onclick="showPage('SelectFont');">SelectFont</a></li><li><a onclick="showPage('SetDefaultSize');">SetDefaultSize</a></li><li><a onclick="showPage('StringSize');">StringSize</a></li><li><a onclick="showPage('StringWidth');">StringWidth</a></li></ul></div></div></div><div class="panel panel-success"><div class="panel-heading"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#structures">Structures</a></h4></div><div id="structures" class="panel-collapse collapse"><div class="panel-body"><ul class="list-unstyled"><li><a onclick="showPage('struct-FontList');">FontList</a></li></ul></div></div></div></div></div></div></div></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script><script src="../js/bootstrap.min.js"></script><script src="../js/base.js"></script><script type="text/javascript">
var glCurrentMethod;

$(document).ready(function() {
   glCurrentMethod = document.getElementById("Introduction");

   var page = glParameters["page"];
   if (isEmpty(page)) page = glParameters["function"];

   if (isEmpty(page)) showPage("default-page", true);
   else showPage(page, true);

   window.onpopstate = popState;
});

function popState(event) {
   console.log("popState() to " + JSON.stringify(event.state));

   state = event.state
   if (!state) state = { page: 'default-page' }

   var div
   if (state.page) div = document.getElementById(state.page);
   else div =  document.getElementById('default-page');

   if (div) {
      if (glCurrentMethod) glCurrentMethod.style.display = "none"; // Hide previous method.
      div.style.display = "block"; // Show selected method.
      glCurrentMethod = div;
   }
   else console.log("Div for '" + state.page + "' not found.");
}

function showPage(Name, NoHistory)
{
   console.log('showPage() ' + Name);

   var div = document.getElementById(Name);
   if (div) {
      if (glCurrentMethod) glCurrentMethod.style.display = "none"; // Hide previous method.
      div.style.display = "block"; // Show selected method.
      glCurrentMethod = div;

      if (!NoHistory) {
         history.pushState({ page: Name }, null, "?page=" + Name);
      }
   }
   else console.log("Div for '" + Name + "' not found.");
}
         </script></body></html>
